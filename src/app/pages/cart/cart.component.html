<div class="relative max-w-lg mx-auto bg-white rounded-lg p-6 relative">
  <h1 class="text-xl font-bold mb-2">Tu pedido</h1>
  <h2 class="text-me text-gray-500 mb-4">Est√°s a un paso de disfrutar tu pedido</h2>

  <div class="flex flex-col gap-4 py-4">
    @if (loadingProducts) {
      @for (skeleton of [0,1,2]; track skeleton) {
        <div class="h-20 bg-gray-200 rounded animate-pulse"></div>
      }
    } @else {
      @for (product of products; track product) {
        <app-card-row (removeProductEvent)="removeProduct(product)" [product]="product"></app-card-row>
      }
    }
  </div>

  <app-back-button></app-back-button>

  @if (loadingProducts) {
    <div class="fixed left-4 w-full" [ngStyle]="getButtonStyles()">
      <div class="h-12 bg-gray-200 rounded animate-pulse"></div>
    </div>
  } @else if (products.length === 0) {
    <app-next-button [ngClass]="getButtonPositionClass()" class="fixed left-4 w-full" [action]="navigateToFrom" title="Ir al catalogo" subtitle="Tu carrito esta vacio!"></app-next-button>
  } @else {
    <app-next-button [ngClass]="getButtonPositionClass()" class="fixed left-4 w-full" [action]="navigateToCheckout" title="Ir al checkout" subtitle="Tu carrito esta listo!"></app-next-button>
  }

</div>
