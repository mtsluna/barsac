var Np=Object.defineProperty,Bp=Object.defineProperties;var Op=Object.getOwnPropertyDescriptors;var E3=Object.getOwnPropertySymbols,Pp=Object.getPrototypeOf,Fp=Object.prototype.hasOwnProperty,jp=Object.prototype.propertyIsEnumerable,Up=Reflect.get;var b3=(e,n,t)=>n in e?Np(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,z=(e,n)=>{for(var t in n||={})Fp.call(n,t)&&b3(e,t,n[t]);if(E3)for(var t of E3(n))jp.call(n,t)&&b3(e,t,n[t]);return e},L=(e,n)=>Bp(e,Op(n));var dn=(e,n,t)=>Up(Pp(e),t,n);var f=(e,n,t)=>new Promise((r,s)=>{var o=a=>{try{c(t.next(a))}catch(l){s(l)}},i=a=>{try{c(t.throw(a))}catch(l){s(l)}},c=a=>a.done?r(a.value):Promise.resolve(a.value).then(o,i);c((t=t.apply(e,n)).next())});function bc(e,n){return Object.is(e,n)}var A1=null,Yo=!1,Dc=1,ye=Symbol("SIGNAL");function U(e){let n=A1;return A1=e,n}function Vc(){return A1}var Zn={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function ls(e){if(Yo)throw new Error("");if(A1===null)return;A1.consumerOnSignalRead(e);let n=A1.nextProducerIndex++;if(e2(A1),n<A1.producerNode.length&&A1.producerNode[n]!==e&&as(A1)){let t=A1.producerNode[n];Xo(t,A1.producerIndexOfThis[n])}A1.producerNode[n]!==e&&(A1.producerNode[n]=e,A1.producerIndexOfThis[n]=as(A1)?V3(e,A1,n):0),A1.producerLastReadVersion[n]=e.version}function D3(){Dc++}function Ac(e){if(!(as(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===Dc)){if(!e.producerMustRecompute(e)&&!Jo(e)){Ec(e);return}e.producerRecomputeValue(e),Ec(e)}}function Lc(e){if(e.liveConsumerNode===void 0)return;let n=Yo;Yo=!0;try{for(let t of e.liveConsumerNode)t.dirty||$p(t)}finally{Yo=n}}function Hc(){return A1?.consumerAllowSignalWrites!==!1}function $p(e){e.dirty=!0,Lc(e),e.consumerMarkedDirty?.(e)}function Ec(e){e.dirty=!1,e.lastCleanEpoch=Dc}function hs(e){return e&&(e.nextProducerIndex=0),U(e)}function Qo(e,n){if(U(n),!(!e||e.producerNode===void 0||e.producerIndexOfThis===void 0||e.producerLastReadVersion===void 0)){if(as(e))for(let t=e.nextProducerIndex;t<e.producerNode.length;t++)Xo(e.producerNode[t],e.producerIndexOfThis[t]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function Jo(e){e2(e);for(let n=0;n<e.producerNode.length;n++){let t=e.producerNode[n],r=e.producerLastReadVersion[n];if(r!==t.version||(Ac(t),r!==t.version))return!0}return!1}function us(e){if(e2(e),as(e))for(let n=0;n<e.producerNode.length;n++)Xo(e.producerNode[n],e.producerIndexOfThis[n]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function V3(e,n,t){if(A3(e),e.liveConsumerNode.length===0&&L3(e))for(let r=0;r<e.producerNode.length;r++)e.producerIndexOfThis[r]=V3(e.producerNode[r],e,r);return e.liveConsumerIndexOfThis.push(t),e.liveConsumerNode.push(n)-1}function Xo(e,n){if(A3(e),e.liveConsumerNode.length===1&&L3(e))for(let r=0;r<e.producerNode.length;r++)Xo(e.producerNode[r],e.producerIndexOfThis[r]);let t=e.liveConsumerNode.length-1;if(e.liveConsumerNode[n]=e.liveConsumerNode[t],e.liveConsumerIndexOfThis[n]=e.liveConsumerIndexOfThis[t],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,n<e.liveConsumerNode.length){let r=e.liveConsumerIndexOfThis[n],s=e.liveConsumerNode[n];e2(s),s.producerIndexOfThis[r]=n}}function as(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function e2(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function A3(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function L3(e){return e.producerNode!==void 0}function Tc(e,n){let t=Object.create(Wp);t.computation=e,n!==void 0&&(t.equal=n);let r=()=>{if(Ac(t),ls(t),t.value===Ko)throw t.error;return t.value};return r[ye]=t,r}var Sc=Symbol("UNSET"),Ic=Symbol("COMPUTING"),Ko=Symbol("ERRORED"),Wp=L(z({},Zn),{value:Sc,dirty:!0,error:null,equal:bc,kind:"computed",producerMustRecompute(e){return e.value===Sc||e.value===Ic},producerRecomputeValue(e){if(e.value===Ic)throw new Error("Detected cycle in computations.");let n=e.value;e.value=Ic;let t=hs(e),r,s=!1;try{r=e.computation(),U(null),s=n!==Sc&&n!==Ko&&r!==Ko&&e.equal(n,r)}catch(o){r=Ko,e.error=o}finally{Qo(e,t)}if(s){e.value=n;return}e.value=r,e.version++}});function Gp(){throw new Error}var H3=Gp;function T3(e){H3(e)}function kc(e){H3=e}var qp=null;function Nc(e,n){let t=Object.create(t2);t.value=e,n!==void 0&&(t.equal=n);let r=()=>(ls(t),t.value);return r[ye]=t,r}function ds(e,n){Hc()||T3(e),e.equal(e.value,n)||(e.value=n,Zp(e))}function Bc(e,n){Hc()||T3(e),ds(e,n(e.value))}var t2=L(z({},Zn),{equal:bc,value:void 0,kind:"signal"});function Zp(e){e.version++,D3(),Lc(e),qp?.()}function Oc(e){let n=U(null);try{return e()}finally{U(n)}}var Pc;function ps(){return Pc}function mt(e){let n=Pc;return Pc=e,n}var n2=Symbol("NotFound");function F(e){return typeof e=="function"}function Yn(e){let t=e(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var r2=Yn(e=>function(t){e(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,s)=>`${s+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function pn(e,n){if(e){let t=e.indexOf(n);0<=t&&e.splice(t,1)}}var y1=class e{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(F(r))try{r()}catch(o){n=o instanceof r2?o.errors:[o]}let{_finalizers:s}=this;if(s){this._finalizers=null;for(let o of s)try{k3(o)}catch(i){n=n??[],i instanceof r2?n=[...n,...i.errors]:n.push(i)}}if(n)throw new r2(n)}}add(n){var t;if(n&&n!==this)if(this.closed)k3(n);else{if(n instanceof e){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(n)}}_hasParent(n){let{_parentage:t}=this;return t===n||Array.isArray(t)&&t.includes(n)}_addParent(n){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(n),t):t?[t,n]:n}_removeParent(n){let{_parentage:t}=this;t===n?this._parentage=null:Array.isArray(t)&&pn(t,n)}remove(n){let{_finalizers:t}=this;t&&pn(t,n),n instanceof e&&n._removeParent(this)}};y1.EMPTY=(()=>{let e=new y1;return e.closed=!0,e})();var Fc=y1.EMPTY;function s2(e){return e instanceof y1||e&&"closed"in e&&F(e.remove)&&F(e.add)&&F(e.unsubscribe)}function k3(e){F(e)?e():e.unsubscribe()}var Te={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Kn={setTimeout(e,n,...t){let{delegate:r}=Kn;return r?.setTimeout?r.setTimeout(e,n,...t):setTimeout(e,n,...t)},clearTimeout(e){let{delegate:n}=Kn;return(n?.clearTimeout||clearTimeout)(e)},delegate:void 0};function o2(e){Kn.setTimeout(()=>{let{onUnhandledError:n}=Te;if(n)n(e);else throw e})}function vs(){}var N3=jc("C",void 0,void 0);function B3(e){return jc("E",void 0,e)}function O3(e){return jc("N",e,void 0)}function jc(e,n,t){return{kind:e,value:n,error:t}}var vn=null;function Qn(e){if(Te.useDeprecatedSynchronousErrorHandling){let n=!vn;if(n&&(vn={errorThrown:!1,error:null}),e(),n){let{errorThrown:t,error:r}=vn;if(vn=null,t)throw r}}else e()}function P3(e){Te.useDeprecatedSynchronousErrorHandling&&vn&&(vn.errorThrown=!0,vn.error=e)}var gn=class extends y1{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,s2(n)&&n.add(this)):this.destination=ev}static create(n,t,r){return new Ot(n,t,r)}next(n){this.isStopped?$c(O3(n),this):this._next(n)}error(n){this.isStopped?$c(B3(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?$c(N3,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},Jp=Function.prototype.bind;function Uc(e,n){return Jp.call(e,n)}var Wc=class{constructor(n){this.partialObserver=n}next(n){let{partialObserver:t}=this;if(t.next)try{t.next(n)}catch(r){i2(r)}}error(n){let{partialObserver:t}=this;if(t.error)try{t.error(n)}catch(r){i2(r)}else i2(n)}complete(){let{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(t){i2(t)}}},Ot=class extends gn{constructor(n,t,r){super();let s;if(F(n)||!n)s={next:n??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&Te.useDeprecatedNextContext?(o=Object.create(n),o.unsubscribe=()=>this.unsubscribe(),s={next:n.next&&Uc(n.next,o),error:n.error&&Uc(n.error,o),complete:n.complete&&Uc(n.complete,o)}):s=n}this.destination=new Wc(s)}};function i2(e){Te.useDeprecatedSynchronousErrorHandling?P3(e):o2(e)}function Xp(e){throw e}function $c(e,n){let{onStoppedNotification:t}=Te;t&&Kn.setTimeout(()=>t(e,n))}var ev={closed:!0,next:vs,error:Xp,complete:vs};var Jn=typeof Symbol=="function"&&Symbol.observable||"@@observable";function K1(e){return e}function Gc(...e){return qc(e)}function qc(e){return e.length===0?K1:e.length===1?e[0]:function(t){return e.reduce((r,s)=>s(r),t)}}var e1=(()=>{class e{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new e;return r.source=this,r.operator=t,r}subscribe(t,r,s){let o=nv(t)?t:new Ot(t,r,s);return Qn(()=>{let{operator:i,source:c}=this;o.add(i?i.call(o,c):c?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=F3(r),new r((s,o)=>{let i=new Ot({next:c=>{try{t(c)}catch(a){o(a),i.unsubscribe()}},error:o,complete:s});this.subscribe(i)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[Jn](){return this}pipe(...t){return qc(t)(this)}toPromise(t){return t=F3(t),new t((r,s)=>{let o;this.subscribe(i=>o=i,i=>s(i),()=>r(o))})}}return e.create=n=>new e(n),e})();function F3(e){var n;return(n=e??Te.Promise)!==null&&n!==void 0?n:Promise}function tv(e){return e&&F(e.next)&&F(e.error)&&F(e.complete)}function nv(e){return e&&e instanceof gn||tv(e)&&s2(e)}function Zc(e){return F(e?.lift)}function Q(e){return n=>{if(Zc(n))return n.lift(function(t){try{return e(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Y(e,n,t,r,s){return new Yc(e,n,t,r,s)}var Yc=class extends gn{constructor(n,t,r,s,o,i){super(n),this.onFinalize=o,this.shouldUnsubscribe=i,this._next=t?function(c){try{t(c)}catch(a){n.error(a)}}:super._next,this._error=s?function(c){try{s(c)}catch(a){n.error(a)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(c){n.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((n=this.onFinalize)===null||n===void 0||n.call(this))}}};function Xn(){return Q((e,n)=>{let t=null;e._refCount++;let r=Y(n,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount){t=null;return}let s=e._connection,o=t;t=null,s&&(!o||s===o)&&s.unsubscribe(),n.unsubscribe()});e.subscribe(r),r.closed||(t=e.connect())})}var er=class extends e1{constructor(n,t){super(),this.source=n,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Zc(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){let n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:n}=this;this._subject=this._connection=null,n?.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new y1;let t=this.getSubject();n.add(this.source.subscribe(Y(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),n.closed&&(this._connection=null,n=y1.EMPTY)}return n}refCount(){return Xn()(this)}};var j3=Yn(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var _1=(()=>{class e extends e1{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new c2(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new j3}next(t){Qn(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){Qn(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Qn(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:s,observers:o}=this;return r||s?Fc:(this.currentObservers=null,o.push(t),new y1(()=>{this.currentObservers=null,pn(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:s,isStopped:o}=this;r?t.error(s):o&&t.complete()}asObservable(){let t=new e1;return t.source=this,t}}return e.create=(n,t)=>new c2(n,t),e})(),c2=class extends _1{constructor(n,t){super(),this.destination=n,this.source=t}next(n){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,n)}error(n){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,n)}complete(){var n,t;(t=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||t===void 0||t.call(n)}_subscribe(n){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(n))!==null&&r!==void 0?r:Fc}};var m1=class extends _1{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){let t=super._subscribe(n);return!t.closed&&n.next(this._value),t}getValue(){let{hasError:n,thrownError:t,_value:r}=this;if(n)throw t;return this._throwIfClosed(),r}next(n){super.next(this._value=n)}};var Kc={now(){return(Kc.delegate||Date).now()},delegate:void 0};var a2=class extends y1{constructor(n,t){super()}schedule(n,t=0){return this}};var gs={setInterval(e,n,...t){let{delegate:r}=gs;return r?.setInterval?r.setInterval(e,n,...t):setInterval(e,n,...t)},clearInterval(e){let{delegate:n}=gs;return(n?.clearInterval||clearInterval)(e)},delegate:void 0};var l2=class extends a2{constructor(n,t){super(n,t),this.scheduler=n,this.work=t,this.pending=!1}schedule(n,t=0){var r;if(this.closed)return this;this.state=n;let s=this.id,o=this.scheduler;return s!=null&&(this.id=this.recycleAsyncId(o,s,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(n,t,r=0){return gs.setInterval(n.flush.bind(n,this),r)}recycleAsyncId(n,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&gs.clearInterval(t)}execute(n,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(n,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(n,t){let r=!1,s;try{this.work(n)}catch(o){r=!0,s=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),s}unsubscribe(){if(!this.closed){let{id:n,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,pn(r,this),n!=null&&(this.id=this.recycleAsyncId(t,n,null)),this.delay=null,super.unsubscribe()}}};var tr=class e{constructor(n,t=e.now){this.schedulerActionCtor=n,this.now=t}schedule(n,t=0,r){return new this.schedulerActionCtor(this,n).schedule(r,t)}};tr.now=Kc.now;var h2=class extends tr{constructor(n,t=tr.now){super(n,t),this.actions=[],this._active=!1}flush(n){let{actions:t}=this;if(this._active){t.push(n);return}let r;this._active=!0;do if(r=n.execute(n.state,n.delay))break;while(n=t.shift());if(this._active=!1,r){for(;n=t.shift();)n.unsubscribe();throw r}}};var U3=new h2(l2);var se=new e1(e=>e.complete());function $3(e){return e&&F(e.schedule)}function W3(e){return e[e.length-1]}function u2(e){return F(W3(e))?e.pop():void 0}function Pt(e){return $3(W3(e))?e.pop():void 0}function d2(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)n.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(t[r[s]]=e[r[s]]);return t}function q3(e,n,t,r){function s(o){return o instanceof t?o:new t(function(i){i(o)})}return new(t||(t=Promise))(function(o,i){function c(h){try{l(r.next(h))}catch(d){i(d)}}function a(h){try{l(r.throw(h))}catch(d){i(d)}}function l(h){h.done?o(h.value):s(h.value).then(c,a)}l((r=r.apply(e,n||[])).next())})}function G3(e){var n=typeof Symbol=="function"&&Symbol.iterator,t=n&&e[n],r=0;if(t)return t.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function fn(e){return this instanceof fn?(this.v=e,this):new fn(e)}function Z3(e,n,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(e,n||[]),s,o=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",i),s[Symbol.asyncIterator]=function(){return this},s;function i(v){return function(u){return Promise.resolve(u).then(v,d)}}function c(v,u){r[v]&&(s[v]=function(M){return new Promise(function(S,V){o.push([v,M,S,V])>1||a(v,M)})},u&&(s[v]=u(s[v])))}function a(v,u){try{l(r[v](u))}catch(M){g(o[0][3],M)}}function l(v){v.value instanceof fn?Promise.resolve(v.value.v).then(h,d):g(o[0][2],v)}function h(v){a("next",v)}function d(v){a("throw",v)}function g(v,u){v(u),o.shift(),o.length&&a(o[0][0],o[0][1])}}function Y3(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=e[Symbol.asyncIterator],t;return n?n.call(e):(e=typeof G3=="function"?G3(e):e[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=e[o]&&function(i){return new Promise(function(c,a){i=e[o](i),s(c,a,i.done,i.value)})}}function s(o,i,c,a){Promise.resolve(a).then(function(l){o({value:l,done:c})},i)}}var p2=e=>e&&typeof e.length=="number"&&typeof e!="function";function v2(e){return F(e?.then)}function g2(e){return F(e[Jn])}function f2(e){return Symbol.asyncIterator&&F(e?.[Symbol.asyncIterator])}function m2(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function rv(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var w2=rv();function C2(e){return F(e?.[w2])}function M2(e){return Z3(this,arguments,function*(){let t=e.getReader();try{for(;;){let{value:r,done:s}=yield fn(t.read());if(s)return yield fn(void 0);yield yield fn(r)}}finally{t.releaseLock()}})}function z2(e){return F(e?.getReader)}function b1(e){if(e instanceof e1)return e;if(e!=null){if(g2(e))return sv(e);if(p2(e))return ov(e);if(v2(e))return iv(e);if(f2(e))return K3(e);if(C2(e))return cv(e);if(z2(e))return av(e)}throw m2(e)}function sv(e){return new e1(n=>{let t=e[Jn]();if(F(t.subscribe))return t.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function ov(e){return new e1(n=>{for(let t=0;t<e.length&&!n.closed;t++)n.next(e[t]);n.complete()})}function iv(e){return new e1(n=>{e.then(t=>{n.closed||(n.next(t),n.complete())},t=>n.error(t)).then(null,o2)})}function cv(e){return new e1(n=>{for(let t of e)if(n.next(t),n.closed)return;n.complete()})}function K3(e){return new e1(n=>{lv(e,n).catch(t=>n.error(t))})}function av(e){return K3(M2(e))}function lv(e,n){var t,r,s,o;return q3(this,void 0,void 0,function*(){try{for(t=Y3(e);r=yield t.next(),!r.done;){let i=r.value;if(n.next(i),n.closed)return}}catch(i){s={error:i}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(s)throw s.error}}n.complete()})}function oe(e,n,t,r=0,s=!1){let o=n.schedule(function(){t(),s?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(o),!s)return o}function y2(e,n=0){return Q((t,r)=>{t.subscribe(Y(r,s=>oe(r,e,()=>r.next(s),n),()=>oe(r,e,()=>r.complete(),n),s=>oe(r,e,()=>r.error(s),n)))})}function x2(e,n=0){return Q((t,r)=>{r.add(e.schedule(()=>t.subscribe(r),n))})}function Q3(e,n){return b1(e).pipe(x2(n),y2(n))}function J3(e,n){return b1(e).pipe(x2(n),y2(n))}function X3(e,n){return new e1(t=>{let r=0;return n.schedule(function(){r===e.length?t.complete():(t.next(e[r++]),t.closed||this.schedule())})})}function e9(e,n){return new e1(t=>{let r;return oe(t,n,()=>{r=e[w2](),oe(t,n,()=>{let s,o;try{({value:s,done:o}=r.next())}catch(i){t.error(i);return}o?t.complete():t.next(s)},0,!0)}),()=>F(r?.return)&&r.return()})}function _2(e,n){if(!e)throw new Error("Iterable cannot be null");return new e1(t=>{oe(t,n,()=>{let r=e[Symbol.asyncIterator]();oe(t,n,()=>{r.next().then(s=>{s.done?t.complete():t.next(s.value)})},0,!0)})})}function t9(e,n){return _2(M2(e),n)}function n9(e,n){if(e!=null){if(g2(e))return Q3(e,n);if(p2(e))return X3(e,n);if(v2(e))return J3(e,n);if(f2(e))return _2(e,n);if(C2(e))return e9(e,n);if(z2(e))return t9(e,n)}throw m2(e)}function w1(e,n){return n?n9(e,n):b1(e)}function N(...e){let n=Pt(e);return w1(e,n)}function nr(e,n){let t=F(e)?e:()=>e,r=s=>s.error(t());return new e1(n?s=>n.schedule(r,0,s):r)}function fs(e){return!!e&&(e instanceof e1||F(e.lift)&&F(e.subscribe))}var ke=Yn(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function f1(e,n){let t=typeof n=="object";return new Promise((r,s)=>{let o=new Ot({next:i=>{r(i),o.unsubscribe()},error:s,complete:()=>{t?r(n.defaultValue):s(new ke)}});e.subscribe(o)})}function W(e,n){return Q((t,r)=>{let s=0;t.subscribe(Y(r,o=>{r.next(e.call(n,o,s++))}))})}var{isArray:hv}=Array;function uv(e,n){return hv(n)?e(...n):e(n)}function R2(e){return W(n=>uv(e,n))}var{isArray:dv}=Array,{getPrototypeOf:pv,prototype:vv,keys:gv}=Object;function S2(e){if(e.length===1){let n=e[0];if(dv(n))return{args:n,keys:null};if(fv(n)){let t=gv(n);return{args:t.map(r=>n[r]),keys:t}}}return{args:e,keys:null}}function fv(e){return e&&typeof e=="object"&&pv(e)===vv}function I2(e,n){return e.reduce((t,r,s)=>(t[r]=n[s],t),{})}function ms(...e){let n=Pt(e),t=u2(e),{args:r,keys:s}=S2(e);if(r.length===0)return w1([],n);let o=new e1(mv(r,n,s?i=>I2(s,i):K1));return t?o.pipe(R2(t)):o}function mv(e,n,t=K1){return r=>{r9(n,()=>{let{length:s}=e,o=new Array(s),i=s,c=s;for(let a=0;a<s;a++)r9(n,()=>{let l=w1(e[a],n),h=!1;l.subscribe(Y(r,d=>{o[a]=d,h||(h=!0,c--),c||r.next(t(o.slice()))},()=>{--i||r.complete()}))},r)},r)}}function r9(e,n,t){e?oe(t,e,n):n()}function s9(e,n,t,r,s,o,i,c){let a=[],l=0,h=0,d=!1,g=()=>{d&&!a.length&&!l&&n.complete()},v=M=>l<r?u(M):a.push(M),u=M=>{o&&n.next(M),l++;let S=!1;b1(t(M,h++)).subscribe(Y(n,V=>{s?.(V),o?v(V):n.next(V)},()=>{S=!0},void 0,()=>{if(S)try{for(l--;a.length&&l<r;){let V=a.shift();i?oe(n,i,()=>u(V)):u(V)}g()}catch(V){n.error(V)}}))};return e.subscribe(Y(n,v,()=>{d=!0,g()})),()=>{c?.()}}function L1(e,n,t=1/0){return F(n)?L1((r,s)=>W((o,i)=>n(r,o,s,i))(b1(e(r,s))),t):(typeof n=="number"&&(t=n),Q((r,s)=>s9(r,s,e,t)))}function o9(e=1/0){return L1(K1,e)}function i9(){return o9(1)}function rr(...e){return i9()(w1(e,Pt(e)))}function E2(e){return new e1(n=>{b1(e()).subscribe(n)})}function Qc(...e){let n=u2(e),{args:t,keys:r}=S2(e),s=new e1(o=>{let{length:i}=t;if(!i){o.complete();return}let c=new Array(i),a=i,l=i;for(let h=0;h<i;h++){let d=!1;b1(t[h]).subscribe(Y(o,g=>{d||(d=!0,l--),c[h]=g},()=>a--,void 0,()=>{(!a||!d)&&(l||o.next(r?I2(r,c):c),o.complete())}))}});return n?s.pipe(R2(n)):s}function fe(e,n){return Q((t,r)=>{let s=0;t.subscribe(Y(r,o=>e.call(n,o,s++)&&r.next(o)))})}function Ft(e){return Q((n,t)=>{let r=null,s=!1,o;r=n.subscribe(Y(t,void 0,void 0,i=>{o=b1(e(i,Ft(e)(n))),r?(r.unsubscribe(),r=null,o.subscribe(t)):s=!0})),s&&(r.unsubscribe(),r=null,o.subscribe(t))})}function c9(e,n,t,r,s){return(o,i)=>{let c=t,a=n,l=0;o.subscribe(Y(i,h=>{let d=l++;a=c?e(a,h,d):(c=!0,h),r&&i.next(a)},s&&(()=>{c&&i.next(a),i.complete()})))}}function jt(e,n){return F(n)?L1(e,n,1):L1(e,1)}function Jc(e,n=U3){return Q((t,r)=>{let s=null,o=null,i=null,c=()=>{if(s){s.unsubscribe(),s=null;let l=o;o=null,r.next(l)}};function a(){let l=i+e,h=n.now();if(h<l){s=this.schedule(void 0,l-h),r.add(s);return}c()}t.subscribe(Y(r,l=>{o=l,i=n.now(),s||(s=n.schedule(a,e),r.add(s))},()=>{c(),r.complete()},void 0,()=>{o=s=null}))})}function Ut(e){return Q((n,t)=>{let r=!1;n.subscribe(Y(t,s=>{r=!0,t.next(s)},()=>{r||t.next(e),t.complete()}))})}function xe(e){return e<=0?()=>se:Q((n,t)=>{let r=0;n.subscribe(Y(t,s=>{++r<=e&&(t.next(s),e<=r&&t.complete())}))})}function Xc(e,n=K1){return e=e??wv,Q((t,r)=>{let s,o=!0;t.subscribe(Y(r,i=>{let c=n(i);(o||!e(s,c))&&(o=!1,s=c,r.next(i))}))})}function wv(e,n){return e===n}function b2(e=Cv){return Q((n,t)=>{let r=!1;n.subscribe(Y(t,s=>{r=!0,t.next(s)},()=>r?t.complete():t.error(e())))})}function Cv(){return new ke}function Ge(e){return Q((n,t)=>{try{n.subscribe(t)}finally{t.add(e)}})}function wt(e,n){let t=arguments.length>=2;return r=>r.pipe(e?fe((s,o)=>e(s,o,r)):K1,xe(1),t?Ut(n):b2(()=>new ke))}function sr(e){return e<=0?()=>se:Q((n,t)=>{let r=[];n.subscribe(Y(t,s=>{r.push(s),e<r.length&&r.shift()},()=>{for(let s of r)t.next(s);t.complete()},void 0,()=>{r=null}))})}function e0(e,n){let t=arguments.length>=2;return r=>r.pipe(e?fe((s,o)=>e(s,o,r)):K1,sr(1),t?Ut(n):b2(()=>new ke))}function t0(e,n){return Q(c9(e,n,arguments.length>=2,!0))}function n0(...e){let n=Pt(e);return Q((t,r)=>{(n?rr(e,t,n):rr(e,t)).subscribe(r)})}function Q1(e,n){return Q((t,r)=>{let s=null,o=0,i=!1,c=()=>i&&!s&&r.complete();t.subscribe(Y(r,a=>{s?.unsubscribe();let l=0,h=o++;b1(e(a,h)).subscribe(s=Y(r,d=>r.next(n?n(a,d,h,l++):d),()=>{s=null,c()}))},()=>{i=!0,c()}))})}function or(e){return Q((n,t)=>{b1(e).subscribe(Y(t,()=>t.complete(),vs)),!t.closed&&n.subscribe(t)})}function F1(e,n,t){let r=F(e)||n||t?{next:e,error:n,complete:t}:e;return r?Q((s,o)=>{var i;(i=r.subscribe)===null||i===void 0||i.call(r);let c=!0;s.subscribe(Y(o,a=>{var l;(l=r.next)===null||l===void 0||l.call(r,a),o.next(a)},()=>{var a;c=!1,(a=r.complete)===null||a===void 0||a.call(r),o.complete()},a=>{var l;c=!1,(l=r.error)===null||l===void 0||l.call(r,a),o.error(a)},()=>{var a,l;c&&((a=r.unsubscribe)===null||a===void 0||a.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):K1}var G9="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",E=class extends Error{code;constructor(n,t){super(pa(n,t)),this.code=n}};function Mv(e){return`NG0${Math.abs(e)}`}function pa(e,n){return`${Mv(e)}${n?": "+n:""}`}var q9=Symbol("InputSignalNode#UNSET"),zv=L(z({},t2),{transformFn:void 0,applyValueToInputSignal(e,n){ds(e,n)}});function Z9(e,n){let t=Object.create(zv);t.value=e,t.transformFn=n?.transform;function r(){if(ls(t),t.value===q9){let s=null;throw new E(-950,s)}return t.value}return r[ye]=t,r}function li(e){return{toString:e}.toString()}var Cs=globalThis;function d1(e){for(let n in e)if(e[n]===d1)return n;throw Error("Could not find renamed property on target object.")}function yv(e,n){for(let t in n)n.hasOwnProperty(t)&&!e.hasOwnProperty(t)&&(e[t]=n[t])}function ce(e){if(typeof e=="string")return e;if(Array.isArray(e))return`[${e.map(ce).join(", ")}]`;if(e==null)return""+e;let n=e.overriddenName||e.name;if(n)return`${n}`;let t=e.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function a9(e,n){return e?n?`${e} ${n}`:e:n||""}var xv=d1({__forward_ref__:d1});function Xe(e){return e.__forward_ref__=Xe,e.toString=function(){return ce(this())},e}function J1(e){return Y9(e)?e():e}function Y9(e){return typeof e=="function"&&e.hasOwnProperty(xv)&&e.__forward_ref__===Xe}function I(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Se(e){return{providers:e.providers||[],imports:e.imports||[]}}function hi(e){return l9(e,Q9)||l9(e,J9)}function K9(e){return hi(e)!==null}function l9(e,n){return e.hasOwnProperty(n)?e[n]:null}function _v(e){let n=e&&(e[Q9]||e[J9]);return n||null}function h9(e){return e&&(e.hasOwnProperty(u9)||e.hasOwnProperty(Rv))?e[u9]:null}var Q9=d1({\u0275prov:d1}),u9=d1({\u0275inj:d1}),J9=d1({ngInjectableDef:d1}),Rv=d1({ngInjectorDef:d1}),R=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(n,t){this._desc=n,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=I({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function X9(e){return e&&!!e.\u0275providers}var Sv=d1({\u0275cmp:d1}),Iv=d1({\u0275dir:d1}),Ev=d1({\u0275pipe:d1}),bv=d1({\u0275mod:d1}),N2=d1({\u0275fac:d1}),ys=d1({__NG_ELEMENT_ID__:d1}),d9=d1({__NG_ENV_ID__:d1});function va(e){return typeof e=="string"?e:e==null?"":String(e)}function Dv(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():va(e)}function eh(e,n){throw new E(-200,e)}function ga(e,n){throw new E(-201,!1)}var G=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(G||{}),C0;function th(){return C0}function ie(e){let n=C0;return C0=e,n}function nh(e,n,t){let r=hi(e);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&G.Optional)return null;if(n!==void 0)return n;ga(e,"Injector")}var Vv={},wn=Vv,Av="__NG_DI_FLAG__",B2=class{injector;constructor(n){this.injector=n}retrieve(n,t){let r=t;return this.injector.get(n,r.optional?n2:wn,r)}},O2="ngTempTokenPath",Lv="ngTokenPath",Hv=/\n/gm,Tv="\u0275",p9="__source";function kv(e,n=G.Default){if(ps()===void 0)throw new E(-203,!1);if(ps()===null)return nh(e,void 0,n);{let t=ps(),r;return t instanceof B2?r=t.injector:r=t,r.get(e,n&G.Optional?null:void 0,n)}}function H(e,n=G.Default){return(th()||kv)(J1(e),n)}function m(e,n=G.Default){return H(e,ui(n))}function ui(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function M0(e){let n=[];for(let t=0;t<e.length;t++){let r=J1(e[t]);if(Array.isArray(r)){if(r.length===0)throw new E(900,!1);let s,o=G.Default;for(let i=0;i<r.length;i++){let c=r[i],a=Nv(c);typeof a=="number"?a===-1?s=c.token:o|=a:s=c}n.push(H(s,o))}else n.push(H(r))}return n}function Nv(e){return e[Av]}function Bv(e,n,t,r){let s=e[O2];throw n[p9]&&s.unshift(n[p9]),e.message=Ov(`
`+e.message,s,t,r),e[Lv]=s,e[O2]=null,e}function Ov(e,n,t,r=null){e=e&&e.charAt(0)===`
`&&e.charAt(1)==Tv?e.slice(2):e;let s=ce(n);if(Array.isArray(n))s=n.map(ce).join(" -> ");else if(typeof n=="object"){let o=[];for(let i in n)if(n.hasOwnProperty(i)){let c=n[i];o.push(i+":"+(typeof c=="string"?JSON.stringify(c):ce(c)))}s=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${s}]: ${e.replace(Hv,`
  `)}`}function Mn(e,n){let t=e.hasOwnProperty(N2);return t?e[N2]:null}function Pv(e,n,t){if(e.length!==n.length)return!1;for(let r=0;r<e.length;r++){let s=e[r],o=n[r];if(t&&(s=t(s),o=t(o)),o!==s)return!1}return!0}function Fv(e){return e.flat(Number.POSITIVE_INFINITY)}function fa(e,n){e.forEach(t=>Array.isArray(t)?fa(t,n):n(t))}function rh(e,n,t){n>=e.length?e.push(t):e.splice(n,0,t)}function P2(e,n){return n>=e.length-1?e.pop():e.splice(n,1)[0]}function jv(e,n){let t=[];for(let r=0;r<e;r++)t.push(n);return t}function Uv(e,n,t,r){let s=e.length;if(s==n)e.push(t,r);else if(s===1)e.push(r,e[0]),e[0]=t;else{for(s--,e.push(e[s-1],e[s]);s>n;){let o=s-2;e[s]=e[o],s--}e[n]=t,e[n+1]=r}}function $v(e,n,t){let r=Hs(e,n);return r>=0?e[r|1]=t:(r=~r,Uv(e,r,n,t)),r}function r0(e,n){let t=Hs(e,n);if(t>=0)return e[t|1]}function Hs(e,n){return Wv(e,n,1)}function Wv(e,n,t){let r=0,s=e.length>>t;for(;s!==r;){let o=r+(s-r>>1),i=e[o<<t];if(n===i)return o<<t;i>n?s=o:r=o+1}return~(s<<t)}var zn={},_e=[],xs=new R(""),sh=new R("",-1),oh=new R(""),F2=class{get(n,t=wn){if(t===wn){let r=new Error(`NullInjectorError: No provider for ${ce(n)}!`);throw r.name="NullInjectorError",r}return t}};function ih(e,n){let t=e[bv]||null;if(!t&&n===!0)throw new Error(`Type ${ce(e)} does not have '\u0275mod' property.`);return t}function hr(e){return e[Sv]||null}function Gv(e){return e[Iv]||null}function qv(e){return e[Ev]||null}function zr(e){return{\u0275providers:e}}function Zv(...e){return{\u0275providers:ch(!0,e),\u0275fromNgModule:!0}}function ch(e,...n){let t=[],r=new Set,s,o=i=>{t.push(i)};return fa(n,i=>{let c=i;z0(c,o,[],r)&&(s||=[],s.push(c))}),s!==void 0&&ah(s,o),t}function ah(e,n){for(let t=0;t<e.length;t++){let{ngModule:r,providers:s}=e[t];ma(s,o=>{n(o,r)})}}function z0(e,n,t,r){if(e=J1(e),!e)return!1;let s=null,o=h9(e),i=!o&&hr(e);if(!o&&!i){let a=e.ngModule;if(o=h9(a),o)s=a;else return!1}else{if(i&&!i.standalone)return!1;s=e}let c=r.has(s);if(i){if(c)return!1;if(r.add(s),i.dependencies){let a=typeof i.dependencies=="function"?i.dependencies():i.dependencies;for(let l of a)z0(l,n,t,r)}}else if(o){if(o.imports!=null&&!c){r.add(s);let l;try{fa(o.imports,h=>{z0(h,n,t,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&ah(l,n)}if(!c){let l=Mn(s)||(()=>new s);n({provide:s,useFactory:l,deps:_e},s),n({provide:oh,useValue:s,multi:!0},s),n({provide:xs,useValue:()=>H(s),multi:!0},s)}let a=o.providers;if(a!=null&&!c){let l=e;ma(a,h=>{n(h,l)})}}else return!1;return s!==e&&e.providers!==void 0}function ma(e,n){for(let t of e)X9(t)&&(t=t.\u0275providers),Array.isArray(t)?ma(t,n):n(t)}var Yv=d1({provide:String,useValue:d1});function lh(e){return e!==null&&typeof e=="object"&&Yv in e}function Kv(e){return!!(e&&e.useExisting)}function Qv(e){return!!(e&&e.useFactory)}function ur(e){return typeof e=="function"}function Jv(e){return!!e.useClass}var di=new R(""),V2={},v9={},s0;function wa(){return s0===void 0&&(s0=new F2),s0}var ae=class{},_s=class extends ae{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(n,t,r,s){super(),this.parent=t,this.source=r,this.scopes=s,x0(n,i=>this.processProvider(i)),this.records.set(sh,ir(void 0,this)),s.has("environment")&&this.records.set(ae,ir(void 0,this));let o=this.records.get(di);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(oh,_e,G.Self))}retrieve(n,t){let r=t;return this.get(n,r.optional?n2:wn,r)}destroy(){Ms(this),this._destroyed=!0;let n=U(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),U(n)}}onDestroy(n){return Ms(this),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){Ms(this);let t=mt(this),r=ie(void 0),s;try{return n()}finally{mt(t),ie(r)}}get(n,t=wn,r=G.Default){if(Ms(this),n.hasOwnProperty(d9))return n[d9](this);r=ui(r);let s,o=mt(this),i=ie(void 0);try{if(!(r&G.SkipSelf)){let a=this.records.get(n);if(a===void 0){let l=rg(n)&&hi(n);l&&this.injectableDefInScope(l)?a=ir(y0(n),V2):a=null,this.records.set(n,a)}if(a!=null)return this.hydrate(n,a,r)}let c=r&G.Self?wa():this.parent;return t=r&G.Optional&&t===wn?null:t,c.get(n,t)}catch(c){if(c.name==="NullInjectorError"){if((c[O2]=c[O2]||[]).unshift(ce(n)),o)throw c;return Bv(c,n,"R3InjectorError",this.source)}else throw c}finally{ie(i),mt(o)}}resolveInjectorInitializers(){let n=U(null),t=mt(this),r=ie(void 0),s;try{let o=this.get(xs,_e,G.Self);for(let i of o)i()}finally{mt(t),ie(r),U(n)}}toString(){let n=[],t=this.records;for(let r of t.keys())n.push(ce(r));return`R3Injector[${n.join(", ")}]`}processProvider(n){n=J1(n);let t=ur(n)?n:J1(n&&n.provide),r=eg(n);if(!ur(n)&&n.multi===!0){let s=this.records.get(t);s||(s=ir(void 0,V2,!0),s.factory=()=>M0(s.multi),this.records.set(t,s)),t=n,s.multi.push(n)}this.records.set(t,r)}hydrate(n,t,r){let s=U(null);try{return t.value===v9?eh(ce(n)):t.value===V2&&(t.value=v9,t.value=t.factory(void 0,r)),typeof t.value=="object"&&t.value&&ng(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{U(s)}}injectableDefInScope(n){if(!n.providedIn)return!1;let t=J1(n.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(n){let t=this._onDestroyHooks.indexOf(n);t!==-1&&this._onDestroyHooks.splice(t,1)}};function y0(e){let n=hi(e),t=n!==null?n.factory:Mn(e);if(t!==null)return t;if(e instanceof R)throw new E(204,!1);if(e instanceof Function)return Xv(e);throw new E(204,!1)}function Xv(e){if(e.length>0)throw new E(204,!1);let t=_v(e);return t!==null?()=>t.factory(e):()=>new e}function eg(e){if(lh(e))return ir(void 0,e.useValue);{let n=hh(e);return ir(n,V2)}}function hh(e,n,t){let r;if(ur(e)){let s=J1(e);return Mn(s)||y0(s)}else if(lh(e))r=()=>J1(e.useValue);else if(Qv(e))r=()=>e.useFactory(...M0(e.deps||[]));else if(Kv(e))r=(s,o)=>H(J1(e.useExisting),o!==void 0&&o&G.Optional?G.Optional:void 0);else{let s=J1(e&&(e.useClass||e.provide));if(tg(e))r=()=>new s(...M0(e.deps));else return Mn(s)||y0(s)}return r}function Ms(e){if(e.destroyed)throw new E(205,!1)}function ir(e,n,t=!1){return{factory:e,value:n,multi:t?[]:void 0}}function tg(e){return!!e.deps}function ng(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function rg(e){return typeof e=="function"||typeof e=="object"&&e instanceof R}function x0(e,n){for(let t of e)Array.isArray(t)?x0(t,n):t&&X9(t)?x0(t.\u0275providers,n):n(t)}function ee(e,n){let t;e instanceof _s?(Ms(e),t=e):t=new B2(e);let r,s=mt(t),o=ie(void 0);try{return n()}finally{mt(s),ie(o)}}function uh(){return th()!==void 0||ps()!=null}function Ca(e){if(!uh())throw new E(-203,!1)}function sg(e){return typeof e=="function"}var yt=0,j=1,P=2,q1=3,Be=4,le=5,dr=6,j2=7,H1=8,yn=9,Ct=10,D1=11,Rs=12,g9=13,yr=14,me=15,xn=16,cr=17,Mt=18,pi=19,dh=20,$t=21,o0=22,_n=23,Re=24,i0=25,Z1=26,ph=1;var Rn=7,U2=8,pr=9,G1=10;function Wt(e){return Array.isArray(e)&&typeof e[ph]=="object"}function xt(e){return Array.isArray(e)&&e[ph]===!0}function vh(e){return(e.flags&4)!==0}function xr(e){return e.componentOffset>-1}function Ma(e){return(e.flags&1)===1}function Ze(e){return!!e.template}function $2(e){return(e[P]&512)!==0}function _r(e){return(e[P]&256)===256}var _0=class{previousValue;currentValue;firstChange;constructor(n,t,r){this.previousValue=n,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function gh(e,n,t,r){n!==null?n.applyValueToInputSignal(n,r):e[t]=r}var te=(()=>{let e=()=>fh;return e.ngInherit=!0,e})();function fh(e){return e.type.prototype.ngOnChanges&&(e.setInput=ig),og}function og(){let e=wh(this),n=e?.current;if(n){let t=e.previous;if(t===zn)e.previous=n;else for(let r in n)t[r]=n[r];e.current=null,this.ngOnChanges(n)}}function ig(e,n,t,r,s){let o=this.declaredInputs[r],i=wh(e)||cg(e,{previous:zn,current:null}),c=i.current||(i.current={}),a=i.previous,l=a[o];c[o]=new _0(l&&l.currentValue,t,a===zn),gh(e,n,s,t)}var mh="__ngSimpleChanges__";function wh(e){return e[mh]||null}function cg(e,n){return e[mh]=n}var f9=null;var v1=function(e,n=null,t){f9?.(e,n,t)},Ch="svg",ag="math";function Ye(e){for(;Array.isArray(e);)e=e[yt];return e}function Mh(e,n){return Ye(n[e])}function _t(e,n){return Ye(n[e.index])}function za(e,n){return e.data[n]}function lg(e,n){return e[n]}function Ke(e,n){let t=n[e];return Wt(t)?t:t[yt]}function hg(e){return(e[P]&4)===4}function ya(e){return(e[P]&128)===128}function ug(e){return xt(e[q1])}function vr(e,n){return n==null?null:e[n]}function zh(e){e[cr]=0}function yh(e){e[P]&1024||(e[P]|=1024,ya(e)&&Ts(e))}function dg(e,n){for(;e>0;)n=n[yr],e--;return n}function vi(e){return!!(e[P]&9216||e[Re]?.dirty)}function R0(e){e[Ct].changeDetectionScheduler?.notify(8),e[P]&64&&(e[P]|=1024),vi(e)&&Ts(e)}function Ts(e){e[Ct].changeDetectionScheduler?.notify(0);let n=Sn(e);for(;n!==null&&!(n[P]&8192||(n[P]|=8192,!ya(n)));)n=Sn(n)}function xh(e,n){if(_r(e))throw new E(911,!1);e[$t]===null&&(e[$t]=[]),e[$t].push(n)}function pg(e,n){if(e[$t]===null)return;let t=e[$t].indexOf(n);t!==-1&&e[$t].splice(t,1)}function Sn(e){let n=e[q1];return xt(n)?n[q1]:n}function xa(e){return e[j2]??=[]}function _a(e){return e.cleanup??=[]}function vg(e,n,t,r){let s=xa(n);s.push(t),e.firstCreatePass&&_a(e).push(r,s.length-1)}var K={lFrame:Hh(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var S0=!1;function gg(){return K.lFrame.elementDepthCount}function fg(){K.lFrame.elementDepthCount++}function mg(){K.lFrame.elementDepthCount--}function _h(){return K.bindingsEnabled}function Rh(){return K.skipHydrationRootTNode!==null}function wg(e){return K.skipHydrationRootTNode===e}function Cg(){K.skipHydrationRootTNode=null}function t1(){return K.lFrame.lView}function O1(){return K.lFrame.tView}function a1(e){return K.lFrame.contextLView=e,e[H1]}function l1(e){return K.lFrame.contextLView=null,e}function he(){let e=Sh();for(;e!==null&&e.type===64;)e=e.parent;return e}function Sh(){return K.lFrame.currentTNode}function Mg(){let e=K.lFrame,n=e.currentTNode;return e.isParent?n:n.parent}function ks(e,n){let t=K.lFrame;t.currentTNode=e,t.isParent=n}function Ih(){return K.lFrame.isParent}function Eh(){K.lFrame.isParent=!1}function bh(){return S0}function W2(e){let n=S0;return S0=e,n}function Dh(){let e=K.lFrame,n=e.bindingRootIndex;return n===-1&&(n=e.bindingRootIndex=e.tView.bindingStartIndex),n}function zg(e){return K.lFrame.bindingIndex=e}function Ns(){return K.lFrame.bindingIndex++}function yg(e){let n=K.lFrame,t=n.bindingIndex;return n.bindingIndex=n.bindingIndex+e,t}function xg(){return K.lFrame.inI18n}function _g(e,n){let t=K.lFrame;t.bindingIndex=t.bindingRootIndex=e,I0(n)}function Rg(){return K.lFrame.currentDirectiveIndex}function I0(e){K.lFrame.currentDirectiveIndex=e}function Sg(e){let n=K.lFrame.currentDirectiveIndex;return n===-1?null:e[n]}function Vh(){return K.lFrame.currentQueryIndex}function Ra(e){K.lFrame.currentQueryIndex=e}function Ig(e){let n=e[j];return n.type===2?n.declTNode:n.type===1?e[le]:null}function Ah(e,n,t){if(t&G.SkipSelf){let s=n,o=e;for(;s=s.parent,s===null&&!(t&G.Host);)if(s=Ig(o),s===null||(o=o[yr],s.type&10))break;if(s===null)return!1;n=s,e=o}let r=K.lFrame=Lh();return r.currentTNode=n,r.lView=e,!0}function Sa(e){let n=Lh(),t=e[j];K.lFrame=n,n.currentTNode=t.firstChild,n.lView=e,n.tView=t,n.contextLView=e,n.bindingIndex=t.bindingStartIndex,n.inI18n=!1}function Lh(){let e=K.lFrame,n=e===null?null:e.child;return n===null?Hh(e):n}function Hh(e){let n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=n),n}function Th(){let e=K.lFrame;return K.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var kh=Th;function Ia(){let e=Th();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Eg(e){return(K.lFrame.contextLView=dg(e,K.lFrame.contextLView))[H1]}function Vn(){return K.lFrame.selectedIndex}function In(e){K.lFrame.selectedIndex=e}function Ea(){let e=K.lFrame;return za(e.tView,e.selectedIndex)}function gi(){K.lFrame.currentNamespace=Ch}function bg(){return K.lFrame.currentNamespace}var Nh=!0;function ba(){return Nh}function Da(e){Nh=e}function Dg(e,n,t){let{ngOnChanges:r,ngOnInit:s,ngDoCheck:o}=n.type.prototype;if(r){let i=fh(n);(t.preOrderHooks??=[]).push(e,i),(t.preOrderCheckHooks??=[]).push(e,i)}s&&(t.preOrderHooks??=[]).push(0-e,s),o&&((t.preOrderHooks??=[]).push(e,o),(t.preOrderCheckHooks??=[]).push(e,o))}function Bh(e,n){for(let t=n.directiveStart,r=n.directiveEnd;t<r;t++){let o=e.data[t].type.prototype,{ngAfterContentInit:i,ngAfterContentChecked:c,ngAfterViewInit:a,ngAfterViewChecked:l,ngOnDestroy:h}=o;i&&(e.contentHooks??=[]).push(-t,i),c&&((e.contentHooks??=[]).push(t,c),(e.contentCheckHooks??=[]).push(t,c)),a&&(e.viewHooks??=[]).push(-t,a),l&&((e.viewHooks??=[]).push(t,l),(e.viewCheckHooks??=[]).push(t,l)),h!=null&&(e.destroyHooks??=[]).push(t,h)}}function A2(e,n,t){Oh(e,n,3,t)}function L2(e,n,t,r){(e[P]&3)===t&&Oh(e,n,t,r)}function c0(e,n){let t=e[P];(t&3)===n&&(t&=16383,t+=1,e[P]=t)}function Oh(e,n,t,r){let s=r!==void 0?e[cr]&65535:0,o=r??-1,i=n.length-1,c=0;for(let a=s;a<i;a++)if(typeof n[a+1]=="number"){if(c=n[a],r!=null&&c>=r)break}else n[a]<0&&(e[cr]+=65536),(c<o||o==-1)&&(Vg(e,t,n,a),e[cr]=(e[cr]&4294901760)+a+2),a++}function m9(e,n){v1(4,e,n);let t=U(null);try{n.call(e)}finally{U(t),v1(5,e,n)}}function Vg(e,n,t,r){let s=t[r]<0,o=t[r+1],i=s?-t[r]:t[r],c=e[i];s?e[P]>>14<e[cr]>>16&&(e[P]&3)===n&&(e[P]+=16384,m9(c,o)):m9(c,o)}var lr=-1,En=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(n,t,r){this.factory=n,this.canSeeViewProviders=t,this.injectImpl=r}};function Ag(e){return(e.flags&8)!==0}function Lg(e){return(e.flags&16)!==0}function Hg(e,n,t){let r=0;for(;r<t.length;){let s=t[r];if(typeof s=="number"){if(s!==0)break;r++;let o=t[r++],i=t[r++],c=t[r++];e.setAttribute(n,i,c,o)}else{let o=s,i=t[++r];Tg(o)?e.setProperty(n,o,i):e.setAttribute(n,o,i),r++}}return r}function Ph(e){return e===3||e===4||e===6}function Tg(e){return e.charCodeAt(0)===64}function Ss(e,n){if(!(n===null||n.length===0))if(e===null||e.length===0)e=n.slice();else{let t=-1;for(let r=0;r<n.length;r++){let s=n[r];typeof s=="number"?t=s:t===0||(t===-1||t===2?w9(e,t,s,null,n[++r]):w9(e,t,s,null,null))}}return e}function w9(e,n,t,r,s){let o=0,i=e.length;if(n===-1)i=-1;else for(;o<e.length;){let c=e[o++];if(typeof c=="number"){if(c===n){i=-1;break}else if(c>n){i=o-1;break}}}for(;o<e.length;){let c=e[o];if(typeof c=="number")break;if(c===t){s!==null&&(e[o+1]=s);return}o++,s!==null&&o++}i!==-1&&(e.splice(i,0,n),o=i+1),e.splice(o++,0,t),s!==null&&e.splice(o++,0,s)}function Fh(e){return e!==lr}function G2(e){return e&32767}function kg(e){return e>>16}function q2(e,n){let t=kg(e),r=n;for(;t>0;)r=r[yr],t--;return r}var E0=!0;function Z2(e){let n=E0;return E0=e,n}var Ng=256,jh=Ng-1,Uh=5,Bg=0,qe={};function Og(e,n,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(ys)&&(r=t[ys]),r==null&&(r=t[ys]=Bg++);let s=r&jh,o=1<<s;n.data[e+(s>>Uh)]|=o}function Y2(e,n){let t=$h(e,n);if(t!==-1)return t;let r=n[j];r.firstCreatePass&&(e.injectorIndex=n.length,a0(r.data,e),a0(n,null),a0(r.blueprint,null));let s=Va(e,n),o=e.injectorIndex;if(Fh(s)){let i=G2(s),c=q2(s,n),a=c[j].data;for(let l=0;l<8;l++)n[o+l]=c[i+l]|a[i+l]}return n[o+8]=s,o}function a0(e,n){e.push(0,0,0,0,0,0,0,0,n)}function $h(e,n){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||n[e.injectorIndex+8]===null?-1:e.injectorIndex}function Va(e,n){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let t=0,r=null,s=n;for(;s!==null;){if(r=Yh(s),r===null)return lr;if(t++,s=s[yr],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return lr}function b0(e,n,t){Og(e,n,t)}function Pg(e,n){if(n==="class")return e.classes;if(n==="style")return e.styles;let t=e.attrs;if(t){let r=t.length,s=0;for(;s<r;){let o=t[s];if(Ph(o))break;if(o===0)s=s+2;else if(typeof o=="number")for(s++;s<r&&typeof t[s]=="string";)s++;else{if(o===n)return t[s+1];s=s+2}}}return null}function Wh(e,n,t){if(t&G.Optional||e!==void 0)return e;ga(n,"NodeInjector")}function Gh(e,n,t,r){if(t&G.Optional&&r===void 0&&(r=null),(t&(G.Self|G.Host))===0){let s=e[yn],o=ie(void 0);try{return s?s.get(n,r,t&G.Optional):nh(n,r,t&G.Optional)}finally{ie(o)}}return Wh(r,n,t)}function qh(e,n,t,r=G.Default,s){if(e!==null){if(n[P]&2048&&!(r&G.Self)){let i=$g(e,n,t,r,qe);if(i!==qe)return i}let o=Zh(e,n,t,r,qe);if(o!==qe)return o}return Gh(n,t,r,s)}function Zh(e,n,t,r,s){let o=jg(t);if(typeof o=="function"){if(!Ah(n,e,r))return r&G.Host?Wh(s,t,r):Gh(n,t,r,s);try{let i;if(i=o(r),i==null&&!(r&G.Optional))ga(t);else return i}finally{kh()}}else if(typeof o=="number"){let i=null,c=$h(e,n),a=lr,l=r&G.Host?n[me][le]:null;for((c===-1||r&G.SkipSelf)&&(a=c===-1?Va(e,n):n[c+8],a===lr||!M9(r,!1)?c=-1:(i=n[j],c=G2(a),n=q2(a,n)));c!==-1;){let h=n[j];if(C9(o,c,h.data)){let d=Fg(c,n,t,i,r,l);if(d!==qe)return d}a=n[c+8],a!==lr&&M9(r,n[j].data[c+8]===l)&&C9(o,c,n)?(i=h,c=G2(a),n=q2(a,n)):c=-1}}return s}function Fg(e,n,t,r,s,o){let i=n[j],c=i.data[e+8],a=r==null?xr(c)&&E0:r!=i&&(c.type&3)!==0,l=s&G.Host&&o===c,h=H2(c,i,t,a,l);return h!==null?Is(n,i,h,c,s):qe}function H2(e,n,t,r,s){let o=e.providerIndexes,i=n.data,c=o&1048575,a=e.directiveStart,l=e.directiveEnd,h=o>>20,d=r?c:c+h,g=s?c+h:l;for(let v=d;v<g;v++){let u=i[v];if(v<a&&t===u||v>=a&&u.type===t)return v}if(s){let v=i[a];if(v&&Ze(v)&&v.type===t)return a}return null}function Is(e,n,t,r,s){let o=e[t],i=n.data;if(o instanceof En){let c=o;c.resolving&&eh(Dv(i[t]));let a=Z2(c.canSeeViewProviders);c.resolving=!0;let l,h=c.injectImpl?ie(c.injectImpl):null,d=Ah(e,r,G.Default);try{o=e[t]=c.factory(void 0,s,i,e,r),n.firstCreatePass&&t>=r.directiveStart&&Dg(t,i[t],n)}finally{h!==null&&ie(h),Z2(a),c.resolving=!1,kh()}}return o}function jg(e){if(typeof e=="string")return e.charCodeAt(0)||0;let n=e.hasOwnProperty(ys)?e[ys]:void 0;return typeof n=="number"?n>=0?n&jh:Ug:n}function C9(e,n,t){let r=1<<e;return!!(t[n+(e>>Uh)]&r)}function M9(e,n){return!(e&G.Self)&&!(e&G.Host&&n)}var Cn=class{_tNode;_lView;constructor(n,t){this._tNode=n,this._lView=t}get(n,t,r){return qh(this._tNode,this._lView,n,ui(r),t)}};function Ug(){return new Cn(he(),t1())}function Rt(e){return li(()=>{let n=e.prototype.constructor,t=n[N2]||D0(n),r=Object.prototype,s=Object.getPrototypeOf(e.prototype).constructor;for(;s&&s!==r;){let o=s[N2]||D0(s);if(o&&o!==t)return o;s=Object.getPrototypeOf(s)}return o=>new o})}function D0(e){return Y9(e)?()=>{let n=D0(J1(e));return n&&n()}:Mn(e)}function $g(e,n,t,r,s){let o=e,i=n;for(;o!==null&&i!==null&&i[P]&2048&&!$2(i);){let c=Zh(o,i,t,r|G.Self,qe);if(c!==qe)return c;let a=o.parent;if(!a){let l=i[dh];if(l){let h=l.get(t,qe,r);if(h!==qe)return h}a=Yh(i),i=i[yr]}o=a}return s}function Yh(e){let n=e[j],t=n.type;return t===2?n.declTNode:t===1?e[le]:null}function Kh(e){return Pg(he(),e)}function z9(e,n=null,t=null,r){let s=Qh(e,n,t,r);return s.resolveInjectorInitializers(),s}function Qh(e,n=null,t=null,r,s=new Set){let o=[t||_e,Zv(e)];return r=r||(typeof e=="object"?void 0:ce(e)),new _s(o,n||wa(),r||null,s)}var X1=class e{static THROW_IF_NOT_FOUND=wn;static NULL=new F2;static create(n,t){if(Array.isArray(n))return z9({name:""},t,n,"");{let r=n.name??"";return z9({name:r},n.parent,n.providers,r)}}static \u0275prov=I({token:e,providedIn:"any",factory:()=>H(sh)});static __NG_ELEMENT_ID__=-1};var K2=class{attributeName;constructor(n){this.attributeName=n}__NG_ELEMENT_ID__=()=>Kh(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},Wg=new R("");Wg.__NG_ELEMENT_ID__=e=>{let n=he();if(n===null)throw new E(204,!1);if(n.type&2)return n.value;if(e&G.Optional)return null;throw new E(204,!1)};var Jh=!1,et=(()=>{class e{static __NG_ELEMENT_ID__=Gg;static __NG_ENV_ID__=t=>t}return e})(),Q2=class extends et{_lView;constructor(n){super(),this._lView=n}onDestroy(n){let t=this._lView;return _r(t)?(n(),()=>{}):(xh(t,n),()=>pg(t,n))}};function Gg(){return new Q2(t1())}var gr=class{},Aa=new R("",{providedIn:"root",factory:()=>!1});var Xh=new R(""),eu=new R(""),Gt=(()=>{class e{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new m1(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=I({token:e,providedIn:"root",factory:()=>new e})}return e})();var V0=class extends _1{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(n=!1){super(),this.__isAsync=n,uh()&&(this.destroyRef=m(et,{optional:!0})??void 0,this.pendingTasks=m(Gt,{optional:!0})??void 0)}emit(n){let t=U(null);try{super.next(n)}finally{U(t)}}subscribe(n,t,r){let s=n,o=t||(()=>null),i=r;if(n&&typeof n=="object"){let a=n;s=a.next?.bind(a),o=a.error?.bind(a),i=a.complete?.bind(a)}this.__isAsync&&(o=this.wrapInTimeout(o),s&&(s=this.wrapInTimeout(s)),i&&(i=this.wrapInTimeout(i)));let c=super.subscribe({next:s,error:o,complete:i});return n instanceof y1&&n.add(c),c}wrapInTimeout(n){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{n(t)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},i1=V0;function Es(...e){}function tu(e){let n,t;function r(){e=Es;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),n!==void 0&&clearTimeout(n)}catch{}}return n=setTimeout(()=>{e(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{e(),r()})),()=>r()}function y9(e){return queueMicrotask(()=>e()),()=>{e=Es}}var La="isAngularZone",J2=La+"_ID",qg=0,C1=class e{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new i1(!1);onMicrotaskEmpty=new i1(!1);onStable=new i1(!1);onError=new i1(!1);constructor(n){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:s=!1,scheduleInRootZone:o=Jh}=n;if(typeof Zone>"u")throw new E(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!s&&r,i.shouldCoalesceRunChangeDetection=s,i.callbackScheduled=!1,i.scheduleInRootZone=o,Kg(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(La)===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new E(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new E(909,!1)}run(n,t,r){return this._inner.run(n,t,r)}runTask(n,t,r,s){let o=this._inner,i=o.scheduleEventTask("NgZoneEvent: "+s,n,Zg,Es,Es);try{return o.runTask(i,t,r)}finally{o.cancelTask(i)}}runGuarded(n,t,r){return this._inner.runGuarded(n,t,r)}runOutsideAngular(n){return this._outer.run(n)}},Zg={};function Ha(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Yg(e){if(e.isCheckStableRunning||e.callbackScheduled)return;e.callbackScheduled=!0;function n(){tu(()=>{e.callbackScheduled=!1,A0(e),e.isCheckStableRunning=!0,Ha(e),e.isCheckStableRunning=!1})}e.scheduleInRootZone?Zone.root.run(()=>{n()}):e._outer.run(()=>{n()}),A0(e)}function Kg(e){let n=()=>{Yg(e)},t=qg++;e._inner=e._inner.fork({name:"angular",properties:{[La]:!0,[J2]:t,[J2+t]:!0},onInvokeTask:(r,s,o,i,c,a)=>{if(Qg(a))return r.invokeTask(o,i,c,a);try{return x9(e),r.invokeTask(o,i,c,a)}finally{(e.shouldCoalesceEventChangeDetection&&i.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&n(),_9(e)}},onInvoke:(r,s,o,i,c,a,l)=>{try{return x9(e),r.invoke(o,i,c,a,l)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!Jg(a)&&n(),_9(e)}},onHasTask:(r,s,o,i)=>{r.hasTask(o,i),s===o&&(i.change=="microTask"?(e._hasPendingMicrotasks=i.microTask,A0(e),Ha(e)):i.change=="macroTask"&&(e.hasPendingMacrotasks=i.macroTask))},onHandleError:(r,s,o,i)=>(r.handleError(o,i),e.runOutsideAngular(()=>e.onError.emit(i)),!1)})}function A0(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.callbackScheduled===!0?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function x9(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function _9(e){e._nesting--,Ha(e)}var L0=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new i1;onMicrotaskEmpty=new i1;onStable=new i1;onError=new i1;run(n,t,r){return n.apply(t,r)}runGuarded(n,t,r){return n.apply(t,r)}runOutsideAngular(n){return n()}runTask(n,t,r,s){return n.apply(t,r)}};function Qg(e){return nu(e,"__ignore_ng_zone__")}function Jg(e){return nu(e,"__scheduler_tick__")}function nu(e,n){return!Array.isArray(e)||e.length!==1?!1:e[0]?.data?.[n]===!0}var Qe=class{_console=console;handleError(n){this._console.error("ERROR",n)}},Xg=new R("",{providedIn:"root",factory:()=>{let e=m(C1),n=m(Qe);return t=>e.runOutsideAngular(()=>n.handleError(t))}}),H0=class{destroyed=!1;listeners=null;errorHandler=m(Qe,{optional:!0});destroyRef=m(et);constructor(){this.destroyRef.onDestroy(()=>{this.destroyed=!0,this.listeners=null})}subscribe(n){if(this.destroyed)throw new E(953,!1);return(this.listeners??=[]).push(n),{unsubscribe:()=>{let t=this.listeners?.indexOf(n);t!==void 0&&t!==-1&&this.listeners?.splice(t,1)}}}emit(n){if(this.destroyed){console.warn(pa(953,!1));return}if(this.listeners===null)return;let t=U(null);try{for(let r of this.listeners)try{r(n)}catch(s){this.errorHandler?.handleError(s)}}finally{U(t)}}};function ru(e){return new H0}function R9(e,n){return Z9(e,n)}function ef(e){return Z9(q9,e)}var o1=(R9.required=ef,R9);function tf(){return Rr(he(),t1())}function Rr(e,n){return new T1(_t(e,n))}var T1=(()=>{class e{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=tf}return e})();function nf(e){return e instanceof T1?e.nativeElement:e}function rf(e){return typeof e=="function"&&e[ye]!==void 0}function x1(e,n){let t=Nc(e,n?.equal),r=t[ye];return t.set=s=>ds(r,s),t.update=s=>Bc(r,s),t.asReadonly=sf.bind(t),t}function sf(){let e=this[ye];if(e.readonlyFn===void 0){let n=()=>this();n[ye]=e,e.readonlyFn=n}return e.readonlyFn}function su(e){return rf(e)&&typeof e.set=="function"}function of(){return this._results[Symbol.iterator]()}var T0=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new _1}constructor(n=!1){this._emitDistinctChangesOnly=n}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,t){return this._results.reduce(n,t)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,t){this.dirty=!1;let r=Fv(n);(this._changesDetected=!Pv(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(n){this._onDirty=n}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=of};function ou(e){return(e.flags&128)===128}var iu=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(iu||{}),cu=new Map,cf=0;function af(){return cf++}function lf(e){cu.set(e[pi],e)}function k0(e){cu.delete(e[pi])}var S9="__ngContext__";function Bs(e,n){Wt(n)?(e[S9]=n[pi],lf(n)):e[S9]=n}function au(e){return hu(e[Rs])}function lu(e){return hu(e[Be])}function hu(e){for(;e!==null&&!xt(e);)e=e[Be];return e}var N0;function uu(e){N0=e}function hf(){if(N0!==void 0)return N0;if(typeof document<"u")return document;throw new E(210,!1)}var fi=new R("",{providedIn:"root",factory:()=>uf}),uf="ng",Ta=new R(""),tt=new R("",{providedIn:"platform",factory:()=>"unknown"});var ka=new R("",{providedIn:"root",factory:()=>hf().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null}),Na={breakpoints:[16,32,48,64,96,128,256,384,640,750,828,1080,1200,1920,2048,3840],placeholderResolution:30,disableImageSizeWarning:!1,disableImageLazyLoadWarning:!1},du=new R("",{providedIn:"root",factory:()=>Na});var df="h",pf="b";var pu=!1,vf=new R("",{providedIn:"root",factory:()=>pu});var vu=function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e}(vu||{}),mi=new R(""),I9=new Set;function An(e){I9.has(e)||(I9.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}var gu=(()=>{class e{view;node;constructor(t,r){this.view=t,this.node=r}static __NG_ELEMENT_ID__=gf}return e})();function gf(){return new gu(t1(),he())}var ff=(()=>{class e{impl=null;execute(){this.impl?.execute()}static \u0275prov=I({token:e,providedIn:"root",factory:()=>new e})}return e})();var mf=()=>null;function fu(e,n,t=!1){return mf(e,n,t)}function mu(e,n){let t=e.contentQueries;if(t!==null){let r=U(null);try{for(let s=0;s<t.length;s+=2){let o=t[s],i=t[s+1];if(i!==-1){let c=e.data[i];Ra(o),c.contentQueries(2,n[i],i)}}}finally{U(r)}}}function B0(e,n,t){Ra(0);let r=U(null);try{n(e,t)}finally{U(r)}}function wu(e,n,t){if(vh(n)){let r=U(null);try{let s=n.directiveStart,o=n.directiveEnd;for(let i=s;i<o;i++){let c=e.data[i];if(c.contentQueries){let a=t[i];c.contentQueries(1,a,i)}}}finally{U(r)}}}var Je=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Je||{});var X2=class{changingThisBreaksApplicationSecurity;constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${G9})`}};function wi(e){return e instanceof X2?e.changingThisBreaksApplicationSecurity:e}function wf(e,n){let t=Cf(e);if(t!=null&&t!==n){if(t==="ResourceURL"&&n==="URL")return!0;throw new Error(`Required a safe ${n}, got a ${t} (see ${G9})`)}return t===n}function Cf(e){return e instanceof X2&&e.getTypeName()||null}var Mf=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function zf(e){return e=String(e),e.match(Mf)?e:"unsafe:"+e}var Cu=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(Cu||{});function Ci(e){let n=yf();return n?n.sanitize(Cu.URL,e)||"":wf(e,"URL")?wi(e):zf(va(e))}function yf(){let e=t1();return e&&e[Ct].sanitizer}function Mu(e){return e instanceof Function?e():e}function xf(e,n,t){let r=e.length;for(;;){let s=e.indexOf(n,t);if(s===-1)return s;if(s===0||e.charCodeAt(s-1)<=32){let o=n.length;if(s+o===r||e.charCodeAt(s+o)<=32)return s}t=s+1}}var zu="ng-template";function _f(e,n,t,r){let s=0;if(r){for(;s<n.length&&typeof n[s]=="string";s+=2)if(n[s]==="class"&&xf(n[s+1].toLowerCase(),t,0)!==-1)return!0}else if(Ba(e))return!1;if(s=n.indexOf(1,s),s>-1){let o;for(;++s<n.length&&typeof(o=n[s])=="string";)if(o.toLowerCase()===t)return!0}return!1}function Ba(e){return e.type===4&&e.value!==zu}function Rf(e,n,t){let r=e.type===4&&!t?zu:e.value;return n===r}function Sf(e,n,t){let r=4,s=e.attrs,o=s!==null?bf(s):0,i=!1;for(let c=0;c<n.length;c++){let a=n[c];if(typeof a=="number"){if(!i&&!Ne(r)&&!Ne(a))return!1;if(i&&Ne(a))continue;i=!1,r=a|r&1;continue}if(!i)if(r&4){if(r=2|r&1,a!==""&&!Rf(e,a,t)||a===""&&n.length===1){if(Ne(r))return!1;i=!0}}else if(r&8){if(s===null||!_f(e,s,a,t)){if(Ne(r))return!1;i=!0}}else{let l=n[++c],h=If(a,s,Ba(e),t);if(h===-1){if(Ne(r))return!1;i=!0;continue}if(l!==""){let d;if(h>o?d="":d=s[h+1].toLowerCase(),r&2&&l!==d){if(Ne(r))return!1;i=!0}}}}return Ne(r)||i}function Ne(e){return(e&1)===0}function If(e,n,t,r){if(n===null)return-1;let s=0;if(r||!t){let o=!1;for(;s<n.length;){let i=n[s];if(i===e)return s;if(i===3||i===6)o=!0;else if(i===1||i===2){let c=n[++s];for(;typeof c=="string";)c=n[++s];continue}else{if(i===4)break;if(i===0){s+=4;continue}}s+=o?1:2}return-1}else return Df(n,e)}function yu(e,n,t=!1){for(let r=0;r<n.length;r++)if(Sf(e,n[r],t))return!0;return!1}function Ef(e){let n=e.attrs;if(n!=null){let t=n.indexOf(5);if((t&1)===0)return n[t+1]}return null}function bf(e){for(let n=0;n<e.length;n++){let t=e[n];if(Ph(t))return n}return e.length}function Df(e,n){let t=e.indexOf(4);if(t>-1)for(t++;t<e.length;){let r=e[t];if(typeof r=="number")return-1;if(r===n)return t;t++}return-1}function Vf(e,n){e:for(let t=0;t<n.length;t++){let r=n[t];if(e.length===r.length){for(let s=0;s<e.length;s++)if(e[s]!==r[s])continue e;return!0}}return!1}function E9(e,n){return e?":not("+n.trim()+")":n}function Af(e){let n=e[0],t=1,r=2,s="",o=!1;for(;t<e.length;){let i=e[t];if(typeof i=="string")if(r&2){let c=e[++t];s+="["+i+(c.length>0?'="'+c+'"':"")+"]"}else r&8?s+="."+i:r&4&&(s+=" "+i);else s!==""&&!Ne(i)&&(n+=E9(o,s),s=""),r=i,o=o||!Ne(r);t++}return s!==""&&(n+=E9(o,s)),n}function Lf(e){return e.map(Af).join(",")}function Hf(e){let n=[],t=[],r=1,s=2;for(;r<e.length;){let o=e[r];if(typeof o=="string")s===2?o!==""&&n.push(o,e[++r]):s===8&&t.push(o);else{if(!Ne(s))break;s=o}r++}return t.length&&n.push(1,...t),n}var nt={};function Tf(e,n){return e.createText(n)}function kf(e,n,t){e.setValue(n,t)}function xu(e,n,t){return e.createElement(n,t)}function ei(e,n,t,r,s){e.insertBefore(n,t,r,s)}function _u(e,n,t){e.appendChild(n,t)}function b9(e,n,t,r,s){r!==null?ei(e,n,t,r,s):_u(e,n,t)}function Nf(e,n,t){e.removeChild(null,n,t)}function Bf(e,n,t){e.setAttribute(n,"style",t)}function Of(e,n,t){t===""?e.removeAttribute(n,"class"):e.setAttribute(n,"class",t)}function Ru(e,n,t){let{mergedAttrs:r,classes:s,styles:o}=t;r!==null&&Hg(e,n,r),s!==null&&Of(e,n,s),o!==null&&Bf(e,n,o)}function Oa(e,n,t,r,s,o,i,c,a,l,h){let d=Z1+r,g=d+s,v=Pf(d,g),u=typeof l=="function"?l():l;return v[j]={type:e,blueprint:v,template:t,queries:null,viewQuery:c,declTNode:n,data:v.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof i=="function"?i():i,firstChild:null,schemas:a,consts:u,incompleteFirstPass:!1,ssrId:h}}function Pf(e,n){let t=[];for(let r=0;r<n;r++)t.push(r<e?null:nt);return t}function Ff(e){let n=e.tView;return n===null||n.incompleteFirstPass?e.tView=Oa(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):n}function Pa(e,n,t,r,s,o,i,c,a,l,h){let d=n.blueprint.slice();return d[yt]=s,d[P]=r|4|128|8|64|1024,(l!==null||e&&e[P]&2048)&&(d[P]|=2048),zh(d),d[q1]=d[yr]=e,d[H1]=t,d[Ct]=i||e&&e[Ct],d[D1]=c||e&&e[D1],d[yn]=a||e&&e[yn]||null,d[le]=o,d[pi]=af(),d[dr]=h,d[dh]=l,d[me]=n.type==2?e[me]:d,d}function jf(e,n,t){let r=_t(n,e),s=Ff(t),o=e[Ct].rendererFactory,i=Fa(e,Pa(e,s,null,Su(t),r,n,null,o.createRenderer(r,t),null,null,null));return e[n.index]=i}function Su(e){let n=16;return e.signals?n=4096:e.onPush&&(n=64),n}function Iu(e,n,t,r){if(t===0)return-1;let s=n.length;for(let o=0;o<t;o++)n.push(r),e.blueprint.push(r),e.data.push(null);return s}function Fa(e,n){return e[Rs]?e[g9][Be]=n:e[Rs]=n,e[g9]=n,n}function x(e=1){Eu(O1(),t1(),Vn()+e,!1)}function Eu(e,n,t,r){if(!r)if((n[P]&3)===3){let o=e.preOrderCheckHooks;o!==null&&A2(n,o,t)}else{let o=e.preOrderHooks;o!==null&&L2(n,o,0,t)}In(t)}var Mi=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(Mi||{});function O0(e,n,t,r){let s=U(null);try{let[o,i,c]=e.inputs[t],a=null;(i&Mi.SignalBased)!==0&&(a=n[o][ye]),a!==null&&a.transformFn!==void 0?r=a.transformFn(r):c!==null&&(r=c.call(n,r)),e.setInput!==null?e.setInput(n,a,r,t,o):gh(n,a,o,r)}finally{U(s)}}function bu(e,n,t,r,s){let o=Vn(),i=r&2;try{In(-1),i&&n.length>Z1&&Eu(e,n,Z1,!1),v1(i?2:0,s),t(r,s)}finally{In(o),v1(i?3:1,s)}}function ja(e,n,t){Zf(e,n,t),(t.flags&64)===64&&Yf(e,n,t)}function Du(e,n,t=_t){let r=n.localNames;if(r!==null){let s=n.index+1;for(let o=0;o<r.length;o+=2){let i=r[o+1],c=i===-1?t(n,e):e[i];e[s++]=c}}}function Uf(e,n,t,r){let o=r.get(vf,pu)||t===Je.ShadowDom,i=e.selectRootElement(n,o);return $f(i),i}function $f(e){Wf(e)}var Wf=()=>null;function Gf(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function Ua(e,n,t,r,s,o,i,c){if(!c&&$a(n,e,t,r,s)){xr(n)&&qf(t,n.index);return}if(n.type&3){let a=_t(n,t);r=Gf(r),s=i!=null?i(s,n.value||"",r):s,o.setProperty(a,r,s)}else n.type&12}function qf(e,n){let t=Ke(n,e);t[P]&16||(t[P]|=64)}function Zf(e,n,t){let r=t.directiveStart,s=t.directiveEnd;xr(t)&&jf(n,t,e.data[r+t.componentOffset]),e.firstCreatePass||Y2(t,n);let o=t.initialInputs;for(let i=r;i<s;i++){let c=e.data[i],a=Is(n,e,i,t);if(Bs(a,n),o!==null&&Qf(n,i-r,a,c,t,o),Ze(c)){let l=Ke(t.index,n);l[H1]=Is(n,e,i,t)}}}function Yf(e,n,t){let r=t.directiveStart,s=t.directiveEnd,o=t.index,i=Rg();try{In(o);for(let c=r;c<s;c++){let a=e.data[c],l=n[c];I0(c),(a.hostBindings!==null||a.hostVars!==0||a.hostAttrs!==null)&&Kf(a,l)}}finally{In(-1),I0(i)}}function Kf(e,n){e.hostBindings!==null&&e.hostBindings(1,n)}function Vu(e,n){let t=e.directiveRegistry,r=null;if(t)for(let s=0;s<t.length;s++){let o=t[s];yu(n,o.selectors,!1)&&(r??=[],Ze(o)?r.unshift(o):r.push(o))}return r}function Qf(e,n,t,r,s,o){let i=o[n];if(i!==null)for(let c=0;c<i.length;c+=2){let a=i[c],l=i[c+1];O0(r,t,a,l)}}function Jf(e,n){let t=e[yn],r=t?t.get(Qe,null):null;r&&r.handleError(n)}function $a(e,n,t,r,s){let o=e.inputs?.[r],i=e.hostDirectiveInputs?.[r],c=!1;if(i)for(let a=0;a<i.length;a+=2){let l=i[a],h=i[a+1],d=n.data[l];O0(d,t[l],h,s),c=!0}if(o)for(let a of o){let l=t[a],h=n.data[a];O0(h,l,r,s),c=!0}return c}function Xf(e,n){let t=Ke(n,e),r=t[j];em(r,t);let s=t[yt];s!==null&&t[dr]===null&&(t[dr]=fu(s,t[yn])),v1(18),Wa(r,t,t[H1]),v1(19,t[H1])}function em(e,n){for(let t=n.length;t<e.blueprint.length;t++)n.push(e.blueprint[t])}function Wa(e,n,t){Sa(n);try{let r=e.viewQuery;r!==null&&B0(1,r,t);let s=e.template;s!==null&&bu(e,n,s,1,t),e.firstCreatePass&&(e.firstCreatePass=!1),n[Mt]?.finishViewCreation(e),e.staticContentQueries&&mu(e,n),e.staticViewQueries&&B0(2,e.viewQuery,t);let o=e.components;o!==null&&tm(n,o)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{n[P]&=-5,Ia()}}function tm(e,n){for(let t=0;t<n.length;t++)Xf(e,n[t])}function Os(e,n,t,r){let s=U(null);try{let o=n.tView,c=e[P]&4096?4096:16,a=Pa(e,o,t,c,null,n,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=e[n.index];a[xn]=l;let h=e[Mt];return h!==null&&(a[Mt]=h.createEmbeddedView(o)),Wa(o,a,t),a}finally{U(s)}}function fr(e,n){return!n||n.firstChild===null||ou(e)}var nm;function Ga(e,n){return nm(e,n)}var zt=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(zt||{});function qa(e){return(e.flags&32)===32}function ar(e,n,t,r,s){if(r!=null){let o,i=!1;xt(r)?o=r:Wt(r)&&(i=!0,r=r[yt]);let c=Ye(r);e===0&&t!==null?s==null?_u(n,t,c):ei(n,t,c,s||null,!0):e===1&&t!==null?ei(n,t,c,s||null,!0):e===2?Nf(n,c,i):e===3&&n.destroyNode(c),o!=null&&dm(n,e,o,t,s)}}function rm(e,n){Au(e,n),n[yt]=null,n[le]=null}function sm(e,n,t,r,s,o){r[yt]=s,r[le]=n,yi(e,r,t,1,s,o)}function Au(e,n){n[Ct].changeDetectionScheduler?.notify(9),yi(e,n,n[D1],2,null,null)}function om(e){let n=e[Rs];if(!n)return l0(e[j],e);for(;n;){let t=null;if(Wt(n))t=n[Rs];else{let r=n[G1];r&&(t=r)}if(!t){for(;n&&!n[Be]&&n!==e;)Wt(n)&&l0(n[j],n),n=n[q1];n===null&&(n=e),Wt(n)&&l0(n[j],n),t=n&&n[Be]}n=t}}function Za(e,n){let t=e[pr],r=t.indexOf(n);t.splice(r,1)}function zi(e,n){if(_r(n))return;let t=n[D1];t.destroyNode&&yi(e,n,t,3,null,null),om(n)}function l0(e,n){if(_r(n))return;let t=U(null);try{n[P]&=-129,n[P]|=256,n[Re]&&us(n[Re]),cm(e,n),im(e,n),n[j].type===1&&n[D1].destroy();let r=n[xn];if(r!==null&&xt(n[q1])){r!==n[q1]&&Za(r,n);let s=n[Mt];s!==null&&s.detachView(e)}k0(n)}finally{U(t)}}function im(e,n){let t=e.cleanup,r=n[j2];if(t!==null)for(let i=0;i<t.length-1;i+=2)if(typeof t[i]=="string"){let c=t[i+3];c>=0?r[c]():r[-c].unsubscribe(),i+=2}else{let c=r[t[i+1]];t[i].call(c)}r!==null&&(n[j2]=null);let s=n[$t];if(s!==null){n[$t]=null;for(let i=0;i<s.length;i++){let c=s[i];c()}}let o=n[_n];if(o!==null){n[_n]=null;for(let i of o)i.destroy()}}function cm(e,n){let t;if(e!=null&&(t=e.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let s=n[t[r]];if(!(s instanceof En)){let o=t[r+1];if(Array.isArray(o))for(let i=0;i<o.length;i+=2){let c=s[o[i]],a=o[i+1];v1(4,c,a);try{a.call(c)}finally{v1(5,c,a)}}else{v1(4,s,o);try{o.call(s)}finally{v1(5,s,o)}}}}}function Lu(e,n,t){return am(e,n.parent,t)}function am(e,n,t){let r=n;for(;r!==null&&r.type&168;)n=r,r=n.parent;if(r===null)return t[yt];if(xr(r)){let{encapsulation:s}=e.data[r.directiveStart+r.componentOffset];if(s===Je.None||s===Je.Emulated)return null}return _t(r,t)}function Hu(e,n,t){return hm(e,n,t)}function lm(e,n,t){return e.type&40?_t(e,t):null}var hm=lm,D9;function Ya(e,n,t,r){let s=Lu(e,r,n),o=n[D1],i=r.parent||n[le],c=Hu(i,r,n);if(s!=null)if(Array.isArray(t))for(let a=0;a<t.length;a++)b9(o,s,t[a],c,!1);else b9(o,s,t,c,!1);D9!==void 0&&D9(o,r,n,t,s)}function zs(e,n){if(n!==null){let t=n.type;if(t&3)return _t(n,e);if(t&4)return P0(-1,e[n.index]);if(t&8){let r=n.child;if(r!==null)return zs(e,r);{let s=e[n.index];return xt(s)?P0(-1,s):Ye(s)}}else{if(t&128)return zs(e,n.next);if(t&32)return Ga(n,e)()||Ye(e[n.index]);{let r=Tu(e,n);if(r!==null){if(Array.isArray(r))return r[0];let s=Sn(e[me]);return zs(s,r)}else return zs(e,n.next)}}}return null}function Tu(e,n){if(n!==null){let r=e[me][le],s=n.projection;return r.projection[s]}return null}function P0(e,n){let t=G1+e+1;if(t<n.length){let r=n[t],s=r[j].firstChild;if(s!==null)return zs(r,s)}return n[Rn]}function Ka(e,n,t,r,s,o,i){for(;t!=null;){if(t.type===128){t=t.next;continue}let c=r[t.index],a=t.type;if(i&&n===0&&(c&&Bs(Ye(c),r),t.flags|=2),!qa(t))if(a&8)Ka(e,n,t.child,r,s,o,!1),ar(n,e,s,c,o);else if(a&32){let l=Ga(t,r),h;for(;h=l();)ar(n,e,s,h,o);ar(n,e,s,c,o)}else a&16?ku(e,n,r,t,s,o):ar(n,e,s,c,o);t=i?t.projectionNext:t.next}}function yi(e,n,t,r,s,o){Ka(t,r,e.firstChild,n,s,o,!1)}function um(e,n,t){let r=n[D1],s=Lu(e,t,n),o=t.parent||n[le],i=Hu(o,t,n);ku(r,0,n,t,s,i)}function ku(e,n,t,r,s,o){let i=t[me],a=i[le].projection[r.projection];if(Array.isArray(a))for(let l=0;l<a.length;l++){let h=a[l];ar(n,e,s,h,o)}else{let l=a,h=i[q1];ou(r)&&(l.flags|=128),Ka(e,n,l,h,s,o,!0)}}function dm(e,n,t,r,s){let o=t[Rn],i=Ye(t);o!==i&&ar(n,e,r,o,s);for(let c=G1;c<t.length;c++){let a=t[c];yi(a[j],a,e,n,r,o)}}function pm(e,n,t,r,s){if(n)s?e.addClass(t,r):e.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:zt.DashCase;s==null?e.removeStyle(t,r,o):(typeof s=="string"&&s.endsWith("!important")&&(s=s.slice(0,-10),o|=zt.Important),e.setStyle(t,r,s,o))}}function ti(e,n,t,r,s=!1){for(;t!==null;){if(t.type===128){t=s?t.projectionNext:t.next;continue}let o=n[t.index];o!==null&&r.push(Ye(o)),xt(o)&&vm(o,r);let i=t.type;if(i&8)ti(e,n,t.child,r);else if(i&32){let c=Ga(t,n),a;for(;a=c();)r.push(a)}else if(i&16){let c=Tu(n,t);if(Array.isArray(c))r.push(...c);else{let a=Sn(n[me]);ti(a[j],a,c,r,!0)}}t=s?t.projectionNext:t.next}return r}function vm(e,n){for(let t=G1;t<e.length;t++){let r=e[t],s=r[j].firstChild;s!==null&&ti(r[j],r,s,n)}e[Rn]!==e[yt]&&n.push(e[Rn])}function Nu(e){if(e[i0]!==null){for(let n of e[i0])n.impl.addSequence(n);e[i0].length=0}}var Bu=[];function gm(e){return e[Re]??fm(e)}function fm(e){let n=Bu.pop()??Object.create(wm);return n.lView=e,n}function mm(e){e.lView[Re]!==e&&(e.lView=null,Bu.push(e))}var wm=L(z({},Zn),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{Ts(e.lView)},consumerOnSignalRead(){this.lView[Re]=this}});function Cm(e){let n=e[Re]??Object.create(Mm);return n.lView=e,n}var Mm=L(z({},Zn),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{let n=Sn(e.lView);for(;n&&!Ou(n[j]);)n=Sn(n);n&&yh(n)},consumerOnSignalRead(){this.lView[Re]=this}});function Ou(e){return e.type!==2}function Pu(e){if(e[_n]===null)return;let n=!0;for(;n;){let t=!1;for(let r of e[_n])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));n=t&&!!(e[P]&8192)}}var zm=100;function Fu(e,n=!0,t=0){let s=e[Ct].rendererFactory,o=!1;o||s.begin?.();try{ym(e,t)}catch(i){throw n&&Jf(e,i),i}finally{o||s.end?.()}}function ym(e,n){let t=bh();try{W2(!0),F0(e,n);let r=0;for(;vi(e);){if(r===zm)throw new E(103,!1);r++,F0(e,1)}}finally{W2(t)}}function xm(e,n,t,r){if(_r(n))return;let s=n[P],o=!1,i=!1;Sa(n);let c=!0,a=null,l=null;o||(Ou(e)?(l=gm(n),a=hs(l)):Vc()===null?(c=!1,l=Cm(n),a=hs(l)):n[Re]&&(us(n[Re]),n[Re]=null));try{zh(n),zg(e.bindingStartIndex),t!==null&&bu(e,n,t,2,r);let h=(s&3)===3;if(!o)if(h){let v=e.preOrderCheckHooks;v!==null&&A2(n,v,null)}else{let v=e.preOrderHooks;v!==null&&L2(n,v,0,null),c0(n,0)}if(i||_m(n),Pu(n),ju(n,0),e.contentQueries!==null&&mu(e,n),!o)if(h){let v=e.contentCheckHooks;v!==null&&A2(n,v)}else{let v=e.contentHooks;v!==null&&L2(n,v,1),c0(n,1)}Sm(e,n);let d=e.components;d!==null&&$u(n,d,0);let g=e.viewQuery;if(g!==null&&B0(2,g,r),!o)if(h){let v=e.viewCheckHooks;v!==null&&A2(n,v)}else{let v=e.viewHooks;v!==null&&L2(n,v,2),c0(n,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),n[o0]){for(let v of n[o0])v();n[o0]=null}o||(Nu(n),n[P]&=-73)}catch(h){throw o||Ts(n),h}finally{l!==null&&(Qo(l,a),c&&mm(l)),Ia()}}function ju(e,n){for(let t=au(e);t!==null;t=lu(t))for(let r=G1;r<t.length;r++){let s=t[r];Uu(s,n)}}function _m(e){for(let n=au(e);n!==null;n=lu(n)){if(!(n[P]&2))continue;let t=n[pr];for(let r=0;r<t.length;r++){let s=t[r];yh(s)}}}function Rm(e,n,t){v1(18);let r=Ke(n,e);Uu(r,t),v1(19,r[H1])}function Uu(e,n){ya(e)&&F0(e,n)}function F0(e,n){let r=e[j],s=e[P],o=e[Re],i=!!(n===0&&s&16);if(i||=!!(s&64&&n===0),i||=!!(s&1024),i||=!!(o?.dirty&&Jo(o)),i||=!1,o&&(o.dirty=!1),e[P]&=-9217,i)xm(r,e,r.template,e[H1]);else if(s&8192){Pu(e),ju(e,1);let c=r.components;c!==null&&$u(e,c,1),Nu(e)}}function $u(e,n,t){for(let r=0;r<n.length;r++)Rm(e,n[r],t)}function Sm(e,n){let t=e.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let s=t[r];if(s<0)In(~s);else{let o=s,i=t[++r],c=t[++r];_g(i,o);let a=n[o];v1(24,a),c(2,a),v1(25,a)}}}finally{In(-1)}}function Qa(e,n){let t=bh()?64:1088;for(e[Ct].changeDetectionScheduler?.notify(n);e;){e[P]|=t;let r=Sn(e);if($2(e)&&!r)return e;e=r}return null}function Wu(e,n,t,r){return[e,!0,0,n,null,r,null,t,null,null]}function Gu(e,n){let t=G1+n;if(t<e.length)return e[t]}function Ps(e,n,t,r=!0){let s=n[j];if(Im(s,n,e,t),r){let i=P0(t,e),c=n[D1],a=c.parentNode(e[Rn]);a!==null&&sm(s,e[le],c,n,a,i)}let o=n[dr];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function qu(e,n){let t=bs(e,n);return t!==void 0&&zi(t[j],t),t}function bs(e,n){if(e.length<=G1)return;let t=G1+n,r=e[t];if(r){let s=r[xn];s!==null&&s!==e&&Za(s,r),n>0&&(e[t-1][Be]=r[Be]);let o=P2(e,G1+n);rm(r[j],r);let i=o[Mt];i!==null&&i.detachView(o[j]),r[q1]=null,r[Be]=null,r[P]&=-129}return r}function Im(e,n,t,r){let s=G1+r,o=t.length;r>0&&(t[s-1][Be]=n),r<o-G1?(n[Be]=t[s],rh(t,G1+r,n)):(t.push(n),n[Be]=null),n[q1]=t;let i=n[xn];i!==null&&t!==i&&Zu(i,n);let c=n[Mt];c!==null&&c.insertView(e),R0(n),n[P]|=128}function Zu(e,n){let t=e[pr],r=n[q1];if(Wt(r))e[P]|=2;else{let s=r[q1][me];n[me]!==s&&(e[P]|=2)}t===null?e[pr]=[n]:t.push(n)}var Ds=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let n=this._lView,t=n[j];return ti(t,n,t.firstChild,[])}constructor(n,t,r=!0){this._lView=n,this._cdRefInjectingView=t,this.notifyErrorHandler=r}get context(){return this._lView[H1]}set context(n){this._lView[H1]=n}get destroyed(){return _r(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let n=this._lView[q1];if(xt(n)){let t=n[U2],r=t?t.indexOf(this):-1;r>-1&&(bs(n,r),P2(t,r))}this._attachedToViewContainer=!1}zi(this._lView[j],this._lView)}onDestroy(n){xh(this._lView,n)}markForCheck(){Qa(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[P]&=-129}reattach(){R0(this._lView),this._lView[P]|=128}detectChanges(){this._lView[P]|=1024,Fu(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new E(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let n=$2(this._lView),t=this._lView[xn];t!==null&&!n&&Za(t,this._lView),Au(this._lView[j],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new E(902,!1);this._appRef=n;let t=$2(this._lView),r=this._lView[xn];r!==null&&!t&&Zu(r,this._lView),R0(this._lView)}};var Vs=(()=>{class e{static __NG_ELEMENT_ID__=Dm}return e})(),Em=Vs,bm=class extends Em{_declarationLView;_declarationTContainer;elementRef;constructor(n,t,r){super(),this._declarationLView=n,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,t){return this.createEmbeddedViewImpl(n,t)}createEmbeddedViewImpl(n,t,r){let s=Os(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:t,dehydratedView:r});return new Ds(s)}};function Dm(){return Ja(he(),t1())}function Ja(e,n){return e.type&4?new bm(n,e,Rr(e,n)):null}function xi(e,n,t,r,s){let o=e.data[n];if(o===null)o=Vm(e,n,t,r,s),xg()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=s;let i=Mg();o.injectorIndex=i===null?-1:i.injectorIndex}return ks(o,!0),o}function Vm(e,n,t,r,s){let o=Sh(),i=Ih(),c=i?o:o&&o.parent,a=e.data[n]=Lm(e,c,t,n,r,s);return Am(e,a,o,i),a}function Am(e,n,t,r){e.firstChild===null&&(e.firstChild=n),t!==null&&(r?t.child==null&&n.parent!==null&&(t.child=n):t.next===null&&(t.next=n,n.prev=t))}function Lm(e,n,t,r,s,o){let i=n?n.injectorIndex:-1,c=0;return Rh()&&(c|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:i,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:c,providerIndexes:0,value:s,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var rT=new RegExp(`^(\\d+)*(${pf}|${df})*(.*)`);var Hm=()=>null;function mr(e,n){return Hm(e,n)}var Tm=class{},Yu=class{},j0=class{resolveComponentFactory(n){throw Error(`No component factory found for ${ce(n)}.`)}},_i=class{static NULL=new j0},wr=class{},we=(()=>{class e{destroyNode=null;static __NG_ELEMENT_ID__=()=>km()}return e})();function km(){let e=t1(),n=he(),t=Ke(n.index,e);return(Wt(t)?t:e)[D1]}var Nm=(()=>{class e{static \u0275prov=I({token:e,providedIn:"root",factory:()=>null})}return e})();var h0={},U0=class{injector;parentInjector;constructor(n,t){this.injector=n,this.parentInjector=t}get(n,t,r){r=ui(r);let s=this.injector.get(n,h0,r);return s!==h0||t===h0?s:this.parentInjector.get(n,t,r)}};function V9(e,n,t){let r=t?e.styles:null,s=t?e.classes:null,o=0;if(n!==null)for(let i=0;i<n.length;i++){let c=n[i];if(typeof c=="number")o=c;else if(o==1)s=a9(s,c);else if(o==2){let a=c,l=n[++i];r=a9(r,a+": "+l+";")}}t?e.styles=r:e.stylesWithoutHost=r,t?e.classes=s:e.classesWithoutHost=s}function T(e,n=G.Default){let t=t1();if(t===null)return H(e,n);let r=he();return qh(r,t,J1(e),n)}function Ku(e,n,t,r,s){let o=r===null?null:{"":-1},i=s(e,t);if(i!==null){let c,a=null,l=null,h=Om(i);h===null?c=i:[c,a,l]=h,jm(e,n,t,c,o,a,l)}o!==null&&r!==null&&Bm(t,r,o)}function Bm(e,n,t){let r=e.localNames=[];for(let s=0;s<n.length;s+=2){let o=t[n[s+1]];if(o==null)throw new E(-301,!1);r.push(n[s],o)}}function Om(e){let n=null,t=!1;for(let i=0;i<e.length;i++){let c=e[i];if(i===0&&Ze(c)&&(n=c),c.findHostDirectiveDefs!==null){t=!0;break}}if(!t)return null;let r=null,s=null,o=null;for(let i of e)i.findHostDirectiveDefs!==null&&(r??=[],s??=new Map,o??=new Map,Pm(i,r,o,s)),i===n&&(r??=[],r.push(i));return r!==null?(r.push(...n===null?e:e.slice(1)),[r,s,o]):null}function Pm(e,n,t,r){let s=n.length;e.findHostDirectiveDefs(e,n,r),t.set(e,[s,n.length-1])}function Fm(e,n,t){n.componentOffset=t,(e.components??=[]).push(n.index)}function jm(e,n,t,r,s,o,i){let c=r.length,a=!1;for(let g=0;g<c;g++){let v=r[g];!a&&Ze(v)&&(a=!0,Fm(e,t,g)),b0(Y2(t,n),e,v.type)}Zm(t,e.data.length,c);for(let g=0;g<c;g++){let v=r[g];v.providersResolver&&v.providersResolver(v)}let l=!1,h=!1,d=Iu(e,n,c,null);c>0&&(t.directiveToIndex=new Map);for(let g=0;g<c;g++){let v=r[g];if(t.mergedAttrs=Ss(t.mergedAttrs,v.hostAttrs),$m(e,t,n,d,v),qm(d,v,s),i!==null&&i.has(v)){let[M,S]=i.get(v);t.directiveToIndex.set(v.type,[d,M+t.directiveStart,S+t.directiveStart])}else(o===null||!o.has(v))&&t.directiveToIndex.set(v.type,d);v.contentQueries!==null&&(t.flags|=4),(v.hostBindings!==null||v.hostAttrs!==null||v.hostVars!==0)&&(t.flags|=64);let u=v.type.prototype;!l&&(u.ngOnChanges||u.ngOnInit||u.ngDoCheck)&&((e.preOrderHooks??=[]).push(t.index),l=!0),!h&&(u.ngOnChanges||u.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(t.index),h=!0),d++}Um(e,t,o)}function Um(e,n,t){for(let r=n.directiveStart;r<n.directiveEnd;r++){let s=e.data[r];if(t===null||!t.has(s))A9(0,n,s,r),A9(1,n,s,r),H9(n,r,!1);else{let o=t.get(s);L9(0,n,o,r),L9(1,n,o,r),H9(n,r,!0)}}}function A9(e,n,t,r){let s=e===0?t.inputs:t.outputs;for(let o in s)if(s.hasOwnProperty(o)){let i;e===0?i=n.inputs??={}:i=n.outputs??={},i[o]??=[],i[o].push(r),Qu(n,o)}}function L9(e,n,t,r){let s=e===0?t.inputs:t.outputs;for(let o in s)if(s.hasOwnProperty(o)){let i=s[o],c;e===0?c=n.hostDirectiveInputs??={}:c=n.hostDirectiveOutputs??={},c[i]??=[],c[i].push(r,o),Qu(n,i)}}function Qu(e,n){n==="class"?e.flags|=8:n==="style"&&(e.flags|=16)}function H9(e,n,t){let{attrs:r,inputs:s,hostDirectiveInputs:o}=e;if(r===null||!t&&s===null||t&&o===null||Ba(e)){e.initialInputs??=[],e.initialInputs.push(null);return}let i=null,c=0;for(;c<r.length;){let a=r[c];if(a===0){c+=4;continue}else if(a===5){c+=2;continue}else if(typeof a=="number")break;if(!t&&s.hasOwnProperty(a)){let l=s[a];for(let h of l)if(h===n){i??=[],i.push(a,r[c+1]);break}}else if(t&&o.hasOwnProperty(a)){let l=o[a];for(let h=0;h<l.length;h+=2)if(l[h]===n){i??=[],i.push(l[h+1],r[c+1]);break}}c+=2}e.initialInputs??=[],e.initialInputs.push(i)}function $m(e,n,t,r,s){e.data[r]=s;let o=s.factory||(s.factory=Mn(s.type,!0)),i=new En(o,Ze(s),T);e.blueprint[r]=i,t[r]=i,Wm(e,n,r,Iu(e,t,s.hostVars,nt),s)}function Wm(e,n,t,r,s){let o=s.hostBindings;if(o){let i=e.hostBindingOpCodes;i===null&&(i=e.hostBindingOpCodes=[]);let c=~n.index;Gm(i)!=c&&i.push(c),i.push(t,r,o)}}function Gm(e){let n=e.length;for(;n>0;){let t=e[--n];if(typeof t=="number"&&t<0)return t}return 0}function qm(e,n,t){if(t){if(n.exportAs)for(let r=0;r<n.exportAs.length;r++)t[n.exportAs[r]]=e;Ze(n)&&(t[""]=e)}}function Zm(e,n,t){e.flags|=1,e.directiveStart=n,e.directiveEnd=n+t,e.providerIndexes=n}function Ju(e,n,t,r,s,o,i,c){let a=n.consts,l=vr(a,i),h=xi(n,e,2,r,l);return o&&Ku(n,t,h,vr(a,c),s),h.mergedAttrs=Ss(h.mergedAttrs,h.attrs),h.attrs!==null&&V9(h,h.attrs,!1),h.mergedAttrs!==null&&V9(h,h.mergedAttrs,!0),n.queries!==null&&n.queries.elementStart(n,h),h}function Xu(e,n){Bh(e,n),vh(n)&&e.queries.elementEnd(n)}var ni=class extends _i{ngModule;constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){let t=hr(n);return new As(t,this.ngModule)}};function Ym(e){return Object.keys(e).map(n=>{let[t,r,s]=e[n],o={propName:t,templateName:n,isSignal:(r&Mi.SignalBased)!==0};return s&&(o.transform=s),o})}function Km(e){return Object.keys(e).map(n=>({propName:e[n],templateName:n}))}function Qm(e,n,t){let r=n instanceof ae?n:n?.injector;return r&&e.getStandaloneInjector!==null&&(r=e.getStandaloneInjector(r)||r),r?new U0(t,r):t}function Jm(e){let n=e.get(wr,null);if(n===null)throw new E(407,!1);let t=e.get(Nm,null),r=e.get(gr,null);return{rendererFactory:n,sanitizer:t,changeDetectionScheduler:r}}function Xm(e,n){let t=(e.selectors[0][0]||"div").toLowerCase();return xu(n,t,t==="svg"?Ch:t==="math"?ag:null)}var As=class extends Yu{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=Ym(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=Km(this.componentDef.outputs),this.cachedOutputs}constructor(n,t){super(),this.componentDef=n,this.ngModule=t,this.componentType=n.type,this.selector=Lf(n.selectors),this.ngContentSelectors=n.ngContentSelectors??[],this.isBoundToModule=!!t}create(n,t,r,s){v1(22);let o=U(null);try{let i=this.componentDef,c=r?["ng-version","19.2.11"]:Hf(this.componentDef.selectors[0]),a=Oa(0,null,null,1,0,null,null,null,null,[c],null),l=Qm(i,s||this.ngModule,n),h=Jm(l),d=h.rendererFactory.createRenderer(null,i),g=r?Uf(d,r,i.encapsulation,l):Xm(i,d),v=Pa(null,a,null,512|Su(i),null,null,h,d,l,null,fu(g,l,!0));v[Z1]=g,Sa(v);let u=null;try{let M=Ju(Z1,a,v,"#host",()=>[this.componentDef],!0,0);g&&(Ru(d,g,M),Bs(g,v)),ja(a,v,M),wu(a,M,v),Xu(a,M),t!==void 0&&ew(M,this.ngContentSelectors,t),u=Ke(M.index,v),v[H1]=u[H1],Wa(a,v,null)}catch(M){throw u!==null&&k0(u),k0(v),M}finally{v1(23),Ia()}return new $0(this.componentType,v)}finally{U(o)}}},$0=class extends Tm{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(n,t){super(),this._rootLView=t,this._tNode=za(t[j],Z1),this.location=Rr(this._tNode,t),this.instance=Ke(this._tNode.index,t)[H1],this.hostView=this.changeDetectorRef=new Ds(t,void 0,!1),this.componentType=n}setInput(n,t){let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),t))return;let s=this._rootLView,o=$a(r,s[j],s,n,t);this.previousInputValues.set(n,t);let i=Ke(r.index,s);Qa(i,1)}get injector(){return new Cn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}};function ew(e,n,t){let r=e.projection=[];for(let s=0;s<n.length;s++){let o=t[s];r.push(o!=null&&o.length?Array.from(o):null)}}var Sr=(()=>{class e{static __NG_ELEMENT_ID__=tw}return e})();function tw(){let e=he();return td(e,t1())}var nw=Sr,ed=class extends nw{_lContainer;_hostTNode;_hostLView;constructor(n,t,r){super(),this._lContainer=n,this._hostTNode=t,this._hostLView=r}get element(){return Rr(this._hostTNode,this._hostLView)}get injector(){return new Cn(this._hostTNode,this._hostLView)}get parentInjector(){let n=Va(this._hostTNode,this._hostLView);if(Fh(n)){let t=q2(n,this._hostLView),r=G2(n),s=t[j].data[r+8];return new Cn(s,t)}else return new Cn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){let t=T9(this._lContainer);return t!==null&&t[n]||null}get length(){return this._lContainer.length-G1}createEmbeddedView(n,t,r){let s,o;typeof r=="number"?s=r:r!=null&&(s=r.index,o=r.injector);let i=mr(this._lContainer,n.ssrId),c=n.createEmbeddedViewImpl(t||{},o,i);return this.insertImpl(c,s,fr(this._hostTNode,i)),c}createComponent(n,t,r,s,o){let i=n&&!sg(n),c;if(i)c=t;else{let u=t||{};c=u.index,r=u.injector,s=u.projectableNodes,o=u.environmentInjector||u.ngModuleRef}let a=i?n:new As(hr(n)),l=r||this.parentInjector;if(!o&&a.ngModule==null){let M=(i?l:this.parentInjector).get(ae,null);M&&(o=M)}let h=hr(a.componentType??{}),d=mr(this._lContainer,h?.id??null),g=d?.firstChild??null,v=a.create(l,s,g,o);return this.insertImpl(v.hostView,c,fr(this._hostTNode,d)),v}insert(n,t){return this.insertImpl(n,t,!0)}insertImpl(n,t,r){let s=n._lView;if(ug(s)){let c=this.indexOf(n);if(c!==-1)this.detach(c);else{let a=s[q1],l=new ed(a,a[le],a[q1]);l.detach(l.indexOf(n))}}let o=this._adjustIndex(t),i=this._lContainer;return Ps(i,s,o,r),n.attachToViewContainerRef(),rh(u0(i),o,n),n}move(n,t){return this.insert(n,t)}indexOf(n){let t=T9(this._lContainer);return t!==null?t.indexOf(n):-1}remove(n){let t=this._adjustIndex(n,-1),r=bs(this._lContainer,t);r&&(P2(u0(this._lContainer),t),zi(r[j],r))}detach(n){let t=this._adjustIndex(n,-1),r=bs(this._lContainer,t);return r&&P2(u0(this._lContainer),t)!=null?new Ds(r):null}_adjustIndex(n,t=0){return n??this.length+t}};function T9(e){return e[U2]}function u0(e){return e[U2]||(e[U2]=[])}function td(e,n){let t,r=n[e.index];return xt(r)?t=r:(t=Wu(r,n,null,e),n[e.index]=t,Fa(n,t)),sw(t,n,e,r),new ed(t,e,n)}function rw(e,n){let t=e[D1],r=t.createComment(""),s=_t(n,e),o=t.parentNode(s);return ei(t,o,r,t.nextSibling(s),!1),r}var sw=cw,ow=()=>!1;function iw(e,n,t){return ow(e,n,t)}function cw(e,n,t,r){if(e[Rn])return;let s;t.type&8?s=Ye(r):s=rw(n,t),e[Rn]=s}var W0=class e{queryList;matches=null;constructor(n){this.queryList=n}clone(){return new e(this.queryList)}setDirty(){this.queryList.setDirty()}},G0=class e{queries;constructor(n=[]){this.queries=n}createEmbeddedView(n){let t=n.queries;if(t!==null){let r=n.contentQueries!==null?n.contentQueries[0]:t.length,s=[];for(let o=0;o<r;o++){let i=t.getByIndex(o),c=this.queries[i.indexInDeclarationView];s.push(c.clone())}return new e(s)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}finishViewCreation(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let t=0;t<this.queries.length;t++)Xa(n,t).matches!==null&&this.queries[t].setDirty()}},q0=class{flags;read;predicate;constructor(n,t,r=null){this.flags=t,this.read=r,typeof n=="string"?this.predicate=gw(n):this.predicate=n}},Z0=class e{queries;constructor(n=[]){this.queries=n}elementStart(n,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(n,t)}elementEnd(n){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(n)}embeddedTView(n){let t=null;for(let r=0;r<this.length;r++){let s=t!==null?t.length:0,o=this.getByIndex(r).embeddedTView(n,s);o&&(o.indexInDeclarationView=r,t!==null?t.push(o):t=[o])}return t!==null?new e(t):null}template(n,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(n,t)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}},Y0=class e{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(n,t=-1){this.metadata=n,this._declarationNodeIndex=t}elementStart(n,t){this.isApplyingToNode(t)&&this.matchTNode(n,t)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,t){this.elementStart(n,t)}embeddedTView(n,t){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,t),new e(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,r=n.parent;for(;r!==null&&r.type&8&&r.index!==t;)r=r.parent;return t===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(n,t){let r=this.metadata.predicate;if(Array.isArray(r))for(let s=0;s<r.length;s++){let o=r[s];this.matchTNodeWithReadOption(n,t,aw(t,o)),this.matchTNodeWithReadOption(n,t,H2(t,n,o,!1,!1))}else r===Vs?t.type&4&&this.matchTNodeWithReadOption(n,t,-1):this.matchTNodeWithReadOption(n,t,H2(t,n,r,!1,!1))}matchTNodeWithReadOption(n,t,r){if(r!==null){let s=this.metadata.read;if(s!==null)if(s===T1||s===Sr||s===Vs&&t.type&4)this.addMatch(t.index,-2);else{let o=H2(t,n,s,!1,!1);o!==null&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(n,t){this.matches===null?this.matches=[n,t]:this.matches.push(n,t)}};function aw(e,n){let t=e.localNames;if(t!==null){for(let r=0;r<t.length;r+=2)if(t[r]===n)return t[r+1]}return null}function lw(e,n){return e.type&11?Rr(e,n):e.type&4?Ja(e,n):null}function hw(e,n,t,r){return t===-1?lw(n,e):t===-2?uw(e,n,r):Is(e,e[j],t,n)}function uw(e,n,t){if(t===T1)return Rr(n,e);if(t===Vs)return Ja(n,e);if(t===Sr)return td(n,e)}function nd(e,n,t,r){let s=n[Mt].queries[r];if(s.matches===null){let o=e.data,i=t.matches,c=[];for(let a=0;i!==null&&a<i.length;a+=2){let l=i[a];if(l<0)c.push(null);else{let h=o[l];c.push(hw(n,h,i[a+1],t.metadata.read))}}s.matches=c}return s.matches}function K0(e,n,t,r){let s=e.queries.getByIndex(t),o=s.matches;if(o!==null){let i=nd(e,n,s,t);for(let c=0;c<o.length;c+=2){let a=o[c];if(a>0)r.push(i[c/2]);else{let l=o[c+1],h=n[-a];for(let d=G1;d<h.length;d++){let g=h[d];g[xn]===g[q1]&&K0(g[j],g,l,r)}if(h[pr]!==null){let d=h[pr];for(let g=0;g<d.length;g++){let v=d[g];K0(v[j],v,l,r)}}}}}return r}function dw(e,n){return e[Mt].queries[n].queryList}function pw(e,n,t){let r=new T0((t&4)===4);return vg(e,n,r,r.destroy),(n[Mt]??=new G0).queries.push(new W0(r))-1}function vw(e,n,t){let r=O1();return r.firstCreatePass&&(fw(r,new q0(e,n,t),-1),(n&2)===2&&(r.staticViewQueries=!0)),pw(r,t1(),n)}function gw(e){return e.split(",").map(n=>n.trim())}function fw(e,n,t){e.queries===null&&(e.queries=new Z0),e.queries.track(new Y0(n,t))}function Xa(e,n){return e.queries.getByIndex(n)}function mw(e,n){let t=e[j],r=Xa(t,n);return r.crossesNgTemplate?K0(t,e,n,[]):nd(t,e,r,n)}var Cr=class{},el=class{};var Q0=class extends Cr{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new ni(this);constructor(n,t,r,s=!0){super(),this.ngModuleType=n,this._parent=t;let o=ih(n);this._bootstrapComponents=Mu(o.bootstrap),this._r3Injector=Qh(n,t,[{provide:Cr,useValue:this},{provide:_i,useValue:this.componentFactoryResolver},...r],ce(n),new Set(["environment"])),s&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}},J0=class extends el{moduleType;constructor(n){super(),this.moduleType=n}create(n){return new Q0(this.moduleType,n,[])}};var ri=class extends Cr{injector;componentFactoryResolver=new ni(this);instance=null;constructor(n){super();let t=new _s([...n.providers,{provide:Cr,useValue:this},{provide:_i,useValue:this.componentFactoryResolver}],n.parent||wa(),n.debugName,new Set(["environment"]));this.injector=t,n.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}};function Ri(e,n,t=null){return new ri({providers:e,parent:n,debugName:t,runEnvironmentInitializers:!0}).injector}var ww=(()=>{class e{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=ch(!1,t.type),s=r.length>0?Ri([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,s)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=I({token:e,providedIn:"environment",factory:()=>new e(H(ae))})}return e})();function J(e){return li(()=>{let n=rd(e),t=L(z({},n),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===iu.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&e.dependencies||null,getStandaloneInjector:n.standalone?s=>s.get(ww).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Je.Emulated,styles:e.styles||_e,_:null,schemas:e.schemas||null,tView:null,id:""});n.standalone&&An("NgStandalone"),sd(t);let r=e.dependencies;return t.directiveDefs=k9(r,!1),t.pipeDefs=k9(r,!0),t.id=xw(t),t})}function Cw(e){return hr(e)||Gv(e)}function Mw(e){return e!==null}function Ie(e){return li(()=>({type:e.type,bootstrap:e.bootstrap||_e,declarations:e.declarations||_e,imports:e.imports||_e,exports:e.exports||_e,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function zw(e,n){if(e==null)return zn;let t={};for(let r in e)if(e.hasOwnProperty(r)){let s=e[r],o,i,c,a;Array.isArray(s)?(c=s[0],o=s[1],i=s[2]??o,a=s[3]||null):(o=s,i=s,c=Mi.None,a=null),t[o]=[r,c,a],n[o]=i}return t}function yw(e){if(e==null)return zn;let n={};for(let t in e)e.hasOwnProperty(t)&&(n[e[t]]=t);return n}function M1(e){return li(()=>{let n=rd(e);return sd(n),n})}function Si(e){return{type:e.type,name:e.name,factory:null,pure:e.pure!==!1,standalone:e.standalone??!0,onDestroy:e.type.prototype.ngOnDestroy||null}}function rd(e){let n={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,inputConfig:e.inputs||zn,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:e.signals===!0,selectors:e.selectors||_e,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:zw(e.inputs,n),outputs:yw(e.outputs),debugInfo:null}}function sd(e){e.features?.forEach(n=>n(e))}function k9(e,n){if(!e)return null;let t=n?qv:Cw;return()=>(typeof e=="function"?e():e).map(r=>t(r)).filter(Mw)}function xw(e){let n=0,t=typeof e.consts=="function"?"":e.consts,r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,t,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(let o of r.join("|"))n=Math.imul(31,n)+o.charCodeAt(0)<<0;return n+=2147483648,"c"+n}function _w(e){return Object.getPrototypeOf(e.prototype).constructor}function Ee(e){let n=_w(e.type),t=!0,r=[e];for(;n;){let s;if(Ze(e))s=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new E(903,!1);s=n.\u0275dir}if(s){if(t){r.push(s);let i=e;i.inputs=d0(e.inputs),i.declaredInputs=d0(e.declaredInputs),i.outputs=d0(e.outputs);let c=s.hostBindings;c&&bw(e,c);let a=s.viewQuery,l=s.contentQueries;if(a&&Iw(e,a),l&&Ew(e,l),Rw(e,s),yv(e.outputs,s.outputs),Ze(s)&&s.data.animation){let h=e.data;h.animation=(h.animation||[]).concat(s.data.animation)}}let o=s.features;if(o)for(let i=0;i<o.length;i++){let c=o[i];c&&c.ngInherit&&c(e),c===Ee&&(t=!1)}}n=Object.getPrototypeOf(n)}Sw(r)}function Rw(e,n){for(let t in n.inputs){if(!n.inputs.hasOwnProperty(t)||e.inputs.hasOwnProperty(t))continue;let r=n.inputs[t];r!==void 0&&(e.inputs[t]=r,e.declaredInputs[t]=n.declaredInputs[t])}}function Sw(e){let n=0,t=null;for(let r=e.length-1;r>=0;r--){let s=e[r];s.hostVars=n+=s.hostVars,s.hostAttrs=Ss(s.hostAttrs,t=Ss(t,s.hostAttrs))}}function d0(e){return e===zn?{}:e===_e?[]:e}function Iw(e,n){let t=e.viewQuery;t?e.viewQuery=(r,s)=>{n(r,s),t(r,s)}:e.viewQuery=n}function Ew(e,n){let t=e.contentQueries;t?e.contentQueries=(r,s,o)=>{n(r,s,o),t(r,s,o)}:e.contentQueries=n}function bw(e,n){let t=e.hostBindings;t?e.hostBindings=(r,s)=>{n(r,s),t(r,s)}:e.hostBindings=n}function od(e,n,t){return e[n]=t}function Dw(e,n){return e[n]}function Ln(e,n,t){let r=e[n];return Object.is(r,t)?!1:(e[n]=t,!0)}function Vw(e,n,t,r,s,o,i,c,a){let l=n.consts,h=xi(n,e,4,i||null,c||null);_h()&&Ku(n,t,h,vr(l,a),Vu),h.mergedAttrs=Ss(h.mergedAttrs,h.attrs),Bh(n,h);let d=h.tView=Oa(2,h,r,s,o,n.directiveRegistry,n.pipeRegistry,null,n.schemas,l,null);return n.queries!==null&&(n.queries.template(n,h),d.queries=n.queries.embeddedTView(h)),h}function si(e,n,t,r,s,o,i,c,a,l){let h=t+Z1,d=n.firstCreatePass?Vw(h,n,e,r,s,o,i,c,a):n.data[h];ks(d,!1);let g=Aw(n,e,d,t);ba()&&Ya(n,e,g,d),Bs(g,e);let v=Wu(g,e,g,d);return e[h]=v,Fa(e,v),iw(v,d,e),Ma(d)&&ja(n,e,d),a!=null&&Du(e,d,l),d}function B(e,n,t,r,s,o,i,c){let a=t1(),l=O1(),h=vr(l.consts,o);return si(a,l,e,n,t,r,s,h,i,c),B}var Aw=Lw;function Lw(e,n,t,r){return Da(!0),n[D1].createComment("")}var id=(()=>{class e{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();var cd=new R("");var ad=(()=>{class e{static \u0275prov=I({token:e,providedIn:"root",factory:()=>new X0})}return e})(),X0=class{queuedEffectCount=0;queues=new Map;schedule(n){this.enqueue(n)}remove(n){let t=n.zone,r=this.queues.get(t);r.has(n)&&(r.delete(n),this.queuedEffectCount--)}enqueue(n){let t=n.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(n)||(this.queuedEffectCount++,r.add(n))}flush(){for(;this.queuedEffectCount>0;)for(let[n,t]of this.queues)n===null?this.flushQueue(t):n.run(()=>this.flushQueue(t))}flushQueue(n){for(let t of n)n.delete(t),this.queuedEffectCount--,t.run()}};function qt(e){return!!e&&typeof e.then=="function"}function tl(e){return!!e&&typeof e.subscribe=="function"}var Hw=new R("");var ld=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=m(Hw,{optional:!0})??[];injector=m(X1);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let s of this.appInits){let o=ee(this.injector,s);if(qt(o))t.push(o);else if(tl(o)){let i=new Promise((c,a)=>{o.subscribe({complete:c,error:a})});t.push(i)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(s=>{this.reject(s)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||e)};static \u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),nl=new R("");function Tw(){kc(()=>{throw new E(600,!1)})}function kw(e){return e.isBoundToModule}var Nw=10;var bn=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=m(Xg);afterRenderManager=m(ff);zonelessEnabled=m(Aa);rootEffectScheduler=m(ad);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new _1;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=m(Gt).hasPendingTasks.pipe(W(t=>!t));constructor(){m(mi,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:s=>{s&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=m(ae);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,s=X1.NULL){v1(10);let o=t instanceof Yu;if(!this._injector.get(ld).done){let v="";throw new E(405,v)}let c;o?c=t:c=this._injector.get(_i).resolveComponentFactory(t),this.componentTypes.push(c.componentType);let a=kw(c)?void 0:this._injector.get(Cr),l=r||c.selector,h=c.create(s,[],l,a),d=h.location.nativeElement,g=h.injector.get(cd,null);return g?.registerApplication(d),h.onDestroy(()=>{this.detachView(h.hostView),T2(this.components,h),g?.unregisterApplication(d)}),this._loadComponent(h),v1(11,h),h}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){v1(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(vu.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new E(101,!1);let t=U(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,U(t),this.afterTick.next(),v1(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(wr,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<Nw;)v1(14),this.synchronizeOnce(),v1(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let t=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:s}of this.allViews)Bw(r,s,t,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>vi(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;T2(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(nl,[]).forEach(s=>s(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>T2(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new E(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||e)};static \u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function T2(e,n){let t=e.indexOf(n);t>-1&&e.splice(t,1)}function Bw(e,n,t,r){if(!t&&!vi(e))return;Fu(e,n,t&&!r?0:1)}function hd(e,n,t,r){return Ln(e,Ns(),t)?n+va(t)+r:nt}function D2(e,n){return e<<17|n<<2}function Dn(e){return e>>17&32767}function Ow(e){return(e&2)==2}function Pw(e,n){return e&131071|n<<17}function ea(e){return e|2}function Mr(e){return(e&131068)>>2}function p0(e,n){return e&-131069|n<<2}function Fw(e){return(e&1)===1}function ta(e){return e|1}function jw(e,n,t,r,s,o){let i=o?n.classBindings:n.styleBindings,c=Dn(i),a=Mr(i);e[r]=t;let l=!1,h;if(Array.isArray(t)){let d=t;h=d[1],(h===null||Hs(d,h)>0)&&(l=!0)}else h=t;if(s)if(a!==0){let g=Dn(e[c+1]);e[r+1]=D2(g,c),g!==0&&(e[g+1]=p0(e[g+1],r)),e[c+1]=Pw(e[c+1],r)}else e[r+1]=D2(c,0),c!==0&&(e[c+1]=p0(e[c+1],r)),c=r;else e[r+1]=D2(a,0),c===0?c=r:e[a+1]=p0(e[a+1],r),a=r;l&&(e[r+1]=ea(e[r+1])),N9(e,h,r,!0),N9(e,h,r,!1),Uw(n,h,e,r,o),i=D2(c,a),o?n.classBindings=i:n.styleBindings=i}function Uw(e,n,t,r,s){let o=s?e.residualClasses:e.residualStyles;o!=null&&typeof n=="string"&&Hs(o,n)>=0&&(t[r+1]=ta(t[r+1]))}function N9(e,n,t,r){let s=e[t+1],o=n===null,i=r?Dn(s):Mr(s),c=!1;for(;i!==0&&(c===!1||o);){let a=e[i],l=e[i+1];$w(a,n)&&(c=!0,e[i+1]=r?ta(l):ea(l)),i=r?Dn(l):Mr(l)}c&&(e[t+1]=r?ea(s):ta(s))}function $w(e,n){return e===null||n==null||(Array.isArray(e)?e[1]:e)===n?!0:Array.isArray(e)&&typeof n=="string"?Hs(e,n)>=0:!1}function q(e,n,t){let r=t1(),s=Ns();if(Ln(r,s,n)){let o=O1(),i=Ea();Ua(o,i,r,e,n,r[D1],t,!1)}return q}function B9(e,n,t,r,s){$a(n,e,t,s?"class":"style",r)}function Fs(e,n,t){return ud(e,n,t,!1),Fs}function Ir(e,n){return ud(e,n,null,!0),Ir}function ud(e,n,t,r){let s=t1(),o=O1(),i=yg(2);if(o.firstUpdatePass&&Gw(o,e,i,r),n!==nt&&Ln(s,i,n)){let c=o.data[Vn()];Qw(o,c,s,s[D1],e,s[i+1]=Jw(n,t),r,i)}}function Ww(e,n){return n>=e.expandoStartIndex}function Gw(e,n,t,r){let s=e.data;if(s[t+1]===null){let o=s[Vn()],i=Ww(e,t);Xw(o,r)&&n===null&&!i&&(n=!1),n=qw(s,o,n,r),jw(s,o,n,t,i,r)}}function qw(e,n,t,r){let s=Sg(e),o=r?n.residualClasses:n.residualStyles;if(s===null)(r?n.classBindings:n.styleBindings)===0&&(t=v0(null,e,n,t,r),t=Ls(t,n.attrs,r),o=null);else{let i=n.directiveStylingLast;if(i===-1||e[i]!==s)if(t=v0(s,e,n,t,r),o===null){let a=Zw(e,n,r);a!==void 0&&Array.isArray(a)&&(a=v0(null,e,n,a[1],r),a=Ls(a,n.attrs,r),Yw(e,n,r,a))}else o=Kw(e,n,r)}return o!==void 0&&(r?n.residualClasses=o:n.residualStyles=o),t}function Zw(e,n,t){let r=t?n.classBindings:n.styleBindings;if(Mr(r)!==0)return e[Dn(r)]}function Yw(e,n,t,r){let s=t?n.classBindings:n.styleBindings;e[Dn(s)]=r}function Kw(e,n,t){let r,s=n.directiveEnd;for(let o=1+n.directiveStylingLast;o<s;o++){let i=e[o].hostAttrs;r=Ls(r,i,t)}return Ls(r,n.attrs,t)}function v0(e,n,t,r,s){let o=null,i=t.directiveEnd,c=t.directiveStylingLast;for(c===-1?c=t.directiveStart:c++;c<i&&(o=n[c],r=Ls(r,o.hostAttrs,s),o!==e);)c++;return e!==null&&(t.directiveStylingLast=c),r}function Ls(e,n,t){let r=t?1:2,s=-1;if(n!==null)for(let o=0;o<n.length;o++){let i=n[o];typeof i=="number"?s=i:s===r&&(Array.isArray(e)||(e=e===void 0?[]:["",e]),$v(e,i,t?!0:n[++o]))}return e===void 0?null:e}function Qw(e,n,t,r,s,o,i,c){if(!(n.type&3))return;let a=e.data,l=a[c+1],h=Fw(l)?O9(a,n,t,s,Mr(l),i):void 0;if(!oi(h)){oi(o)||Ow(l)&&(o=O9(a,null,t,s,c,i));let d=Mh(Vn(),t);pm(r,i,d,s,o)}}function O9(e,n,t,r,s,o){let i=n===null,c;for(;s>0;){let a=e[s],l=Array.isArray(a),h=l?a[1]:a,d=h===null,g=t[s+1];g===nt&&(g=d?_e:void 0);let v=d?r0(g,r):h===r?g:void 0;if(l&&!oi(v)&&(v=r0(a,r)),oi(v)&&(c=v,i))return c;let u=e[s+1];s=i?Dn(u):Mr(u)}if(n!==null){let a=o?n.residualClasses:n.residualStyles;a!=null&&(c=r0(a,r))}return c}function oi(e){return e!==void 0}function Jw(e,n){return e==null||e===""||(typeof n=="string"?e=e+n:typeof e=="object"&&(e=ce(wi(e)))),e}function Xw(e,n){return(e.flags&(n?8:16))!==0}var na=class{destroy(n){}updateValue(n,t){}swap(n,t){let r=Math.min(n,t),s=Math.max(n,t),o=this.detach(s);if(s-r>1){let i=this.detach(r);this.attach(r,o),this.attach(s,i)}else this.attach(r,o)}move(n,t){this.attach(t,this.detach(n))}};function g0(e,n,t,r,s){return e===t&&Object.is(n,r)?1:Object.is(s(e,n),s(t,r))?-1:0}function eC(e,n,t){let r,s,o=0,i=e.length-1,c=void 0;if(Array.isArray(n)){let a=n.length-1;for(;o<=i&&o<=a;){let l=e.at(o),h=n[o],d=g0(o,l,o,h,t);if(d!==0){d<0&&e.updateValue(o,h),o++;continue}let g=e.at(i),v=n[a],u=g0(i,g,a,v,t);if(u!==0){u<0&&e.updateValue(i,v),i--,a--;continue}let M=t(o,l),S=t(i,g),V=t(o,h);if(Object.is(V,S)){let r1=t(a,v);Object.is(r1,M)?(e.swap(o,i),e.updateValue(i,v),a--,i--):e.move(i,o),e.updateValue(o,h),o++;continue}if(r??=new ii,s??=F9(e,o,i,t),ra(e,r,o,V))e.updateValue(o,h),o++,i++;else if(s.has(V))r.set(M,e.detach(o)),i--;else{let r1=e.create(o,n[o]);e.attach(o,r1),o++,i++}}for(;o<=a;)P9(e,r,t,o,n[o]),o++}else if(n!=null){let a=n[Symbol.iterator](),l=a.next();for(;!l.done&&o<=i;){let h=e.at(o),d=l.value,g=g0(o,h,o,d,t);if(g!==0)g<0&&e.updateValue(o,d),o++,l=a.next();else{r??=new ii,s??=F9(e,o,i,t);let v=t(o,d);if(ra(e,r,o,v))e.updateValue(o,d),o++,i++,l=a.next();else if(!s.has(v))e.attach(o,e.create(o,d)),o++,i++,l=a.next();else{let u=t(o,h);r.set(u,e.detach(o)),i--}}}for(;!l.done;)P9(e,r,t,e.length,l.value),l=a.next()}for(;o<=i;)e.destroy(e.detach(i--));r?.forEach(a=>{e.destroy(a)})}function ra(e,n,t,r){return n!==void 0&&n.has(r)?(e.attach(t,n.get(r)),n.delete(r),!0):!1}function P9(e,n,t,r,s){if(ra(e,n,r,t(r,s)))e.updateValue(r,s);else{let o=e.create(r,s);e.attach(r,o)}}function F9(e,n,t,r){let s=new Set;for(let o=n;o<=t;o++)s.add(r(o,e.at(o)));return s}var ii=class{kvMap=new Map;_vMap=void 0;has(n){return this.kvMap.has(n)}delete(n){if(!this.has(n))return!1;let t=this.kvMap.get(n);return this._vMap!==void 0&&this._vMap.has(t)?(this.kvMap.set(n,this._vMap.get(t)),this._vMap.delete(t)):this.kvMap.delete(n),!0}get(n){return this.kvMap.get(n)}set(n,t){if(this.kvMap.has(n)){let r=this.kvMap.get(n);this._vMap===void 0&&(this._vMap=new Map);let s=this._vMap;for(;s.has(r);)r=s.get(r);s.set(r,t)}else this.kvMap.set(n,t)}forEach(n){for(let[t,r]of this.kvMap)if(n(r,t),this._vMap!==void 0){let s=this._vMap;for(;s.has(r);)r=s.get(r),n(r,t)}}};function k(e,n){An("NgControlFlow");let t=t1(),r=Ns(),s=t[r]!==nt?t[r]:-1,o=s!==-1?ci(t,Z1+s):void 0,i=0;if(Ln(t,r,e)){let c=U(null);try{if(o!==void 0&&qu(o,i),e!==-1){let a=Z1+e,l=ci(t,a),h=ca(t[j],a),d=mr(l,h.tView.ssrId),g=Os(t,h,n,{dehydratedView:d});Ps(l,g,i,fr(h,d))}}finally{U(c)}}else if(o!==void 0){let c=Gu(o,i);c!==void 0&&(c[H1]=n)}}var sa=class{lContainer;$implicit;$index;constructor(n,t,r){this.lContainer=n,this.$implicit=t,this.$index=r}get $count(){return this.lContainer.length-G1}};function Ce(e,n){return n}var oa=class{hasEmptyBlock;trackByFn;liveCollection;constructor(n,t,r){this.hasEmptyBlock=n,this.trackByFn=t,this.liveCollection=r}};function k1(e,n,t,r,s,o,i,c,a,l,h,d,g){An("NgControlFlow");let v=t1(),u=O1(),M=a!==void 0,S=t1(),V=c?i.bind(S[me][H1]):i,r1=new oa(M,V);S[Z1+e]=r1,si(v,u,e+1,n,t,r,s,vr(u.consts,o)),M&&si(v,u,e+2,a,l,h,d,vr(u.consts,g))}var ia=class extends na{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(n,t,r){super(),this.lContainer=n,this.hostLView=t,this.templateTNode=r}get length(){return this.lContainer.length-G1}at(n){return this.getLView(n)[H1].$implicit}attach(n,t){let r=t[dr];this.needsIndexUpdate||=n!==this.length,Ps(this.lContainer,t,n,fr(this.templateTNode,r))}detach(n){return this.needsIndexUpdate||=n!==this.length-1,tC(this.lContainer,n)}create(n,t){let r=mr(this.lContainer,this.templateTNode.tView.ssrId),s=Os(this.hostLView,this.templateTNode,new sa(this.lContainer,t,n),{dehydratedView:r});return this.operationsCounter?.recordCreate(),s}destroy(n){zi(n[j],n),this.operationsCounter?.recordDestroy()}updateValue(n,t){this.getLView(n)[H1].$implicit=t}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let n=0;n<this.length;n++)this.getLView(n)[H1].$index=n}getLView(n){return nC(this.lContainer,n)}};function N1(e){let n=U(null),t=Vn();try{let r=t1(),s=r[j],o=r[t],i=t+1,c=ci(r,i);if(o.liveCollection===void 0){let l=ca(s,i);o.liveCollection=new ia(c,r,l)}else o.liveCollection.reset();let a=o.liveCollection;if(eC(a,e,o.trackByFn),a.updateIndexes(),o.hasEmptyBlock){let l=Ns(),h=a.length===0;if(Ln(r,l,h)){let d=t+2,g=ci(r,d);if(h){let v=ca(s,d),u=mr(g,v.tView.ssrId),M=Os(r,v,void 0,{dehydratedView:u});Ps(g,M,0,fr(v,u))}else qu(g,0)}}}finally{U(n)}}function ci(e,n){return e[n]}function tC(e,n){return bs(e,n)}function nC(e,n){return Gu(e,n)}function ca(e,n){return za(e,n)}function C(e,n,t,r){let s=t1(),o=O1(),i=Z1+e,c=s[D1],a=o.firstCreatePass?Ju(i,o,s,n,Vu,_h(),t,r):o.data[i],l=rC(o,s,a,c,n,e);s[i]=l;let h=Ma(a);return ks(a,!0),Ru(c,l,a),!qa(a)&&ba()&&Ya(o,s,l,a),(gg()===0||h)&&Bs(l,s),fg(),h&&(ja(o,s,a),wu(o,a,s)),r!==null&&Du(s,a),C}function w(){let e=he();Ih()?Eh():(e=e.parent,ks(e,!1));let n=e;wg(n)&&Cg(),mg();let t=O1();return t.firstCreatePass&&Xu(t,n),n.classesWithoutHost!=null&&Ag(n)&&B9(t,n,t1(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&Lg(n)&&B9(t,n,t1(),n.stylesWithoutHost,!1),w}function _(e,n,t,r){return C(e,n,t,r),w(),_}var rC=(e,n,t,r,s,o)=>(Da(!0),xu(r,s,bg()));function R1(){return t1()}var mn=void 0;function sC(e){let n=Math.floor(Math.abs(e)),t=e.toString().replace(/^[^.]*\.?/,"").length;return n===1&&t===0?1:5}var oC=["en",[["a","p"],["AM","PM"],mn],[["AM","PM"],mn,mn],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],mn,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],mn,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",mn,"{1} 'at' {0}",mn],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",sC],f0={};function Ii(e){let n=iC(e),t=j9(n);if(t)return t;let r=n.split("-")[0];if(t=j9(r),t)return t;if(r==="en")return oC;throw new E(701,!1)}function j9(e){return e in f0||(f0[e]=Cs.ng&&Cs.ng.common&&Cs.ng.common.locales&&Cs.ng.common.locales[e]),f0[e]}var Hn=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(Hn||{});function iC(e){return e.toLowerCase().replace(/_/g,"-")}var ai="en-US",cC="USD";var aC=ai;function lC(e){typeof e=="string"&&(aC=e.toLowerCase().replace(/_/g,"-"))}function U9(e,n,t){return function r(s){if(s===Function)return t;let o=xr(e)?Ke(e.index,n):n;Qa(o,5);let i=n[H1],c=$9(n,i,t,s),a=r.__ngNextListenerFn__;for(;a;)c=$9(n,i,a,s)&&c,a=a.__ngNextListenerFn__;return c}}function $9(e,n,t,r){let s=U(null);try{return v1(6,n,t),t(r)!==!1}catch(o){return hC(e,o),!1}finally{v1(7,n,t),U(s)}}function hC(e,n){let t=e[yn],r=t?t.get(Qe,null):null;r&&r.handleError(n)}function W9(e,n,t,r,s,o){let i=n[t],c=n[j],l=c.data[t].outputs[r],h=i[l],d=c.firstCreatePass?_a(c):null,g=xa(n),v=h.subscribe(o),u=g.length;g.push(o,v),d&&d.push(s,e.index,u,-(u+1))}var uC=new Map;function O(e,n,t,r){let s=t1(),o=O1(),i=he();return dd(o,s,s[D1],i,e,n,r),O}function dC(e,n,t,r){let s=e.cleanup;if(s!=null)for(let o=0;o<s.length-1;o+=2){let i=s[o];if(i===t&&s[o+1]===r){let c=n[j2],a=s[o+2];return c.length>a?c[a]:null}typeof i=="string"&&(o+=2)}return null}function dd(e,n,t,r,s,o,i){let c=Ma(r),l=e.firstCreatePass?_a(e):null,h=xa(n),d=!0;if(r.type&3||i){let g=_t(r,n),v=i?i(g):g,u=h.length,M=i?V=>i(Ye(V[r.index])):r.index,S=null;if(!i&&c&&(S=dC(e,n,s,r.index)),S!==null){let V=S.__ngLastListenerFn__||S;V.__ngNextListenerFn__=o,S.__ngLastListenerFn__=o,d=!1}else{o=U9(r,n,o);let V=n[yn].get(fi);uC.get(V)?.(v,s,o);let Z=t.listen(v,s,o);h.push(o,Z),l&&l.push(s,M,u,u+1)}}else o=U9(r,n,o);if(d){let g=r.outputs?.[s],v=r.hostDirectiveOutputs?.[s];if(v&&v.length)for(let u=0;u<v.length;u+=2){let M=v[u],S=v[u+1];W9(r,n,M,S,s,o)}if(g&&g.length)for(let u of g)W9(r,n,u,s,s,o)}}function D(e=1){return Eg(e)}function pC(e,n){let t=null,r=Ef(e);for(let s=0;s<n.length;s++){let o=n[s];if(o==="*"){t=s;continue}if(r===null?yu(e,o,!0):Vf(r,o))return s}return t}function rl(e){let n=t1()[me][le];if(!n.projection){let t=e?e.length:1,r=n.projection=jv(t,null),s=r.slice(),o=n.child;for(;o!==null;){if(o.type!==128){let i=e?pC(o,e):0;i!==null&&(s[i]?s[i].projectionNext=o:r[i]=o,s[i]=o)}o=o.next}}}function sl(e,n=0,t,r,s,o){let i=t1(),c=O1(),a=r?e+1:null;a!==null&&si(i,c,a,r,s,o,null,t);let l=xi(c,Z1+e,16,null,t||null);l.projection===null&&(l.projection=n),Eh();let d=!i[dr]||Rh();i[me][le].projection[l.projection]===null&&a!==null?vC(i,c,a):d&&!qa(l)&&um(c,i,l)}function vC(e,n,t){let r=Z1+t,s=n.data[r],o=e[r],i=mr(o,s.tView.ssrId),c=Os(e,s,void 0,{dehydratedView:i});Ps(o,c,0,fr(s,i))}function Er(e,n,t){return pd(e,"",n,"",t),Er}function pd(e,n,t,r,s){let o=t1(),i=hd(o,n,t,r);if(i!==nt){let c=O1(),a=Ea();Ua(c,a,o,e,i,o[D1],s,!1)}return pd}function vd(e,n,t){vw(e,n,t)}function ol(e){let n=t1(),t=O1(),r=Vh();Ra(r+1);let s=Xa(t,r);if(e.dirty&&hg(n)===((s.metadata.flags&2)===2)){if(s.matches===null)e.reset([]);else{let o=mw(n,r);e.reset(o,nf),e.notifyOnChanges()}return!0}return!1}function il(){return dw(t1(),Vh())}function gC(e,n,t,r){t>=e.data.length&&(e.data[t]=null,e.blueprint[t]=null),n[t]=r}function y(e,n=""){let t=t1(),r=O1(),s=e+Z1,o=r.firstCreatePass?xi(r,s,1,n,null):r.data[s],i=fC(r,t,o,n,e);t[s]=i,ba()&&Ya(r,t,i,o),ks(o,!1)}var fC=(e,n,t,r,s)=>(Da(!0),Tf(n[D1],r));function X(e){return Oe("",e,""),X}function Oe(e,n,t){let r=t1(),s=hd(r,e,n,t);return s!==nt&&mC(r,Vn(),s),Oe}function mC(e,n,t){let r=Mh(n,e);kf(e[D1],r,t)}function cl(e,n,t){su(n)&&(n=n());let r=t1(),s=Ns();if(Ln(r,s,n)){let o=O1(),i=Ea();Ua(o,i,r,e,n,r[D1],t,!1)}return cl}function gd(e,n){let t=su(e);return t&&e.set(n),t}function al(e,n){let t=t1(),r=O1(),s=he();return dd(r,t,t[D1],s,e,n),al}function wC(e,n,t){let r=O1();if(r.firstCreatePass){let s=Ze(e);aa(t,r.data,r.blueprint,s,!0),aa(n,r.data,r.blueprint,s,!1)}}function aa(e,n,t,r,s){if(e=J1(e),Array.isArray(e))for(let o=0;o<e.length;o++)aa(e[o],n,t,r,s);else{let o=O1(),i=t1(),c=he(),a=ur(e)?e:J1(e.provide),l=hh(e),h=c.providerIndexes&1048575,d=c.directiveStart,g=c.providerIndexes>>20;if(ur(e)||!e.multi){let v=new En(l,s,T),u=w0(a,n,s?h:h+g,d);u===-1?(b0(Y2(c,i),o,a),m0(o,e,n.length),n.push(a),c.directiveStart++,c.directiveEnd++,s&&(c.providerIndexes+=1048576),t.push(v),i.push(v)):(t[u]=v,i[u]=v)}else{let v=w0(a,n,h+g,d),u=w0(a,n,h,h+g),M=v>=0&&t[v],S=u>=0&&t[u];if(s&&!S||!s&&!M){b0(Y2(c,i),o,a);let V=zC(s?MC:CC,t.length,s,r,l);!s&&S&&(t[u].providerFactory=V),m0(o,e,n.length,0),n.push(a),c.directiveStart++,c.directiveEnd++,s&&(c.providerIndexes+=1048576),t.push(V),i.push(V)}else{let V=fd(t[s?u:v],l,!s&&r);m0(o,e,v>-1?v:u,V)}!s&&r&&S&&t[u].componentProviders++}}}function m0(e,n,t,r){let s=ur(n),o=Jv(n);if(s||o){let a=(o?J1(n.useClass):n).prototype.ngOnDestroy;if(a){let l=e.destroyHooks||(e.destroyHooks=[]);if(!s&&n.multi){let h=l.indexOf(t);h===-1?l.push(t,[r,a]):l[h+1].push(r,a)}else l.push(t,a)}}}function fd(e,n,t){return t&&e.componentProviders++,e.multi.push(n)-1}function w0(e,n,t,r){for(let s=t;s<r;s++)if(n[s]===e)return s;return-1}function CC(e,n,t,r,s){return la(this.multi,[])}function MC(e,n,t,r,s){let o=this.multi,i;if(this.providerFactory){let c=this.providerFactory.componentProviders,a=Is(r,r[j],this.providerFactory.index,s);i=a.slice(0,c),la(o,i);for(let l=c;l<a.length;l++)i.push(a[l])}else i=[],la(o,i);return i}function la(e,n){for(let t=0;t<e.length;t++){let r=e[t];n.push(r())}return n}function zC(e,n,t,r,s){let o=new En(e,t,T);return o.multi=[],o.index=n,o.componentProviders=0,fd(o,s,r&&!t),o}function z1(e,n=[]){return t=>{t.providersResolver=(r,s)=>wC(r,s?s(e):e,n)}}function Pe(e,n,t){let r=Dh()+e,s=t1();return s[r]===nt?od(s,r,t?n.call(t):n()):Dw(s,r)}function yC(e,n){let t=e[n];return t===nt?void 0:t}function xC(e,n,t,r,s,o){let i=n+t;return Ln(e,i,s)?od(e,i+1,o?r.call(o,s):r(s)):yC(e,i+1)}function j1(e,n){let t=O1(),r,s=e+Z1;t.firstCreatePass?(r=_C(n,t.pipeRegistry),t.data[s]=r,r.onDestroy&&(t.destroyHooks??=[]).push(s,r.onDestroy)):r=t.data[s];let o=r.factory||(r.factory=Mn(r.type,!0)),i,c=ie(T);try{let a=Z2(!1),l=o();return Z2(a),gC(t,t1(),s,l),l}finally{ie(c)}}function _C(e,n){if(n)for(let t=n.length-1;t>=0;t--){let r=n[t];if(e===r.name)return r}}function U1(e,n,t){let r=e+Z1,s=t1(),o=lg(s,r);return RC(s,r)?xC(s,Dh(),n,o.transform,t,o):o.transform(t)}function RC(e,n){return e[j].data[n].pure}var ha=class{ngModuleFactory;componentFactories;constructor(n,t){this.ngModuleFactory=n,this.componentFactories=t}},md=(()=>{class e{compileModuleSync(t){return new J0(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),s=ih(t),o=Mu(s.declarations).reduce((i,c)=>{let a=hr(c);return a&&i.push(new As(a)),i},[]);return new ha(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||e)};static \u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var SC=(()=>{class e{zone=m(C1);changeDetectionScheduler=m(gr);applicationRef=m(bn);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),IC=new R("",{factory:()=>!1});function wd({ngZoneFactory:e,ignoreChangesOutsideZone:n,scheduleInRootZone:t}){return e??=()=>new C1(L(z({},Md()),{scheduleInRootZone:t})),[{provide:C1,useFactory:e},{provide:xs,multi:!0,useFactory:()=>{let r=m(SC,{optional:!0});return()=>r.initialize()}},{provide:xs,multi:!0,useFactory:()=>{let r=m(EC);return()=>{r.initialize()}}},n===!0?{provide:Xh,useValue:!0}:[],{provide:eu,useValue:t??Jh}]}function Cd(e){let n=e?.ignoreChangesOutsideZone,t=e?.scheduleInRootZone,r=wd({ngZoneFactory:()=>{let s=Md(e);return s.scheduleInRootZone=t,s.shouldCoalesceEventChangeDetection&&An("NgZone_CoalesceEvent"),new C1(s)},ignoreChangesOutsideZone:n,scheduleInRootZone:t});return zr([{provide:IC,useValue:!0},{provide:Aa,useValue:!1},r])}function Md(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}var EC=(()=>{class e{subscription=new y1;initialized=!1;zone=m(C1);pendingTasks=m(Gt);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{C1.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{C1.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var bC=(()=>{class e{appRef=m(bn);taskService=m(Gt);ngZone=m(C1);zonelessEnabled=m(Aa);tracing=m(mi,{optional:!0});disableScheduling=m(Xh,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new y1;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(J2):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(m(eu,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof L0||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let r=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let s=this.useMicrotaskScheduler?y9:tu;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>s(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>s(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(J2+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(t),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,y9(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||e)};static \u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function DC(){return typeof $localize<"u"&&$localize.locale||ai}var Ei=new R("",{providedIn:"root",factory:()=>m(Ei,G.Optional|G.SkipSelf)||DC()}),zd=new R("",{providedIn:"root",factory:()=>cC});var ua=new R(""),VC=new R("");function ws(e){return!e.moduleRef}function AC(e){let n=ws(e)?e.r3Injector:e.moduleRef.injector,t=n.get(C1);return t.run(()=>{ws(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();let r=n.get(Qe,null),s;if(t.runOutsideAngular(()=>{s=t.onError.subscribe({next:o=>{r.handleError(o)}})}),ws(e)){let o=()=>n.destroy(),i=e.platformInjector.get(ua);i.add(o),n.onDestroy(()=>{s.unsubscribe(),i.delete(o)})}else{let o=()=>e.moduleRef.destroy(),i=e.platformInjector.get(ua);i.add(o),e.moduleRef.onDestroy(()=>{T2(e.allPlatformModules,e.moduleRef),s.unsubscribe(),i.delete(o)})}return HC(r,t,()=>{let o=n.get(ld);return o.runInitializers(),o.donePromise.then(()=>{let i=n.get(Ei,ai);if(lC(i||ai),!n.get(VC,!0))return ws(e)?n.get(bn):(e.allPlatformModules.push(e.moduleRef),e.moduleRef);if(ws(e)){let a=n.get(bn);return e.rootComponent!==void 0&&a.bootstrap(e.rootComponent),a}else return LC(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}function LC(e,n){let t=e.injector.get(bn);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>t.bootstrap(r));else if(e.instance.ngDoBootstrap)e.instance.ngDoBootstrap(t);else throw new E(-403,!1);n.push(e)}function HC(e,n,t){try{let r=t();return qt(r)?r.catch(s=>{throw n.runOutsideAngular(()=>e.handleError(s)),s}):r}catch(r){throw n.runOutsideAngular(()=>e.handleError(r)),r}}var k2=null;function TC(e=[],n){return X1.create({name:n,providers:[{provide:di,useValue:"platform"},{provide:ua,useValue:new Set([()=>k2=null])},...e]})}function kC(e=[]){if(k2)return k2;let n=TC(e);return k2=n,Tw(),NC(n),n}function NC(e){let n=e.get(Ta,null);ee(e,()=>{n?.forEach(t=>t())})}var Zt=(()=>{class e{static __NG_ELEMENT_ID__=BC}return e})();function BC(e){return OC(he(),t1(),(e&16)===16)}function OC(e,n,t){if(xr(e)&&!t){let r=Ke(e.index,n);return new Ds(r,r)}else if(e.type&175){let r=n[me];return new Ds(r,n)}return null}function yd(e){v1(8);try{let{rootComponent:n,appProviders:t,platformProviders:r}=e,s=kC(r),o=[wd({}),{provide:gr,useExisting:bC},...t||[]],i=new ri({providers:o,parent:s,debugName:"",runEnvironmentInitializers:!1});return AC({r3Injector:i.injector,platformInjector:s,rootComponent:n})}catch(n){return Promise.reject(n)}finally{v1(9)}}function St(e){return typeof e=="boolean"?e:e!=null&&e!=="false"}function bi(e,n=NaN){return!isNaN(parseFloat(e))&&!isNaN(Number(e))?Number(e):n}function be(e){return Oc(e)}function Tn(e,n){return Tc(e,n?.equal)}var da=class{[ye];constructor(n){this[ye]=n}destroy(){this[ye].destroy()}};function br(e,n){!n?.injector&&Ca(br);let t=n?.injector??m(X1),r=n?.manualCleanup!==!0?t.get(et):null,s,o=t.get(gu,null,{optional:!0}),i=t.get(gr);return o!==null&&!n?.forceRoot?(s=jC(o.view,i,e),r instanceof Q2&&r._lView===o.view&&(r=null)):s=UC(e,t.get(ad),i),s.injector=t,r!==null&&(s.onDestroyFn=r.onDestroy(()=>s.destroy())),new da(s)}var xd=L(z({},Zn),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,hasRun:!1,cleanupFns:void 0,zone:null,kind:"effect",onDestroyFn:Es,run(){if(this.dirty=!1,this.hasRun&&!Jo(this))return;this.hasRun=!0;let e=r=>(this.cleanupFns??=[]).push(r),n=hs(this),t=W2(!1);try{this.maybeCleanup(),this.fn(e)}finally{W2(t),Qo(this,n)}},maybeCleanup(){if(this.cleanupFns?.length)try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[]}}}),PC=L(z({},xd),{consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(12)},destroy(){us(this),this.onDestroyFn(),this.maybeCleanup(),this.scheduler.remove(this)}}),FC=L(z({},xd),{consumerMarkedDirty(){this.view[P]|=8192,Ts(this.view),this.notifier.notify(13)},destroy(){us(this),this.onDestroyFn(),this.maybeCleanup(),this.view[_n]?.delete(this)}});function jC(e,n,t){let r=Object.create(FC);return r.view=e,r.zone=typeof Zone<"u"?Zone.current:null,r.notifier=n,r.fn=t,e[_n]??=new Set,e[_n].add(r),r.consumerMarkedDirty(r),r}function UC(e,n,t){let r=Object.create(PC);return r.fn=e,r.scheduler=n,r.notifier=t,r.zone=typeof Zone<"u"?Zone.current:null,r.scheduler.schedule(r),r.notifier.notify(12),r}var S1=new R("");var Sd=null;function De(){return Sd}function ll(e){Sd??=e}var js=class{},hl=(()=>{class e{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=I({token:e,factory:()=>m(Id),providedIn:"platform"})}return e})();var Id=(()=>{class e extends hl{_location;_history;_doc=m(S1);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return De().getBaseHref(this._doc)}onPopState(t){let r=De().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=De().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,s){this._history.pushState(t,r,s)}replaceState(t,r,s){this._history.replaceState(t,r,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||e)};static \u0275prov=I({token:e,factory:()=>new e,providedIn:"platform"})}return e})();function Ed(e,n){return e?n?e.endsWith("/")?n.startsWith("/")?e+n.slice(1):e+n:n.startsWith("/")?e+n:`${e}/${n}`:e:n}function _d(e){let n=e.search(/#|\?|$/);return e[n-1]==="/"?e.slice(0,n-1)+e.slice(n):e}function Yt(e){return e&&e[0]!=="?"?`?${e}`:e}var Di=(()=>{class e{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=I({token:e,factory:()=>m(Dd),providedIn:"root"})}return e})(),bd=new R(""),Dd=(()=>{class e extends Di{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??m(S1).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Ed(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+Yt(this._platformLocation.search),s=this._platformLocation.hash;return s&&t?`${r}${s}`:r}pushState(t,r,s,o){let i=this.prepareExternalUrl(s+Yt(o));this._platformLocation.pushState(t,r,i)}replaceState(t,r,s,o){let i=this.prepareExternalUrl(s+Yt(o));this._platformLocation.replaceState(t,r,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||e)(H(hl),H(bd,8))};static \u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Dr=(()=>{class e{_subject=new _1;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=GC(_d(Rd(r))),this._locationStrategy.onPopState(s=>{this._subject.next({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Yt(r))}normalize(t){return e.stripTrailingSlash(WC(this._basePath,Rd(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",s=null){this._locationStrategy.pushState(s,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Yt(r)),s)}replaceState(t,r="",s=null){this._locationStrategy.replaceState(s,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Yt(r)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(s=>s(t,r))}subscribe(t,r,s){return this._subject.subscribe({next:t,error:r??void 0,complete:s??void 0})}static normalizeQueryParams=Yt;static joinWithSlash=Ed;static stripTrailingSlash=_d;static \u0275fac=function(r){return new(r||e)(H(Di))};static \u0275prov=I({token:e,factory:()=>$C(),providedIn:"root"})}return e})();function $C(){return new Dr(H(Di))}function WC(e,n){if(!e||!n.startsWith(e))return n;let t=n.substring(e.length);return t===""||["/",";","?","#"].includes(t[0])?t:n}function Rd(e){return e.replace(/\/index.html$/,"")}function GC(e){if(new RegExp("^(https?:)?//").test(e)){let[,t]=e.split(/\/\/[^\/]+/);return t}return e}var Hd={ADP:[void 0,void 0,0],AFN:[void 0,"\u060B",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058F",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20BC"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09F3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xA5","\xA5"],COP:[void 0,"$",2],CRC:[void 0,"\u20A1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010D",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xA3"],ESP:[void 0,"\u20A7",0],EUR:["\u20AC"],FJD:[void 0,"$"],FKP:[void 0,"\xA3"],GBP:["\xA3"],GEL:[void 0,"\u20BE"],GHS:[void 0,"GH\u20B5"],GIP:[void 0,"\xA3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20AA"],INR:["\u20B9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xA5",void 0,0],KHR:[void 0,"\u17DB"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20A9",0],KRW:["\u20A9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20B8"],LAK:[void 0,"\u20AD",0],LBP:[void 0,"L\xA3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20AE",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20A6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20B1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20B2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20BD"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xA3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xA3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xA3",0],THB:[void 0,"\u0E3F"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20BA"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20B4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20AB",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202FCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xA4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]},fl=function(e){return e[e.Decimal=0]="Decimal",e[e.Percent=1]="Percent",e[e.Currency=2]="Currency",e[e.Scientific=3]="Scientific",e}(fl||{});var rt={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function Vr(e,n){let t=Ii(e),r=t[Hn.NumberSymbols][n];if(typeof r>"u"){if(n===rt.CurrencyDecimal)return t[Hn.NumberSymbols][rt.Decimal];if(n===rt.CurrencyGroup)return t[Hn.NumberSymbols][rt.Group]}return r}function Td(e,n){return Ii(e)[Hn.NumberFormats][n]}function qC(e){return Ii(e)[Hn.Currencies]}function kd(e,n,t="en"){let r=qC(t)[e]||Hd[e]||[],s=r[1];return n==="narrow"&&typeof s=="string"?s:r[0]||e}var ZC=2;function Nd(e){let n,t=Hd[e];return t&&(n=t[2]),typeof n=="number"?n:ZC}var YC=/^(\d+)?\.((\d+)(-(\d+))?)?$/,Vd=22,Vi=".",Us="0",KC=";",QC=",",ul="#",Ad="\xA4";function JC(e,n,t,r,s,o,i=!1){let c="",a=!1;if(!isFinite(e))c=Vr(t,rt.Infinity);else{let l=tM(e);i&&(l=eM(l));let h=n.minInt,d=n.minFrac,g=n.maxFrac;if(o){let r1=o.match(YC);if(r1===null)throw new Error(`${o} is not a valid digit info`);let Z=r1[1],I1=r1[3],re=r1[5];Z!=null&&(h=dl(Z)),I1!=null&&(d=dl(I1)),re!=null?g=dl(re):I1!=null&&d>g&&(g=d)}nM(l,d,g);let v=l.digits,u=l.integerLen,M=l.exponent,S=[];for(a=v.every(r1=>!r1);u<h;u++)v.unshift(0);for(;u<0;u++)v.unshift(0);u>0?S=v.splice(u,v.length):(S=v,v=[0]);let V=[];for(v.length>=n.lgSize&&V.unshift(v.splice(-n.lgSize,v.length).join(""));v.length>n.gSize;)V.unshift(v.splice(-n.gSize,v.length).join(""));v.length&&V.unshift(v.join("")),c=V.join(Vr(t,r)),S.length&&(c+=Vr(t,s)+S.join("")),M&&(c+=Vr(t,rt.Exponential)+"+"+M)}return e<0&&!a?c=n.negPre+c+n.negSuf:c=n.posPre+c+n.posSuf,c}function Bd(e,n,t,r,s){let o=Td(n,fl.Currency),i=XC(o,Vr(n,rt.MinusSign));return i.minFrac=Nd(r),i.maxFrac=i.minFrac,JC(e,i,n,rt.CurrencyGroup,rt.CurrencyDecimal,s).replace(Ad,t).replace(Ad,"").trim()}function XC(e,n="-"){let t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=e.split(KC),s=r[0],o=r[1],i=s.indexOf(Vi)!==-1?s.split(Vi):[s.substring(0,s.lastIndexOf(Us)+1),s.substring(s.lastIndexOf(Us)+1)],c=i[0],a=i[1]||"";t.posPre=c.substring(0,c.indexOf(ul));for(let h=0;h<a.length;h++){let d=a.charAt(h);d===Us?t.minFrac=t.maxFrac=h+1:d===ul?t.maxFrac=h+1:t.posSuf+=d}let l=c.split(QC);if(t.gSize=l[1]?l[1].length:0,t.lgSize=l[2]||l[1]?(l[2]||l[1]).length:0,o){let h=s.length-t.posPre.length-t.posSuf.length,d=o.indexOf(ul);t.negPre=o.substring(0,d).replace(/'/g,""),t.negSuf=o.slice(d+h).replace(/'/g,"")}else t.negPre=n+t.posPre,t.negSuf=t.posSuf;return t}function eM(e){if(e.digits[0]===0)return e;let n=e.digits.length-e.integerLen;return e.exponent?e.exponent+=2:(n===0?e.digits.push(0,0):n===1&&e.digits.push(0),e.integerLen+=2),e}function tM(e){let n=Math.abs(e)+"",t=0,r,s,o,i,c;for((s=n.indexOf(Vi))>-1&&(n=n.replace(Vi,"")),(o=n.search(/e/i))>0?(s<0&&(s=o),s+=+n.slice(o+1),n=n.substring(0,o)):s<0&&(s=n.length),o=0;n.charAt(o)===Us;o++);if(o===(c=n.length))r=[0],s=1;else{for(c--;n.charAt(c)===Us;)c--;for(s-=o,r=[],i=0;o<=c;o++,i++)r[i]=Number(n.charAt(o))}return s>Vd&&(r=r.splice(0,Vd-1),t=s-1,s=1),{digits:r,exponent:t,integerLen:s}}function nM(e,n,t){if(n>t)throw new Error(`The minimum number of digits after fraction (${n}) is higher than the maximum (${t}).`);let r=e.digits,s=r.length-e.integerLen,o=Math.min(Math.max(n,s),t),i=o+e.integerLen,c=r[i];if(i>0){r.splice(Math.max(e.integerLen,i));for(let d=i;d<r.length;d++)r[d]=0}else{s=Math.max(0,s),e.integerLen=1,r.length=Math.max(1,i=o+1),r[0]=0;for(let d=1;d<i;d++)r[d]=0}if(c>=5)if(i-1<0){for(let d=0;d>i;d--)r.unshift(0),e.integerLen++;r.unshift(1),e.integerLen++}else r[i-1]++;for(;s<Math.max(0,o);s++)r.push(0);let a=o!==0,l=n+e.integerLen,h=r.reduceRight(function(d,g,v,u){return g=g+d,u[v]=g<10?g:g-10,a&&(u[v]===0&&v>=l?u.pop():a=!1),g>=10?1:0},0);h&&(r.unshift(h),e.integerLen++)}function dl(e){let n=parseInt(e);if(isNaN(n))throw new Error("Invalid integer literal when parsing "+e);return n}var pl=/\s+/,Ld=[],It=(()=>{class e{_ngEl;_renderer;initialClasses=Ld;rawClass;stateMap=new Map;constructor(t,r){this._ngEl=t,this._renderer=r}set klass(t){this.initialClasses=t!=null?t.trim().split(pl):Ld}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(pl):t}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let r of t)this._updateState(r,!0);else if(t!=null)for(let r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){let s=this.stateMap.get(t);s!==void 0?(s.enabled!==r&&(s.changed=!0,s.enabled=r),s.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let r=t[0],s=t[1];s.changed?(this._toggleClass(r,s.enabled),s.changed=!1):s.touched||(s.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),s.touched=!1}}_toggleClass(t,r){t=t.trim(),t.length>0&&t.split(pl).forEach(s=>{r?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}static \u0275fac=function(r){return new(r||e)(T(T1),T(we))};static \u0275dir=M1({type:e,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return e})();function Od(e,n){return new E(2100,!1)}var vl=class{createSubscription(n,t){return be(()=>n.subscribe({next:t,error:r=>{throw r}}))}dispose(n){be(()=>n.unsubscribe())}},gl=class{createSubscription(n,t){return n.then(r=>t?.(r),r=>{throw r}),{unsubscribe:()=>{t=null}}}dispose(n){n.unsubscribe()}},rM=new gl,sM=new vl,ml=(()=>{class e{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;constructor(t){this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){if(!this._obj){if(t)try{this.markForCheckOnValueUpdate=!1,this._subscribe(t)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if(qt(t))return rM;if(tl(t))return sM;throw Od(e,t)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(r){return new(r||e)(T(Zt,16))};static \u0275pipe=Si({name:"async",type:e,pure:!1})}return e})();var Et=(()=>{class e{_locale;_defaultCurrencyCode;constructor(t,r="USD"){this._locale=t,this._defaultCurrencyCode=r}transform(t,r=this._defaultCurrencyCode,s="symbol",o,i){if(!oM(t))return null;i||=this._locale,typeof s=="boolean"&&(s=s?"symbol":"code");let c=r||this._defaultCurrencyCode;s!=="code"&&(s==="symbol"||s==="symbol-narrow"?c=kd(c,s==="symbol"?"wide":"narrow",i):c=s);try{let a=iM(t);return Bd(a,i,c,r,o)}catch(a){throw Od(e,a.message)}}static \u0275fac=function(r){return new(r||e)(T(Ei,16),T(zd,16))};static \u0275pipe=Si({name:"currency",type:e,pure:!0})}return e})();function oM(e){return!(e==null||e===""||e!==e)}function iM(e){if(typeof e=="string"&&!isNaN(Number(e)-parseFloat(e)))return Number(e);if(typeof e!="number")throw new Error(`${e} is not a number`);return e}var Ai=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=Ie({type:e});static \u0275inj=Se({})}return e})();function $s(e,n){n=encodeURIComponent(n);for(let t of e.split(";")){let r=t.indexOf("="),[s,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(s.trim()===n)return decodeURIComponent(o)}return null}var Li="browser",Pd="server";function wl(e){return e===Li}function Ar(e){return e===Pd}var kn=class{};var jd=e=>e.src,lM=new R("",{providedIn:"root",factory:()=>jd});var Fd=/^((\s*\d+w\s*(,|$)){1,})$/;var hM=[1,2],uM=640;var dM=1920,pM=1080;var Hi=(()=>{class e{imageLoader=m(lM);config=vM(m(du));renderer=m(we);imgElement=m(T1).nativeElement;injector=m(X1);lcpObserver;_renderedSrc=null;ngSrc;ngSrcset;sizes;width;height;loading;priority=!1;loaderParams;disableOptimizedSrcset=!1;fill=!1;placeholder;placeholderConfig;src;srcset;constructor(){}ngOnInit(){An("NgOptimizedImage"),this.placeholder&&this.removePlaceholderOnLoad(this.imgElement),this.setHostAttributes()}setHostAttributes(){this.fill?this.sizes||="100vw":(this.setHostAttribute("width",this.width.toString()),this.setHostAttribute("height",this.height.toString())),this.setHostAttribute("loading",this.getLoadingBehavior()),this.setHostAttribute("fetchpriority",this.getFetchPriority()),this.setHostAttribute("ng-img","true");let t=this.updateSrcAndSrcset();this.sizes?this.getLoadingBehavior()==="lazy"?this.setHostAttribute("sizes","auto, "+this.sizes):this.setHostAttribute("sizes",this.sizes):this.ngSrcset&&Fd.test(this.ngSrcset)&&this.getLoadingBehavior()==="lazy"&&this.setHostAttribute("sizes","auto, 100vw")}ngOnChanges(t){if(t.ngSrc&&!t.ngSrc.isFirstChange()){let r=this._renderedSrc;this.updateSrcAndSrcset(!0)}}callImageLoader(t){let r=t;return this.loaderParams&&(r.loaderParams=this.loaderParams),this.imageLoader(r)}getLoadingBehavior(){return!this.priority&&this.loading!==void 0?this.loading:this.priority?"eager":"lazy"}getFetchPriority(){return this.priority?"high":"auto"}getRewrittenSrc(){if(!this._renderedSrc){let t={src:this.ngSrc};this._renderedSrc=this.callImageLoader(t)}return this._renderedSrc}getRewrittenSrcset(){let t=Fd.test(this.ngSrcset);return this.ngSrcset.split(",").filter(s=>s!=="").map(s=>{s=s.trim();let o=t?parseFloat(s):parseFloat(s)*this.width;return`${this.callImageLoader({src:this.ngSrc,width:o})} ${s}`}).join(", ")}getAutomaticSrcset(){return this.sizes?this.getResponsiveSrcset():this.getFixedSrcset()}getResponsiveSrcset(){let{breakpoints:t}=this.config,r=t;return this.sizes?.trim()==="100vw"&&(r=t.filter(o=>o>=uM)),r.map(o=>`${this.callImageLoader({src:this.ngSrc,width:o})} ${o}w`).join(", ")}updateSrcAndSrcset(t=!1){t&&(this._renderedSrc=null);let r=this.getRewrittenSrc();this.setHostAttribute("src",r);let s;return this.ngSrcset?s=this.getRewrittenSrcset():this.shouldGenerateAutomaticSrcset()&&(s=this.getAutomaticSrcset()),s&&this.setHostAttribute("srcset",s),s}getFixedSrcset(){return hM.map(r=>`${this.callImageLoader({src:this.ngSrc,width:this.width*r})} ${r}x`).join(", ")}shouldGenerateAutomaticSrcset(){let t=!1;return this.sizes||(t=this.width>dM||this.height>pM),!this.disableOptimizedSrcset&&!this.srcset&&this.imageLoader!==jd&&!t}generatePlaceholder(t){let{placeholderResolution:r}=this.config;return t===!0?`url(${this.callImageLoader({src:this.ngSrc,width:r,isPlaceholder:!0})})`:typeof t=="string"?`url(${t})`:null}shouldBlurPlaceholder(t){return!t||!t.hasOwnProperty("blur")?!0:!!t.blur}removePlaceholderOnLoad(t){let r=()=>{let i=this.injector.get(Zt);s(),o(),this.placeholder=!1,i.markForCheck()},s=this.renderer.listen(t,"load",r),o=this.renderer.listen(t,"error",r);gM(t,r)}setHostAttribute(t,r){this.renderer.setAttribute(this.imgElement,t,r)}static \u0275fac=function(r){return new(r||e)};static \u0275dir=M1({type:e,selectors:[["img","ngSrc",""]],hostVars:18,hostBindings:function(r,s){r&2&&Fs("position",s.fill?"absolute":null)("width",s.fill?"100%":null)("height",s.fill?"100%":null)("inset",s.fill?"0":null)("background-size",s.placeholder?"cover":null)("background-position",s.placeholder?"50% 50%":null)("background-repeat",s.placeholder?"no-repeat":null)("background-image",s.placeholder?s.generatePlaceholder(s.placeholder):null)("filter",s.placeholder&&s.shouldBlurPlaceholder(s.placeholderConfig)?"blur(15px)":null)},inputs:{ngSrc:[2,"ngSrc","ngSrc",fM],ngSrcset:"ngSrcset",sizes:"sizes",width:[2,"width","width",bi],height:[2,"height","height",bi],loading:"loading",priority:[2,"priority","priority",St],loaderParams:"loaderParams",disableOptimizedSrcset:[2,"disableOptimizedSrcset","disableOptimizedSrcset",St],fill:[2,"fill","fill",St],placeholder:[2,"placeholder","placeholder",mM],placeholderConfig:"placeholderConfig",src:"src",srcset:"srcset"},features:[te]})}return e})();function vM(e){let n={};return e.breakpoints&&(n.breakpoints=e.breakpoints.sort((t,r)=>t-r)),Object.assign({},Na,e,n)}function gM(e,n){e.complete&&e.naturalWidth&&n()}function fM(e){return typeof e=="string"?e:wi(e)}function mM(e){return typeof e=="string"&&e!=="true"&&e!=="false"&&e!==""?e:St(e)}var Ni=new R(""),yl=(()=>{class e{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(s=>{s.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,s,o){return this._findPluginFor(r).addEventListener(t,r,s,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new E(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||e)(H(Ni),H(C1))};static \u0275prov=I({token:e,factory:e.\u0275fac})}return e})(),Ws=class{_doc;constructor(n){this._doc=n}manager},Ti="ng-app-id";function Ud(e){for(let n of e)n.remove()}function $d(e,n){let t=n.createElement("style");return t.textContent=e,t}function wM(e,n,t,r){let s=e.head?.querySelectorAll(`style[${Ti}="${n}"],link[${Ti}="${n}"]`);if(s)for(let o of s)o.removeAttribute(Ti),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function Ml(e,n){let t=n.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",e),t}var xl=(()=>{class e{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(t,r,s,o={}){this.doc=t,this.appId=r,this.nonce=s,this.isServer=Ar(o),wM(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let s of t)this.addUsage(s,this.inline,$d);r?.forEach(s=>this.addUsage(s,this.external,Ml))}removeStyles(t,r){for(let s of t)this.removeUsage(s,this.inline);r?.forEach(s=>this.removeUsage(s,this.external))}addUsage(t,r,s){let o=r.get(t);o?o.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(i=>this.addElement(i,s(t,this.doc)))})}removeUsage(t,r){let s=r.get(t);s&&(s.usage--,s.usage<=0&&(Ud(s.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])Ud(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:s}]of this.inline)s.push(this.addElement(t,$d(r,this.doc)));for(let[r,{elements:s}]of this.external)s.push(this.addElement(t,Ml(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(Ti,this.appId),t.appendChild(r)}static \u0275fac=function(r){return new(r||e)(H(S1),H(fi),H(ka,8),H(tt))};static \u0275prov=I({token:e,factory:e.\u0275fac})}return e})(),Cl={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},_l=/%COMP%/g;var Gd="%COMP%",CM=`_nghost-${Gd}`,MM=`_ngcontent-${Gd}`,zM=!0,yM=new R("",{providedIn:"root",factory:()=>zM});function xM(e){return MM.replace(_l,e)}function _M(e){return CM.replace(_l,e)}function qd(e,n){return n.map(t=>t.replace(_l,e))}var Rl=(()=>{class e{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,s,o,i,c,a,l=null,h=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=i,this.platformId=c,this.ngZone=a,this.nonce=l,this.tracingService=h,this.platformIsServer=Ar(c),this.defaultRenderer=new Gs(t,i,a,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Je.ShadowDom&&(r=L(z({},r),{encapsulation:Je.Emulated}));let s=this.getOrCreateRenderer(t,r);return s instanceof ki?s.applyToHost(t):s instanceof qs&&s.applyStyles(),s}getOrCreateRenderer(t,r){let s=this.rendererByCompId,o=s.get(r.id);if(!o){let i=this.doc,c=this.ngZone,a=this.eventManager,l=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,d=this.platformIsServer,g=this.tracingService;switch(r.encapsulation){case Je.Emulated:o=new ki(a,l,r,this.appId,h,i,c,d,g);break;case Je.ShadowDom:return new zl(a,l,t,r,i,c,this.nonce,d,g);default:o=new qs(a,l,r,h,i,c,d,g);break}s.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||e)(H(yl),H(xl),H(fi),H(yM),H(S1),H(tt),H(C1),H(ka),H(mi,8))};static \u0275prov=I({token:e,factory:e.\u0275fac})}return e})(),Gs=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(n,t,r,s,o){this.eventManager=n,this.doc=t,this.ngZone=r,this.platformIsServer=s,this.tracingService=o}destroy(){}destroyNode=null;createElement(n,t){return t?this.doc.createElementNS(Cl[t]||t,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,t){(Wd(n)?n.content:n).appendChild(t)}insertBefore(n,t,r){n&&(Wd(n)?n.content:n).insertBefore(t,r)}removeChild(n,t){t.remove()}selectRootElement(n,t){let r=typeof n=="string"?this.doc.querySelector(n):n;if(!r)throw new E(-5104,!1);return t||(r.textContent=""),r}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,t,r,s){if(s){t=s+":"+t;let o=Cl[s];o?n.setAttributeNS(o,t,r):n.setAttribute(t,r)}else n.setAttribute(t,r)}removeAttribute(n,t,r){if(r){let s=Cl[r];s?n.removeAttributeNS(s,t):n.removeAttribute(`${r}:${t}`)}else n.removeAttribute(t)}addClass(n,t){n.classList.add(t)}removeClass(n,t){n.classList.remove(t)}setStyle(n,t,r,s){s&(zt.DashCase|zt.Important)?n.style.setProperty(t,r,s&zt.Important?"important":""):n.style[t]=r}removeStyle(n,t,r){r&zt.DashCase?n.style.removeProperty(t):n.style[t]=""}setProperty(n,t,r){n!=null&&(n[t]=r)}setValue(n,t){n.nodeValue=t}listen(n,t,r,s){if(typeof n=="string"&&(n=De().getGlobalEventTarget(this.doc,n),!n))throw new E(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(n,t,o)),this.eventManager.addEventListener(n,t,o,s)}decoratePreventDefault(n){return t=>{if(t==="__ngUnwrap__")return n;(this.platformIsServer?this.ngZone.runGuarded(()=>n(t)):n(t))===!1&&t.preventDefault()}}};function Wd(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var zl=class extends Gs{sharedStylesHost;hostEl;shadowRoot;constructor(n,t,r,s,o,i,c,a,l){super(n,o,i,a,l),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let h=s.styles;h=qd(s.id,h);for(let g of h){let v=document.createElement("style");c&&v.setAttribute("nonce",c),v.textContent=g,this.shadowRoot.appendChild(v)}let d=s.getExternalStyles?.();if(d)for(let g of d){let v=Ml(g,o);c&&v.setAttribute("nonce",c),this.shadowRoot.appendChild(v)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,t){return super.appendChild(this.nodeOrShadowRoot(n),t)}insertBefore(n,t,r){return super.insertBefore(this.nodeOrShadowRoot(n),t,r)}removeChild(n,t){return super.removeChild(null,t)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},qs=class extends Gs{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(n,t,r,s,o,i,c,a,l){super(n,o,i,c,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=s;let h=r.styles;this.styles=l?qd(l,h):h,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},ki=class extends qs{contentAttr;hostAttr;constructor(n,t,r,s,o,i,c,a,l){let h=s+"-"+r.id;super(n,t,r,o,i,c,a,l,h),this.contentAttr=xM(h),this.hostAttr=_M(h)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,t){let r=super.createElement(n,t);return super.setAttribute(r,this.contentAttr,""),r}};var Bi=class e extends js{supportsDOMEvents=!0;static makeCurrent(){ll(new e)}onAndCancel(n,t,r,s){return n.addEventListener(t,r,s),()=>{n.removeEventListener(t,r,s)}}dispatchEvent(n,t){n.dispatchEvent(t)}remove(n){n.remove()}createElement(n,t){return t=t||this.getDefaultDocument(),t.createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,t){return t==="window"?window:t==="document"?n:t==="body"?n.body:null}getBaseHref(n){let t=RM();return t==null?null:SM(t)}resetBaseElement(){Zs=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return $s(document.cookie,n)}},Zs=null;function RM(){return Zs=Zs||document.querySelector("base"),Zs?Zs.getAttribute("href"):null}function SM(e){return new URL(e,document.baseURI).pathname}var IM=(()=>{class e{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||e)};static \u0275prov=I({token:e,factory:e.\u0275fac})}return e})(),Yd=(()=>{class e extends Ws{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,s,o){return t.addEventListener(r,s,o),()=>this.removeEventListener(t,r,s,o)}removeEventListener(t,r,s,o){return t.removeEventListener(r,s,o)}static \u0275fac=function(r){return new(r||e)(H(S1))};static \u0275prov=I({token:e,factory:e.\u0275fac})}return e})(),Zd=["alt","control","meta","shift"],EM={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},bM={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},Kd=(()=>{class e extends Ws{constructor(t){super(t)}supports(t){return e.parseEventName(t)!=null}addEventListener(t,r,s,o){let i=e.parseEventName(r),c=e.eventCallback(i.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>De().onAndCancel(t,i.domEventName,c,o))}static parseEventName(t){let r=t.toLowerCase().split("."),s=r.shift();if(r.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(r.pop()),i="",c=r.indexOf("code");if(c>-1&&(r.splice(c,1),i="code."),Zd.forEach(l=>{let h=r.indexOf(l);h>-1&&(r.splice(h,1),i+=l+".")}),i+=o,r.length!=0||o.length===0)return null;let a={};return a.domEventName=s,a.fullKey=i,a}static matchEventFullKeyCode(t,r){let s=EM[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(s=t.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),Zd.forEach(i=>{if(i!==s){let c=bM[i];c(t)&&(o+=i+".")}}),o+=s,o===r)}static eventCallback(t,r,s){return o=>{e.matchEventFullKeyCode(o,t)&&s.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||e)(H(S1))};static \u0275prov=I({token:e,factory:e.\u0275fac})}return e})();function Sl(e,n){return yd(z({rootComponent:e},DM(n)))}function DM(e){return{appProviders:[...TM,...e?.providers??[]],platformProviders:HM}}function VM(){Bi.makeCurrent()}function AM(){return new Qe}function LM(){return uu(document),document}var HM=[{provide:tt,useValue:Li},{provide:Ta,useValue:VM,multi:!0},{provide:S1,useFactory:LM}];var TM=[{provide:di,useValue:"root"},{provide:Qe,useFactory:AM},{provide:Ni,useClass:Yd,multi:!0,deps:[S1]},{provide:Ni,useClass:Kd,multi:!0,deps:[S1]},Rl,xl,yl,{provide:wr,useExisting:Rl},{provide:kn,useClass:IM},[]];var Hr=class{},Ys=class{},Kt=class e{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(n){n?typeof n=="string"?this.lazyInit=()=>{this.headers=new Map,n.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let s=t.slice(0,r),o=t.slice(r+1).trim();this.addHeaderEntry(s,o)}})}:typeof Headers<"u"&&n instanceof Headers?(this.headers=new Map,n.forEach((t,r)=>{this.addHeaderEntry(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(n).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();let t=this.headers.get(n.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,t){return this.clone({name:n,value:t,op:"a"})}set(n,t){return this.clone({name:n,value:t,op:"s"})}delete(n,t){return this.clone({name:n,value:t,op:"d"})}maybeSetNormalizedName(n,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,n)}init(){this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(t=>{this.headers.set(t,n.headers.get(t)),this.normalizedNames.set(t,n.normalizedNames.get(t))})}clone(n){let t=new e;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([n]),t}applyUpdate(n){let t=n.name.toLowerCase();switch(n.op){case"a":case"s":let r=n.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(n.name,t);let s=(n.op==="a"?this.headers.get(t):void 0)||[];s.push(...r),this.headers.set(t,s);break;case"d":let o=n.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let i=this.headers.get(t);if(!i)return;i=i.filter(c=>o.indexOf(c)===-1),i.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,i)}break}}addHeaderEntry(n,t){let r=n.toLowerCase();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(t):this.headers.set(r,[t])}setHeaderEntries(n,t){let r=(Array.isArray(t)?t:[t]).map(o=>o.toString()),s=n.toLowerCase();this.headers.set(s,r),this.maybeSetNormalizedName(n,s)}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>n(this.normalizedNames.get(t),this.headers.get(t)))}};var Pi=class{encodeKey(n){return Qd(n)}encodeValue(n){return Qd(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}};function kM(e,n){let t=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(s=>{let o=s.indexOf("="),[i,c]=o==-1?[n.decodeKey(s),""]:[n.decodeKey(s.slice(0,o)),n.decodeValue(s.slice(o+1))],a=t.get(i)||[];a.push(c),t.set(i,a)}),t}var NM=/%(\d[a-f0-9])/gi,BM={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Qd(e){return encodeURIComponent(e).replace(NM,(n,t)=>BM[t]??n)}function Oi(e){return`${e}`}var bt=class e{map;encoder;updates=null;cloneFrom=null;constructor(n={}){if(this.encoder=n.encoder||new Pi,n.fromString){if(n.fromObject)throw new E(2805,!1);this.map=kM(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(t=>{let r=n.fromObject[t],s=Array.isArray(r)?r.map(Oi):[Oi(r)];this.map.set(t,s)})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();let t=this.map.get(n);return t?t[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,t){return this.clone({param:n,value:t,op:"a"})}appendAll(n){let t=[];return Object.keys(n).forEach(r=>{let s=n[r];Array.isArray(s)?s.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:s,op:"a"})}),this.clone(t)}set(n,t){return this.clone({param:n,value:t,op:"s"})}delete(n,t){return this.clone({param:n,value:t,op:"d"})}toString(){return this.init(),this.keys().map(n=>{let t=this.encoder.encodeKey(n);return this.map.get(n).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(n=>n!=="").join("&")}clone(n){let t=new e({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(n),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":let t=(n.op==="a"?this.map.get(n.param):void 0)||[];t.push(Oi(n.value)),this.map.set(n.param,t);break;case"d":if(n.value!==void 0){let r=this.map.get(n.param)||[],s=r.indexOf(Oi(n.value));s!==-1&&r.splice(s,1),r.length>0?this.map.set(n.param,r):this.map.delete(n.param)}else{this.map.delete(n.param);break}}}),this.cloneFrom=this.updates=null)}};var Fi=class{map=new Map;set(n,t){return this.map.set(n,t),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}has(n){return this.map.has(n)}keys(){return this.map.keys()}};function OM(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function Jd(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function Xd(e){return typeof Blob<"u"&&e instanceof Blob}function e7(e){return typeof FormData<"u"&&e instanceof FormData}function PM(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}var t7="Content-Type",n7="Accept",r7="X-Request-URL",s7="text/plain",o7="application/json",FM=`${o7}, ${s7}, */*`,Lr=class e{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(n,t,r,s){this.url=t,this.method=n.toUpperCase();let o;if(OM(this.method)||s?(this.body=r!==void 0?r:null,o=s):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new Kt,this.context??=new Fi,!this.params)this.params=new bt,this.urlWithParams=t;else{let i=this.params.toString();if(i.length===0)this.urlWithParams=t;else{let c=t.indexOf("?"),a=c===-1?"?":c<t.length-1?"&":"";this.urlWithParams=t+a+i}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||Jd(this.body)||Xd(this.body)||e7(this.body)||PM(this.body)?this.body:this.body instanceof bt?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||e7(this.body)?null:Xd(this.body)?this.body.type||null:Jd(this.body)?null:typeof this.body=="string"?s7:this.body instanceof bt?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?o7:null}clone(n={}){let t=n.method||this.method,r=n.url||this.url,s=n.responseType||this.responseType,o=n.transferCache??this.transferCache,i=n.body!==void 0?n.body:this.body,c=n.withCredentials??this.withCredentials,a=n.reportProgress??this.reportProgress,l=n.headers||this.headers,h=n.params||this.params,d=n.context??this.context;return n.setHeaders!==void 0&&(l=Object.keys(n.setHeaders).reduce((g,v)=>g.set(v,n.setHeaders[v]),l)),n.setParams&&(h=Object.keys(n.setParams).reduce((g,v)=>g.set(v,n.setParams[v]),h)),new e(t,r,i,{params:h,headers:l,context:d,reportProgress:a,responseType:s,withCredentials:c,transferCache:o})}},Nn=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(Nn||{}),Tr=class{headers;status;statusText;url;ok;type;constructor(n,t=200,r="OK"){this.headers=n.headers||new Kt,this.status=n.status!==void 0?n.status:t,this.statusText=n.statusText||r,this.url=n.url||null,this.ok=this.status>=200&&this.status<300}},ji=class e extends Tr{constructor(n={}){super(n)}type=Nn.ResponseHeader;clone(n={}){return new e({headers:n.headers||this.headers,status:n.status!==void 0?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}},Ks=class e extends Tr{body;constructor(n={}){super(n),this.body=n.body!==void 0?n.body:null}type=Nn.Response;clone(n={}){return new e({body:n.body!==void 0?n.body:this.body,headers:n.headers||this.headers,status:n.status!==void 0?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}},Qs=class extends Tr{name="HttpErrorResponse";message;error;ok=!1;constructor(n){super(n,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${n.url||"(unknown url)"}`:this.message=`Http failure response for ${n.url||"(unknown url)"}: ${n.status} ${n.statusText}`,this.error=n.error||null}},jM=200,UM=204;function Il(e,n){return{body:n,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,transferCache:e.transferCache}}var ue=(()=>{class e{handler;constructor(t){this.handler=t}request(t,r,s={}){let o;if(t instanceof Lr)o=t;else{let a;s.headers instanceof Kt?a=s.headers:a=new Kt(s.headers);let l;s.params&&(s.params instanceof bt?l=s.params:l=new bt({fromObject:s.params})),o=new Lr(t,r,s.body!==void 0?s.body:null,{headers:a,context:s.context,params:l,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials,transferCache:s.transferCache})}let i=N(o).pipe(jt(a=>this.handler.handle(a)));if(t instanceof Lr||s.observe==="events")return i;let c=i.pipe(fe(a=>a instanceof Ks));switch(s.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return c.pipe(W(a=>{if(a.body!==null&&!(a.body instanceof ArrayBuffer))throw new E(2806,!1);return a.body}));case"blob":return c.pipe(W(a=>{if(a.body!==null&&!(a.body instanceof Blob))throw new E(2807,!1);return a.body}));case"text":return c.pipe(W(a=>{if(a.body!==null&&typeof a.body!="string")throw new E(2808,!1);return a.body}));case"json":default:return c.pipe(W(a=>a.body))}case"response":return c;default:throw new E(2809,!1)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:new bt().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,s={}){return this.request("PATCH",t,Il(s,r))}post(t,r,s={}){return this.request("POST",t,Il(s,r))}put(t,r,s={}){return this.request("PUT",t,Il(s,r))}static \u0275fac=function(r){return new(r||e)(H(Hr))};static \u0275prov=I({token:e,factory:e.\u0275fac})}return e})();var $M=new R("");function WM(e,n){return n(e)}function GM(e,n,t){return(r,s)=>ee(t,()=>n(r,o=>e(o,s)))}var bl=new R(""),i7=new R(""),c7=new R("",{providedIn:"root",factory:()=>!0});var Ui=(()=>{class e extends Hr{backend;injector;chain=null;pendingTasks=m(Gt);contributeToStability=m(c7);constructor(t,r){super(),this.backend=t,this.injector=r}handle(t){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(bl),...this.injector.get(i7,[])]));this.chain=r.reduceRight((s,o)=>GM(s,o,this.injector),WM)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(t,s=>this.backend.handle(s)).pipe(Ge(()=>this.pendingTasks.remove(r)))}else return this.chain(t,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||e)(H(Ys),H(ae))};static \u0275prov=I({token:e,factory:e.\u0275fac})}return e})();var qM=/^\)\]\}',?\n/,ZM=RegExp(`^${r7}:`,"m");function YM(e){return"responseURL"in e&&e.responseURL?e.responseURL:ZM.test(e.getAllResponseHeaders())?e.getResponseHeader(r7):null}var El=(()=>{class e{xhrFactory;constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new E(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?w1(r.\u0275loadImpl()):N(null)).pipe(Q1(()=>new e1(o=>{let i=r.build();if(i.open(t.method,t.urlWithParams),t.withCredentials&&(i.withCredentials=!0),t.headers.forEach((M,S)=>i.setRequestHeader(M,S.join(","))),t.headers.has(n7)||i.setRequestHeader(n7,FM),!t.headers.has(t7)){let M=t.detectContentTypeHeader();M!==null&&i.setRequestHeader(t7,M)}if(t.responseType){let M=t.responseType.toLowerCase();i.responseType=M!=="json"?M:"text"}let c=t.serializeBody(),a=null,l=()=>{if(a!==null)return a;let M=i.statusText||"OK",S=new Kt(i.getAllResponseHeaders()),V=YM(i)||t.url;return a=new ji({headers:S,status:i.status,statusText:M,url:V}),a},h=()=>{let{headers:M,status:S,statusText:V,url:r1}=l(),Z=null;S!==UM&&(Z=typeof i.response>"u"?i.responseText:i.response),S===0&&(S=Z?jM:0);let I1=S>=200&&S<300;if(t.responseType==="json"&&typeof Z=="string"){let re=Z;Z=Z.replace(qM,"");try{Z=Z!==""?JSON.parse(Z):null}catch(He){Z=re,I1&&(I1=!1,Z={error:He,text:Z})}}I1?(o.next(new Ks({body:Z,headers:M,status:S,statusText:V,url:r1||void 0})),o.complete()):o.error(new Qs({error:Z,headers:M,status:S,statusText:V,url:r1||void 0}))},d=M=>{let{url:S}=l(),V=new Qs({error:M,status:i.status||0,statusText:i.statusText||"Unknown Error",url:S||void 0});o.error(V)},g=!1,v=M=>{g||(o.next(l()),g=!0);let S={type:Nn.DownloadProgress,loaded:M.loaded};M.lengthComputable&&(S.total=M.total),t.responseType==="text"&&i.responseText&&(S.partialText=i.responseText),o.next(S)},u=M=>{let S={type:Nn.UploadProgress,loaded:M.loaded};M.lengthComputable&&(S.total=M.total),o.next(S)};return i.addEventListener("load",h),i.addEventListener("error",d),i.addEventListener("timeout",d),i.addEventListener("abort",d),t.reportProgress&&(i.addEventListener("progress",v),c!==null&&i.upload&&i.upload.addEventListener("progress",u)),i.send(c),o.next({type:Nn.Sent}),()=>{i.removeEventListener("error",d),i.removeEventListener("abort",d),i.removeEventListener("load",h),i.removeEventListener("timeout",d),t.reportProgress&&(i.removeEventListener("progress",v),c!==null&&i.upload&&i.upload.removeEventListener("progress",u)),i.readyState!==i.DONE&&i.abort()}})))}static \u0275fac=function(r){return new(r||e)(H(kn))};static \u0275prov=I({token:e,factory:e.\u0275fac})}return e})(),a7=new R(""),KM="XSRF-TOKEN",QM=new R("",{providedIn:"root",factory:()=>KM}),JM="X-XSRF-TOKEN",XM=new R("",{providedIn:"root",factory:()=>JM}),Js=class{},ez=(()=>{class e{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(t,r){this.doc=t,this.cookieName=r}getToken(){let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=$s(t,this.cookieName),this.lastCookieString=t),this.lastToken}static \u0275fac=function(r){return new(r||e)(H(S1),H(QM))};static \u0275prov=I({token:e,factory:e.\u0275fac})}return e})();function tz(e,n){let t=e.url.toLowerCase();if(!m(a7)||e.method==="GET"||e.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return n(e);let r=m(Js).getToken(),s=m(XM);return r!=null&&!e.headers.has(s)&&(e=e.clone({headers:e.headers.set(s,r)})),n(e)}var Dl=function(e){return e[e.Interceptors=0]="Interceptors",e[e.LegacyInterceptors=1]="LegacyInterceptors",e[e.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",e[e.NoXsrfProtection=3]="NoXsrfProtection",e[e.JsonpSupport=4]="JsonpSupport",e[e.RequestsMadeViaParent=5]="RequestsMadeViaParent",e[e.Fetch=6]="Fetch",e}(Dl||{});function nz(e,n){return{\u0275kind:e,\u0275providers:n}}function Vl(...e){let n=[ue,El,Ui,{provide:Hr,useExisting:Ui},{provide:Ys,useFactory:()=>m($M,{optional:!0})??m(El)},{provide:bl,useValue:tz,multi:!0},{provide:a7,useValue:!0},{provide:Js,useClass:ez}];for(let t of e)n.push(...t.\u0275providers);return zr(n)}function Al(e){return nz(Dl.Interceptors,e.map(n=>({provide:bl,useValue:n,multi:!0})))}var h7=(()=>{class e{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||e)(H(S1))};static \u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var $="primary",po=Symbol("RouteTitle"),Nl=class{params;constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){let t=this.params[n];return Array.isArray(t)?t[0]:t}return null}getAll(n){if(this.has(n)){let t=this.params[n];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Pn(e){return new Nl(e)}function w7(e,n,t){let r=t.path.split("/");if(r.length>e.length||t.pathMatch==="full"&&(n.hasChildren()||r.length<e.length))return null;let s={};for(let o=0;o<r.length;o++){let i=r[o],c=e[o];if(i[0]===":")s[i.substring(1)]=c;else if(i!==c.path)return null}return{consumed:e.slice(0,r.length),posParams:s}}function oz(e,n){if(e.length!==n.length)return!1;for(let t=0;t<e.length;++t)if(!st(e[t],n[t]))return!1;return!0}function st(e,n){let t=e?Bl(e):void 0,r=n?Bl(n):void 0;if(!t||!r||t.length!=r.length)return!1;let s;for(let o=0;o<t.length;o++)if(s=t[o],!C7(e[s],n[s]))return!1;return!0}function Bl(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function C7(e,n){if(Array.isArray(e)&&Array.isArray(n)){if(e.length!==n.length)return!1;let t=[...e].sort(),r=[...n].sort();return t.every((s,o)=>r[o]===s)}else return e===n}function M7(e){return e.length>0?e[e.length-1]:null}function Jt(e){return fs(e)?e:qt(e)?w1(Promise.resolve(e)):N(e)}var iz={exact:y7,subset:x7},z7={exact:cz,subset:az,ignored:()=>!0};function u7(e,n,t){return iz[t.paths](e.root,n.root,t.matrixParams)&&z7[t.queryParams](e.queryParams,n.queryParams)&&!(t.fragment==="exact"&&e.fragment!==n.fragment)}function cz(e,n){return st(e,n)}function y7(e,n,t){if(!Bn(e.segments,n.segments)||!Gi(e.segments,n.segments,t)||e.numberOfChildren!==n.numberOfChildren)return!1;for(let r in n.children)if(!e.children[r]||!y7(e.children[r],n.children[r],t))return!1;return!0}function az(e,n){return Object.keys(n).length<=Object.keys(e).length&&Object.keys(n).every(t=>C7(e[t],n[t]))}function x7(e,n,t){return _7(e,n,n.segments,t)}function _7(e,n,t,r){if(e.segments.length>t.length){let s=e.segments.slice(0,t.length);return!(!Bn(s,t)||n.hasChildren()||!Gi(s,t,r))}else if(e.segments.length===t.length){if(!Bn(e.segments,t)||!Gi(e.segments,t,r))return!1;for(let s in n.children)if(!e.children[s]||!x7(e.children[s],n.children[s],r))return!1;return!0}else{let s=t.slice(0,e.segments.length),o=t.slice(e.segments.length);return!Bn(e.segments,s)||!Gi(e.segments,s,r)||!e.children[$]?!1:_7(e.children[$],n,o,r)}}function Gi(e,n,t){return n.every((r,s)=>z7[t](e[s].parameters,r.parameters))}var it=class{root;queryParams;fragment;_queryParamMap;constructor(n=new c1([],{}),t={},r=null){this.root=n,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Pn(this.queryParams),this._queryParamMap}toString(){return uz.serialize(this)}},c1=class{segments;children;parent=null;constructor(n,t){this.segments=n,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return qi(this)}},Qt=class{path;parameters;_parameterMap;constructor(n,t){this.path=n,this.parameters=t}get parameterMap(){return this._parameterMap??=Pn(this.parameters),this._parameterMap}toString(){return S7(this)}};function lz(e,n){return Bn(e,n)&&e.every((t,r)=>st(t.parameters,n[r].parameters))}function Bn(e,n){return e.length!==n.length?!1:e.every((t,r)=>t.path===n[r].path)}function hz(e,n){let t=[];return Object.entries(e.children).forEach(([r,s])=>{r===$&&(t=t.concat(n(s,r)))}),Object.entries(e.children).forEach(([r,s])=>{r!==$&&(t=t.concat(n(s,r)))}),t}var vo=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=I({token:e,factory:()=>new Fn,providedIn:"root"})}return e})(),Fn=class{parse(n){let t=new Pl(n);return new it(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(n){let t=`/${Xs(n.root,!0)}`,r=vz(n.queryParams),s=typeof n.fragment=="string"?`#${dz(n.fragment)}`:"";return`${t}${r}${s}`}},uz=new Fn;function qi(e){return e.segments.map(n=>S7(n)).join("/")}function Xs(e,n){if(!e.hasChildren())return qi(e);if(n){let t=e.children[$]?Xs(e.children[$],!1):"",r=[];return Object.entries(e.children).forEach(([s,o])=>{s!==$&&r.push(`${s}:${Xs(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=hz(e,(r,s)=>s===$?[Xs(e.children[$],!1)]:[`${s}:${Xs(r,!1)}`]);return Object.keys(e.children).length===1&&e.children[$]!=null?`${qi(e)}/${t[0]}`:`${qi(e)}/(${t.join("//")})`}}function R7(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function $i(e){return R7(e).replace(/%3B/gi,";")}function dz(e){return encodeURI(e)}function Ol(e){return R7(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Zi(e){return decodeURIComponent(e)}function d7(e){return Zi(e.replace(/\+/g,"%20"))}function S7(e){return`${Ol(e.path)}${pz(e.parameters)}`}function pz(e){return Object.entries(e).map(([n,t])=>`;${Ol(n)}=${Ol(t)}`).join("")}function vz(e){let n=Object.entries(e).map(([t,r])=>Array.isArray(r)?r.map(s=>`${$i(t)}=${$i(s)}`).join("&"):`${$i(t)}=${$i(r)}`).filter(t=>t);return n.length?`?${n.join("&")}`:""}var gz=/^[^\/()?;#]+/;function Ll(e){let n=e.match(gz);return n?n[0]:""}var fz=/^[^\/()?;=#]+/;function mz(e){let n=e.match(fz);return n?n[0]:""}var wz=/^[^=?&#]+/;function Cz(e){let n=e.match(wz);return n?n[0]:""}var Mz=/^[^&#]+/;function zz(e){let n=e.match(Mz);return n?n[0]:""}var Pl=class{url;remaining;constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new c1([],{}):new c1([],this.parseChildren())}parseQueryParams(){let n={};if(this.consumeOptional("?"))do this.parseQueryParam(n);while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(n.length>0||Object.keys(t).length>0)&&(r[$]=new c1(n,t)),r}parseSegment(){let n=Ll(this.remaining);if(n===""&&this.peekStartsWith(";"))throw new E(4009,!1);return this.capture(n),new Qt(Zi(n),this.parseMatrixParams())}parseMatrixParams(){let n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){let t=mz(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=Ll(this.remaining);s&&(r=s,this.capture(r))}n[Zi(t)]=Zi(r)}parseQueryParam(n){let t=Cz(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=zz(this.remaining);i&&(r=i,this.capture(r))}let s=d7(t),o=d7(r);if(n.hasOwnProperty(s)){let i=n[s];Array.isArray(i)||(i=[i],n[s]=i),i.push(o)}else n[s]=o}parseParens(n){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Ll(this.remaining),s=this.remaining[r.length];if(s!=="/"&&s!==")"&&s!==";")throw new E(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):n&&(o=$);let i=this.parseChildren();t[o]=Object.keys(i).length===1?i[$]:new c1([],i),this.consumeOptional("//")}return t}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return this.peekStartsWith(n)?(this.remaining=this.remaining.substring(n.length),!0):!1}capture(n){if(!this.consumeOptional(n))throw new E(4011,!1)}};function I7(e){return e.segments.length>0?new c1([],{[$]:e}):e}function E7(e){let n={};for(let[r,s]of Object.entries(e.children)){let o=E7(s);if(r===$&&o.segments.length===0&&o.hasChildren())for(let[i,c]of Object.entries(o.children))n[i]=c;else(o.segments.length>0||o.hasChildren())&&(n[r]=o)}let t=new c1(e.segments,n);return yz(t)}function yz(e){if(e.numberOfChildren===1&&e.children[$]){let n=e.children[$];return new c1(e.segments.concat(n.segments),n.children)}return e}function Pr(e){return e instanceof it}function b7(e,n,t=null,r=null){let s=D7(e);return V7(s,n,t,r)}function D7(e){let n;function t(o){let i={};for(let a of o.children){let l=t(a);i[a.outlet]=l}let c=new c1(o.url,i);return o===e&&(n=c),c}let r=t(e.root),s=I7(r);return n??s}function V7(e,n,t,r){let s=e;for(;s.parent;)s=s.parent;if(n.length===0)return Hl(s,s,s,t,r);let o=xz(n);if(o.toRoot())return Hl(s,s,new c1([],{}),t,r);let i=_z(o,s,e),c=i.processChildren?to(i.segmentGroup,i.index,o.commands):L7(i.segmentGroup,i.index,o.commands);return Hl(s,i.segmentGroup,c,t,r)}function Ki(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function ro(e){return typeof e=="object"&&e!=null&&e.outlets}function Hl(e,n,t,r,s){let o={};r&&Object.entries(r).forEach(([a,l])=>{o[a]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let i;e===n?i=t:i=A7(e,n,t);let c=I7(E7(i));return new it(c,o,s)}function A7(e,n,t){let r={};return Object.entries(e.children).forEach(([s,o])=>{o===n?r[s]=t:r[s]=A7(o,n,t)}),new c1(e.segments,r)}var Qi=class{isAbsolute;numberOfDoubleDots;commands;constructor(n,t,r){if(this.isAbsolute=n,this.numberOfDoubleDots=t,this.commands=r,n&&r.length>0&&Ki(r[0]))throw new E(4003,!1);let s=r.find(ro);if(s&&s!==M7(r))throw new E(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function xz(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new Qi(!0,0,e);let n=0,t=!1,r=e.reduce((s,o,i)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let c={};return Object.entries(o.outlets).forEach(([a,l])=>{c[a]=typeof l=="string"?l.split("/"):l}),[...s,{outlets:c}]}if(o.segmentPath)return[...s,o.segmentPath]}return typeof o!="string"?[...s,o]:i===0?(o.split("/").forEach((c,a)=>{a==0&&c==="."||(a==0&&c===""?t=!0:c===".."?n++:c!=""&&s.push(c))}),s):[...s,o]},[]);return new Qi(t,n,r)}var Br=class{segmentGroup;processChildren;index;constructor(n,t,r){this.segmentGroup=n,this.processChildren=t,this.index=r}};function _z(e,n,t){if(e.isAbsolute)return new Br(n,!0,0);if(!t)return new Br(n,!1,NaN);if(t.parent===null)return new Br(t,!0,0);let r=Ki(e.commands[0])?0:1,s=t.segments.length-1+r;return Rz(t,s,e.numberOfDoubleDots)}function Rz(e,n,t){let r=e,s=n,o=t;for(;o>s;){if(o-=s,r=r.parent,!r)throw new E(4005,!1);s=r.segments.length}return new Br(r,!1,s-o)}function Sz(e){return ro(e[0])?e[0].outlets:{[$]:e}}function L7(e,n,t){if(e??=new c1([],{}),e.segments.length===0&&e.hasChildren())return to(e,n,t);let r=Iz(e,n,t),s=t.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){let o=new c1(e.segments.slice(0,r.pathIndex),{});return o.children[$]=new c1(e.segments.slice(r.pathIndex),e.children),to(o,0,s)}else return r.match&&s.length===0?new c1(e.segments,{}):r.match&&!e.hasChildren()?Fl(e,n,t):r.match?to(e,0,s):Fl(e,n,t)}function to(e,n,t){if(t.length===0)return new c1(e.segments,{});{let r=Sz(t),s={};if(Object.keys(r).some(o=>o!==$)&&e.children[$]&&e.numberOfChildren===1&&e.children[$].segments.length===0){let o=to(e.children[$],n,t);return new c1(e.segments,o.children)}return Object.entries(r).forEach(([o,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(s[o]=L7(e.children[o],n,i))}),Object.entries(e.children).forEach(([o,i])=>{r[o]===void 0&&(s[o]=i)}),new c1(e.segments,s)}}function Iz(e,n,t){let r=0,s=n,o={match:!1,pathIndex:0,commandIndex:0};for(;s<e.segments.length;){if(r>=t.length)return o;let i=e.segments[s],c=t[r];if(ro(c))break;let a=`${c}`,l=r<t.length-1?t[r+1]:null;if(s>0&&a===void 0)break;if(a&&l&&typeof l=="object"&&l.outlets===void 0){if(!v7(a,l,i))return o;r+=2}else{if(!v7(a,{},i))return o;r++}s++}return{match:!0,pathIndex:s,commandIndex:r}}function Fl(e,n,t){let r=e.segments.slice(0,n),s=0;for(;s<t.length;){let o=t[s];if(ro(o)){let a=Ez(o.outlets);return new c1(r,a)}if(s===0&&Ki(t[0])){let a=e.segments[n];r.push(new Qt(a.path,p7(t[0]))),s++;continue}let i=ro(o)?o.outlets[$]:`${o}`,c=s<t.length-1?t[s+1]:null;i&&c&&Ki(c)?(r.push(new Qt(i,p7(c))),s+=2):(r.push(new Qt(i,{})),s++)}return new c1(r,{})}function Ez(e){let n={};return Object.entries(e).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(n[t]=Fl(new c1([],{}),0,r))}),n}function p7(e){let n={};return Object.entries(e).forEach(([t,r])=>n[t]=`${r}`),n}function v7(e,n,t){return e==t.path&&st(n,t.parameters)}var Yi="imperative",P1=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(P1||{}),ze=class{id;url;constructor(n,t){this.id=n,this.url=t}},jn=class extends ze{type=P1.NavigationStart;navigationTrigger;restoredState;constructor(n,t,r="imperative",s=null){super(n,t),this.navigationTrigger=r,this.restoredState=s}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Dt=class extends ze{urlAfterRedirects;type=P1.NavigationEnd;constructor(n,t,r){super(n,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},de=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e}(de||{}),so=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(so||{}),ot=class extends ze{reason;code;type=P1.NavigationCancel;constructor(n,t,r,s){super(n,t),this.reason=r,this.code=s}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Vt=class extends ze{reason;code;type=P1.NavigationSkipped;constructor(n,t,r,s){super(n,t),this.reason=r,this.code=s}},Fr=class extends ze{error;target;type=P1.NavigationError;constructor(n,t,r,s){super(n,t),this.error=r,this.target=s}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},oo=class extends ze{urlAfterRedirects;state;type=P1.RoutesRecognized;constructor(n,t,r,s){super(n,t),this.urlAfterRedirects=r,this.state=s}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ji=class extends ze{urlAfterRedirects;state;type=P1.GuardsCheckStart;constructor(n,t,r,s){super(n,t),this.urlAfterRedirects=r,this.state=s}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Xi=class extends ze{urlAfterRedirects;state;shouldActivate;type=P1.GuardsCheckEnd;constructor(n,t,r,s,o){super(n,t),this.urlAfterRedirects=r,this.state=s,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},e5=class extends ze{urlAfterRedirects;state;type=P1.ResolveStart;constructor(n,t,r,s){super(n,t),this.urlAfterRedirects=r,this.state=s}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},t5=class extends ze{urlAfterRedirects;state;type=P1.ResolveEnd;constructor(n,t,r,s){super(n,t),this.urlAfterRedirects=r,this.state=s}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},n5=class{route;type=P1.RouteConfigLoadStart;constructor(n){this.route=n}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},r5=class{route;type=P1.RouteConfigLoadEnd;constructor(n){this.route=n}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},s5=class{snapshot;type=P1.ChildActivationStart;constructor(n){this.snapshot=n}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},o5=class{snapshot;type=P1.ChildActivationEnd;constructor(n){this.snapshot=n}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},i5=class{snapshot;type=P1.ActivationStart;constructor(n){this.snapshot=n}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},c5=class{snapshot;type=P1.ActivationEnd;constructor(n){this.snapshot=n}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var io=class{},jr=class{url;navigationBehaviorOptions;constructor(n,t){this.url=n,this.navigationBehaviorOptions=t}};function bz(e,n){return e.providers&&!e._injector&&(e._injector=Ri(e.providers,n,`Route: ${e.path}`)),e._injector??n}function Fe(e){return e.outlet||$}function Dz(e,n){let t=e.filter(r=>Fe(r)===n);return t.push(...e.filter(r=>Fe(r)!==n)),t}function go(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let n=e.parent;n;n=n.parent){let t=n.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var a5=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return go(this.route?.snapshot)??this.rootInjector}constructor(n){this.rootInjector=n,this.children=new Wr(this.rootInjector)}},Wr=(()=>{class e{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let s=this.getOrCreateContext(t);s.outlet=r,this.contexts.set(t,s)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new a5(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||e)(H(ae))};static \u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),l5=class{_root;constructor(n){this._root=n}get root(){return this._root.value}parent(n){let t=this.pathFromRoot(n);return t.length>1?t[t.length-2]:null}children(n){let t=jl(n,this._root);return t?t.children.map(r=>r.value):[]}firstChild(n){let t=jl(n,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(n){let t=Ul(n,this._root);return t.length<2?[]:t[t.length-2].children.map(s=>s.value).filter(s=>s!==n)}pathFromRoot(n){return Ul(n,this._root).map(t=>t.value)}};function jl(e,n){if(e===n.value)return n;for(let t of n.children){let r=jl(e,t);if(r)return r}return null}function Ul(e,n){if(e===n.value)return[n];for(let t of n.children){let r=Ul(e,t);if(r.length)return r.unshift(n),r}return[]}var Me=class{value;children;constructor(n,t){this.value=n,this.children=t}toString(){return`TreeNode(${this.value})`}};function Nr(e){let n={};return e&&e.children.forEach(t=>n[t.value.outlet]=t),n}var co=class extends l5{snapshot;constructor(n,t){super(n),this.snapshot=t,Ql(this,n)}toString(){return this.snapshot.toString()}};function H7(e){let n=Vz(e),t=new m1([new Qt("",{})]),r=new m1({}),s=new m1({}),o=new m1({}),i=new m1(""),c=new h1(t,r,o,i,s,$,e,n.root);return c.snapshot=n.root,new co(new Me(c,[]),n)}function Vz(e){let n={},t={},r={},s="",o=new On([],n,r,s,t,$,e,null,{});return new ao("",new Me(o,[]))}var h1=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(n,t,r,s,o,i,c,a){this.urlSubject=n,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=s,this.dataSubject=o,this.outlet=i,this.component=c,this._futureSnapshot=a,this.title=this.dataSubject?.pipe(W(l=>l[po]))??N(void 0),this.url=n,this.params=t,this.queryParams=r,this.fragment=s,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(W(n=>Pn(n))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(W(n=>Pn(n))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function h5(e,n,t="emptyOnly"){let r,{routeConfig:s}=e;return n!==null&&(t==="always"||s?.path===""||!n.component&&!n.routeConfig?.loadComponent)?r={params:z(z({},n.params),e.params),data:z(z({},n.data),e.data),resolve:z(z(z(z({},e.data),n.data),s?.data),e._resolvedData)}:r={params:z({},e.params),data:z({},e.data),resolve:z(z({},e.data),e._resolvedData??{})},s&&k7(s)&&(r.resolve[po]=s.title),r}var On=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[po]}constructor(n,t,r,s,o,i,c,a,l){this.url=n,this.params=t,this.queryParams=r,this.fragment=s,this.data=o,this.outlet=i,this.component=c,this.routeConfig=a,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Pn(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Pn(this.queryParams),this._queryParamMap}toString(){let n=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${n}', path:'${t}')`}},ao=class extends l5{url;constructor(n,t){super(t),this.url=n,Ql(this,t)}toString(){return T7(this._root)}};function Ql(e,n){n.value._routerState=e,n.children.forEach(t=>Ql(e,t))}function T7(e){let n=e.children.length>0?` { ${e.children.map(T7).join(", ")} } `:"";return`${e.value}${n}`}function Tl(e){if(e.snapshot){let n=e.snapshot,t=e._futureSnapshot;e.snapshot=t,st(n.queryParams,t.queryParams)||e.queryParamsSubject.next(t.queryParams),n.fragment!==t.fragment&&e.fragmentSubject.next(t.fragment),st(n.params,t.params)||e.paramsSubject.next(t.params),oz(n.url,t.url)||e.urlSubject.next(t.url),st(n.data,t.data)||e.dataSubject.next(t.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function $l(e,n){let t=st(e.params,n.params)&&lz(e.url,n.url),r=!e.parent!=!n.parent;return t&&!r&&(!e.parent||$l(e.parent,n.parent))}function k7(e){return typeof e.title=="string"||e.title===null}var N7=new R(""),fo=(()=>{class e{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=$;activateEvents=new i1;deactivateEvents=new i1;attachEvents=new i1;detachEvents=new i1;routerOutletData=o1(void 0);parentContexts=m(Wr);location=m(Sr);changeDetector=m(Zt);inputBinder=m(v5,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:s}=t.name;if(r)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new E(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new E(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new E(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new E(4013,!1);this._activatedRoute=t;let s=this.location,i=t.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,a=new Wl(t,c,s.injector,this.routerOutletData);this.activated=s.createComponent(i,{index:s.length,injector:a,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||e)};static \u0275dir=M1({type:e,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[te]})}return e})(),Wl=class{route;childContexts;parent;outletData;constructor(n,t,r,s){this.route=n,this.childContexts=t,this.parent=r,this.outletData=s}get(n,t){return n===h1?this.route:n===Wr?this.childContexts:n===N7?this.outletData:this.parent.get(n,t)}},v5=new R("");var Jl=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275cmp=J({type:e,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,s){r&1&&_(0,"router-outlet")},dependencies:[fo],encapsulation:2})}return e})();function Xl(e){let n=e.children&&e.children.map(Xl),t=n?L(z({},e),{children:n}):z({},e);return!t.component&&!t.loadComponent&&(n||t.loadChildren)&&t.outlet&&t.outlet!==$&&(t.component=Jl),t}function Az(e,n,t){let r=lo(e,n._root,t?t._root:void 0);return new co(r,n)}function lo(e,n,t){if(t&&e.shouldReuseRoute(n.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=n.value;let s=Lz(e,n,t);return new Me(r,s)}else{if(e.shouldAttach(n.value)){let o=e.retrieve(n.value);if(o!==null){let i=o.route;return i.value._futureSnapshot=n.value,i.children=n.children.map(c=>lo(e,c)),i}}let r=Hz(n.value),s=n.children.map(o=>lo(e,o));return new Me(r,s)}}function Lz(e,n,t){return n.children.map(r=>{for(let s of t.children)if(e.shouldReuseRoute(r.value,s.value.snapshot))return lo(e,r,s);return lo(e,r)})}function Hz(e){return new h1(new m1(e.url),new m1(e.params),new m1(e.queryParams),new m1(e.fragment),new m1(e.data),e.outlet,e.component,e)}var Ur=class{redirectTo;navigationBehaviorOptions;constructor(n,t){this.redirectTo=n,this.navigationBehaviorOptions=t}},B7="ngNavigationCancelingError";function u5(e,n){let{redirectTo:t,navigationBehaviorOptions:r}=Pr(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,s=O7(!1,de.Redirect);return s.url=t,s.navigationBehaviorOptions=r,s}function O7(e,n){let t=new Error(`NavigationCancelingError: ${e||""}`);return t[B7]=!0,t.cancellationCode=n,t}function Tz(e){return P7(e)&&Pr(e.url)}function P7(e){return!!e&&e[B7]}var kz=(e,n,t,r)=>W(s=>(new Gl(n,s.targetRouterState,s.currentRouterState,t,r).activate(e),s)),Gl=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(n,t,r,s,o){this.routeReuseStrategy=n,this.futureState=t,this.currState=r,this.forwardEvent=s,this.inputBindingEnabled=o}activate(n){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,n),Tl(this.futureState.root),this.activateChildRoutes(t,r,n)}deactivateChildRoutes(n,t,r){let s=Nr(t);n.children.forEach(o=>{let i=o.value.outlet;this.deactivateRoutes(o,s[i],r),delete s[i]}),Object.values(s).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(n,t,r){let s=n.value,o=t?t.value:null;if(s===o)if(s.component){let i=r.getContext(s.outlet);i&&this.deactivateChildRoutes(n,t,i.children)}else this.deactivateChildRoutes(n,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(n,t){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,t):this.deactivateRouteAndOutlet(n,t)}detachAndStoreRouteSubtree(n,t){let r=t.getContext(n.value.outlet),s=r&&n.value.component?r.children:t,o=Nr(n);for(let i of Object.values(o))this.deactivateRouteAndItsChildren(i,s);if(r&&r.outlet){let i=r.outlet.detach(),c=r.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:i,route:n,contexts:c})}}deactivateRouteAndOutlet(n,t){let r=t.getContext(n.value.outlet),s=r&&n.value.component?r.children:t,o=Nr(n);for(let i of Object.values(o))this.deactivateRouteAndItsChildren(i,s);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(n,t,r){let s=Nr(t);n.children.forEach(o=>{this.activateRoutes(o,s[o.value.outlet],r),this.forwardEvent(new c5(o.value.snapshot))}),n.children.length&&this.forwardEvent(new o5(n.value.snapshot))}activateRoutes(n,t,r){let s=n.value,o=t?t.value:null;if(Tl(s),s===o)if(s.component){let i=r.getOrCreateContext(s.outlet);this.activateChildRoutes(n,t,i.children)}else this.activateChildRoutes(n,t,r);else if(s.component){let i=r.getOrCreateContext(s.outlet);if(this.routeReuseStrategy.shouldAttach(s.snapshot)){let c=this.routeReuseStrategy.retrieve(s.snapshot);this.routeReuseStrategy.store(s.snapshot,null),i.children.onOutletReAttached(c.contexts),i.attachRef=c.componentRef,i.route=c.route.value,i.outlet&&i.outlet.attach(c.componentRef,c.route.value),Tl(c.route.value),this.activateChildRoutes(n,null,i.children)}else i.attachRef=null,i.route=s,i.outlet&&i.outlet.activateWith(s,i.injector),this.activateChildRoutes(n,null,i.children)}else this.activateChildRoutes(n,null,r)}},d5=class{path;route;constructor(n){this.path=n,this.route=this.path[this.path.length-1]}},Or=class{component;route;constructor(n,t){this.component=n,this.route=t}};function Nz(e,n,t){let r=e._root,s=n?n._root:null;return eo(r,s,t,[r.value])}function Bz(e){let n=e.routeConfig?e.routeConfig.canActivateChild:null;return!n||n.length===0?null:{node:e,guards:n}}function Gr(e,n){let t=Symbol(),r=n.get(e,t);return r===t?typeof e=="function"&&!K9(e)?e:n.get(e):r}function eo(e,n,t,r,s={canDeactivateChecks:[],canActivateChecks:[]}){let o=Nr(n);return e.children.forEach(i=>{Oz(i,o[i.value.outlet],t,r.concat([i.value]),s),delete o[i.value.outlet]}),Object.entries(o).forEach(([i,c])=>no(c,t.getContext(i),s)),s}function Oz(e,n,t,r,s={canDeactivateChecks:[],canActivateChecks:[]}){let o=e.value,i=n?n.value:null,c=t?t.getContext(e.value.outlet):null;if(i&&o.routeConfig===i.routeConfig){let a=Pz(i,o,o.routeConfig.runGuardsAndResolvers);a?s.canActivateChecks.push(new d5(r)):(o.data=i.data,o._resolvedData=i._resolvedData),o.component?eo(e,n,c?c.children:null,r,s):eo(e,n,t,r,s),a&&c&&c.outlet&&c.outlet.isActivated&&s.canDeactivateChecks.push(new Or(c.outlet.component,i))}else i&&no(n,c,s),s.canActivateChecks.push(new d5(r)),o.component?eo(e,null,c?c.children:null,r,s):eo(e,null,t,r,s);return s}function Pz(e,n,t){if(typeof t=="function")return t(e,n);switch(t){case"pathParamsChange":return!Bn(e.url,n.url);case"pathParamsOrQueryParamsChange":return!Bn(e.url,n.url)||!st(e.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!$l(e,n)||!st(e.queryParams,n.queryParams);case"paramsChange":default:return!$l(e,n)}}function no(e,n,t){let r=Nr(e),s=e.value;Object.entries(r).forEach(([o,i])=>{s.component?n?no(i,n.children.getContext(o),t):no(i,null,t):no(i,n,t)}),s.component?n&&n.outlet&&n.outlet.isActivated?t.canDeactivateChecks.push(new Or(n.outlet.component,s)):t.canDeactivateChecks.push(new Or(null,s)):t.canDeactivateChecks.push(new Or(null,s))}function mo(e){return typeof e=="function"}function Fz(e){return typeof e=="boolean"}function jz(e){return e&&mo(e.canLoad)}function Uz(e){return e&&mo(e.canActivate)}function $z(e){return e&&mo(e.canActivateChild)}function Wz(e){return e&&mo(e.canDeactivate)}function Gz(e){return e&&mo(e.canMatch)}function F7(e){return e instanceof ke||e?.name==="EmptyError"}var Wi=Symbol("INITIAL_VALUE");function $r(){return Q1(e=>ms(e.map(n=>n.pipe(xe(1),n0(Wi)))).pipe(W(n=>{for(let t of n)if(t!==!0){if(t===Wi)return Wi;if(t===!1||qz(t))return t}return!0}),fe(n=>n!==Wi),xe(1)))}function qz(e){return Pr(e)||e instanceof Ur}function Zz(e,n){return L1(t=>{let{targetSnapshot:r,currentSnapshot:s,guards:{canActivateChecks:o,canDeactivateChecks:i}}=t;return i.length===0&&o.length===0?N(L(z({},t),{guardsResult:!0})):Yz(i,r,s,e).pipe(L1(c=>c&&Fz(c)?Kz(r,o,e,n):N(c)),W(c=>L(z({},t),{guardsResult:c})))})}function Yz(e,n,t,r){return w1(e).pipe(L1(s=>ty(s.component,s.route,t,n,r)),wt(s=>s!==!0,!0))}function Kz(e,n,t,r){return w1(n).pipe(jt(s=>rr(Jz(s.route.parent,r),Qz(s.route,r),ey(e,s.path,t),Xz(e,s.route,t))),wt(s=>s!==!0,!0))}function Qz(e,n){return e!==null&&n&&n(new i5(e)),N(!0)}function Jz(e,n){return e!==null&&n&&n(new s5(e)),N(!0)}function Xz(e,n,t){let r=n.routeConfig?n.routeConfig.canActivate:null;if(!r||r.length===0)return N(!0);let s=r.map(o=>E2(()=>{let i=go(n)??t,c=Gr(o,i),a=Uz(c)?c.canActivate(n,e):ee(i,()=>c(n,e));return Jt(a).pipe(wt())}));return N(s).pipe($r())}function ey(e,n,t){let r=n[n.length-1],o=n.slice(0,n.length-1).reverse().map(i=>Bz(i)).filter(i=>i!==null).map(i=>E2(()=>{let c=i.guards.map(a=>{let l=go(i.node)??t,h=Gr(a,l),d=$z(h)?h.canActivateChild(r,e):ee(l,()=>h(r,e));return Jt(d).pipe(wt())});return N(c).pipe($r())}));return N(o).pipe($r())}function ty(e,n,t,r,s){let o=n&&n.routeConfig?n.routeConfig.canDeactivate:null;if(!o||o.length===0)return N(!0);let i=o.map(c=>{let a=go(n)??s,l=Gr(c,a),h=Wz(l)?l.canDeactivate(e,n,t,r):ee(a,()=>l(e,n,t,r));return Jt(h).pipe(wt())});return N(i).pipe($r())}function ny(e,n,t,r){let s=n.canLoad;if(s===void 0||s.length===0)return N(!0);let o=s.map(i=>{let c=Gr(i,e),a=jz(c)?c.canLoad(n,t):ee(e,()=>c(n,t));return Jt(a)});return N(o).pipe($r(),j7(r))}function j7(e){return Gc(F1(n=>{if(typeof n!="boolean")throw u5(e,n)}),W(n=>n===!0))}function ry(e,n,t,r){let s=n.canMatch;if(!s||s.length===0)return N(!0);let o=s.map(i=>{let c=Gr(i,e),a=Gz(c)?c.canMatch(n,t):ee(e,()=>c(n,t));return Jt(a)});return N(o).pipe($r(),j7(r))}var ho=class{segmentGroup;constructor(n){this.segmentGroup=n||null}},uo=class extends Error{urlTree;constructor(n){super(),this.urlTree=n}};function kr(e){return nr(new ho(e))}function sy(e){return nr(new E(4e3,!1))}function oy(e){return nr(O7(!1,de.GuardRejected))}var ql=class{urlSerializer;urlTree;constructor(n,t){this.urlSerializer=n,this.urlTree=t}lineralizeSegments(n,t){let r=[],s=t.root;for(;;){if(r=r.concat(s.segments),s.numberOfChildren===0)return N(r);if(s.numberOfChildren>1||!s.children[$])return sy(`${n.redirectTo}`);s=s.children[$]}}applyRedirectCommands(n,t,r,s,o){if(typeof t!="string"){let c=t,{queryParams:a,fragment:l,routeConfig:h,url:d,outlet:g,params:v,data:u,title:M}=s,S=ee(o,()=>c({params:v,data:u,queryParams:a,fragment:l,routeConfig:h,url:d,outlet:g,title:M}));if(S instanceof it)throw new uo(S);t=S}let i=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),n,r);if(t[0]==="/")throw new uo(i);return i}applyRedirectCreateUrlTree(n,t,r,s){let o=this.createSegmentGroup(n,t.root,r,s);return new it(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(n,t){let r={};return Object.entries(n).forEach(([s,o])=>{if(typeof o=="string"&&o[0]===":"){let c=o.substring(1);r[s]=t[c]}else r[s]=o}),r}createSegmentGroup(n,t,r,s){let o=this.createSegments(n,t.segments,r,s),i={};return Object.entries(t.children).forEach(([c,a])=>{i[c]=this.createSegmentGroup(n,a,r,s)}),new c1(o,i)}createSegments(n,t,r,s){return t.map(o=>o.path[0]===":"?this.findPosParam(n,o,s):this.findOrReturn(o,r))}findPosParam(n,t,r){let s=r[t.path.substring(1)];if(!s)throw new E(4001,!1);return s}findOrReturn(n,t){let r=0;for(let s of t){if(s.path===n.path)return t.splice(r),s;r++}return n}},Zl={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function iy(e,n,t,r,s){let o=U7(e,n,t);return o.matched?(r=bz(n,r),ry(r,n,t,s).pipe(W(i=>i===!0?o:z({},Zl)))):N(o)}function U7(e,n,t){if(n.path==="**")return cy(t);if(n.path==="")return n.pathMatch==="full"&&(e.hasChildren()||t.length>0)?z({},Zl):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let s=(n.matcher||w7)(t,e,n);if(!s)return z({},Zl);let o={};Object.entries(s.posParams??{}).forEach(([c,a])=>{o[c]=a.path});let i=s.consumed.length>0?z(z({},o),s.consumed[s.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:s.consumed,remainingSegments:t.slice(s.consumed.length),parameters:i,positionalParamSegments:s.posParams??{}}}function cy(e){return{matched:!0,parameters:e.length>0?M7(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function g7(e,n,t,r){return t.length>0&&hy(e,t,r)?{segmentGroup:new c1(n,ly(r,new c1(t,e.children))),slicedSegments:[]}:t.length===0&&uy(e,t,r)?{segmentGroup:new c1(e.segments,ay(e,t,r,e.children)),slicedSegments:t}:{segmentGroup:new c1(e.segments,e.children),slicedSegments:t}}function ay(e,n,t,r){let s={};for(let o of t)if(g5(e,n,o)&&!r[Fe(o)]){let i=new c1([],{});s[Fe(o)]=i}return z(z({},r),s)}function ly(e,n){let t={};t[$]=n;for(let r of e)if(r.path===""&&Fe(r)!==$){let s=new c1([],{});t[Fe(r)]=s}return t}function hy(e,n,t){return t.some(r=>g5(e,n,r)&&Fe(r)!==$)}function uy(e,n,t){return t.some(r=>g5(e,n,r))}function g5(e,n,t){return(e.hasChildren()||n.length>0)&&t.pathMatch==="full"?!1:t.path===""}function dy(e,n,t){return n.length===0&&!e.children[t]}var Yl=class{};function py(e,n,t,r,s,o,i="emptyOnly"){return new Kl(e,n,t,r,s,i,o).recognize()}var vy=31,Kl=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(n,t,r,s,o,i,c){this.injector=n,this.configLoader=t,this.rootComponentType=r,this.config=s,this.urlTree=o,this.paramsInheritanceStrategy=i,this.urlSerializer=c,this.applyRedirects=new ql(this.urlSerializer,this.urlTree)}noMatchError(n){return new E(4002,`'${n.segmentGroup}'`)}recognize(){let n=g7(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(n).pipe(W(({children:t,rootSnapshot:r})=>{let s=new Me(r,t),o=new ao("",s),i=b7(r,[],this.urlTree.queryParams,this.urlTree.fragment);return i.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(i),{state:o,tree:i}}))}match(n){let t=new On([],Object.freeze({}),Object.freeze(z({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),$,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,n,$,t).pipe(W(r=>({children:r,rootSnapshot:t})),Ft(r=>{if(r instanceof uo)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof ho?this.noMatchError(r):r}))}processSegmentGroup(n,t,r,s,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(n,t,r,o):this.processSegment(n,t,r,r.segments,s,!0,o).pipe(W(i=>i instanceof Me?[i]:[]))}processChildren(n,t,r,s){let o=[];for(let i of Object.keys(r.children))i==="primary"?o.unshift(i):o.push(i);return w1(o).pipe(jt(i=>{let c=r.children[i],a=Dz(t,i);return this.processSegmentGroup(n,a,c,i,s)}),t0((i,c)=>(i.push(...c),i)),Ut(null),e0(),L1(i=>{if(i===null)return kr(r);let c=$7(i);return gy(c),N(c)}))}processSegment(n,t,r,s,o,i,c){return w1(t).pipe(jt(a=>this.processSegmentAgainstRoute(a._injector??n,t,a,r,s,o,i,c).pipe(Ft(l=>{if(l instanceof ho)return N(null);throw l}))),wt(a=>!!a),Ft(a=>{if(F7(a))return dy(r,s,o)?N(new Yl):kr(r);throw a}))}processSegmentAgainstRoute(n,t,r,s,o,i,c,a){return Fe(r)!==i&&(i===$||!g5(s,o,r))?kr(s):r.redirectTo===void 0?this.matchSegmentAgainstRoute(n,s,r,o,i,a):this.allowRedirects&&c?this.expandSegmentAgainstRouteUsingRedirect(n,s,t,r,o,i,a):kr(s)}expandSegmentAgainstRouteUsingRedirect(n,t,r,s,o,i,c){let{matched:a,parameters:l,consumedSegments:h,positionalParamSegments:d,remainingSegments:g}=U7(t,s,o);if(!a)return kr(t);typeof s.redirectTo=="string"&&s.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>vy&&(this.allowRedirects=!1));let v=new On(o,l,Object.freeze(z({},this.urlTree.queryParams)),this.urlTree.fragment,f7(s),Fe(s),s.component??s._loadedComponent??null,s,m7(s)),u=h5(v,c,this.paramsInheritanceStrategy);v.params=Object.freeze(u.params),v.data=Object.freeze(u.data);let M=this.applyRedirects.applyRedirectCommands(h,s.redirectTo,d,v,n);return this.applyRedirects.lineralizeSegments(s,M).pipe(L1(S=>this.processSegment(n,r,t,S.concat(g),i,!1,c)))}matchSegmentAgainstRoute(n,t,r,s,o,i){let c=iy(t,r,s,n,this.urlSerializer);return r.path==="**"&&(t.children={}),c.pipe(Q1(a=>a.matched?(n=r._injector??n,this.getChildConfig(n,r,s).pipe(Q1(({routes:l})=>{let h=r._loadedInjector??n,{parameters:d,consumedSegments:g,remainingSegments:v}=a,u=new On(g,d,Object.freeze(z({},this.urlTree.queryParams)),this.urlTree.fragment,f7(r),Fe(r),r.component??r._loadedComponent??null,r,m7(r)),M=h5(u,i,this.paramsInheritanceStrategy);u.params=Object.freeze(M.params),u.data=Object.freeze(M.data);let{segmentGroup:S,slicedSegments:V}=g7(t,g,v,l);if(V.length===0&&S.hasChildren())return this.processChildren(h,l,S,u).pipe(W(Z=>new Me(u,Z)));if(l.length===0&&V.length===0)return N(new Me(u,[]));let r1=Fe(r)===o;return this.processSegment(h,l,S,V,r1?$:o,!0,u).pipe(W(Z=>new Me(u,Z instanceof Me?[Z]:[])))}))):kr(t)))}getChildConfig(n,t,r){return t.children?N({routes:t.children,injector:n}):t.loadChildren?t._loadedRoutes!==void 0?N({routes:t._loadedRoutes,injector:t._loadedInjector}):ny(n,t,r,this.urlSerializer).pipe(L1(s=>s?this.configLoader.loadChildren(n,t).pipe(F1(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):oy(t))):N({routes:[],injector:n})}};function gy(e){e.sort((n,t)=>n.value.outlet===$?-1:t.value.outlet===$?1:n.value.outlet.localeCompare(t.value.outlet))}function fy(e){let n=e.value.routeConfig;return n&&n.path===""}function $7(e){let n=[],t=new Set;for(let r of e){if(!fy(r)){n.push(r);continue}let s=n.find(o=>r.value.routeConfig===o.value.routeConfig);s!==void 0?(s.children.push(...r.children),t.add(s)):n.push(r)}for(let r of t){let s=$7(r.children);n.push(new Me(r.value,s))}return n.filter(r=>!t.has(r))}function f7(e){return e.data||{}}function m7(e){return e.resolve||{}}function my(e,n,t,r,s,o){return L1(i=>py(e,n,t,r,i.extractedUrl,s,o).pipe(W(({state:c,tree:a})=>L(z({},i),{targetSnapshot:c,urlAfterRedirects:a}))))}function wy(e,n){return L1(t=>{let{targetSnapshot:r,guards:{canActivateChecks:s}}=t;if(!s.length)return N(t);let o=new Set(s.map(a=>a.route)),i=new Set;for(let a of o)if(!i.has(a))for(let l of W7(a))i.add(l);let c=0;return w1(i).pipe(jt(a=>o.has(a)?Cy(a,r,e,n):(a.data=h5(a,a.parent,e).resolve,N(void 0))),F1(()=>c++),sr(1),L1(a=>c===i.size?N(t):se))})}function W7(e){let n=e.children.map(t=>W7(t)).flat();return[e,...n]}function Cy(e,n,t,r){let s=e.routeConfig,o=e._resolve;return s?.title!==void 0&&!k7(s)&&(o[po]=s.title),My(o,e,n,r).pipe(W(i=>(e._resolvedData=i,e.data=h5(e,e.parent,t).resolve,null)))}function My(e,n,t,r){let s=Bl(e);if(s.length===0)return N({});let o={};return w1(s).pipe(L1(i=>zy(e[i],n,t,r).pipe(wt(),F1(c=>{if(c instanceof Ur)throw u5(new Fn,c);o[i]=c}))),sr(1),W(()=>o),Ft(i=>F7(i)?se:nr(i)))}function zy(e,n,t,r){let s=go(n)??r,o=Gr(e,s),i=o.resolve?o.resolve(n,t):ee(s,()=>o(n,t));return Jt(i)}function kl(e){return Q1(n=>{let t=e(n);return t?w1(t).pipe(W(()=>n)):N(n)})}var e4=(()=>{class e{buildTitle(t){let r,s=t.root;for(;s!==void 0;)r=this.getResolvedTitleForRoute(s)??r,s=s.children.find(o=>o.outlet===$);return r}getResolvedTitleForRoute(t){return t.data[po]}static \u0275fac=function(r){return new(r||e)};static \u0275prov=I({token:e,factory:()=>m(G7),providedIn:"root"})}return e})(),G7=(()=>{class e extends e4{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||e)(H(h7))};static \u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),wo=new R("",{providedIn:"root",factory:()=>({})}),Co=new R(""),q7=(()=>{class e{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=m(md);loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return N(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=Jt(t.loadComponent()).pipe(W(Y7),F1(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),Ge(()=>{this.componentLoaders.delete(t)})),s=new er(r,()=>new _1).pipe(Xn());return this.componentLoaders.set(t,s),s}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return N({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=Z7(r,this.compiler,t,this.onLoadEndListener).pipe(Ge(()=>{this.childrenLoaders.delete(r)})),i=new er(o,()=>new _1).pipe(Xn());return this.childrenLoaders.set(r,i),i}static \u0275fac=function(r){return new(r||e)};static \u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Z7(e,n,t,r){return Jt(e.loadChildren()).pipe(W(Y7),L1(s=>s instanceof el||Array.isArray(s)?N(s):w1(n.compileModuleAsync(s))),W(s=>{r&&r(e);let o,i,c=!1;return Array.isArray(s)?(i=s,c=!0):(o=s.create(t).injector,i=o.get(Co,[],{optional:!0,self:!0}).flat()),{routes:i.map(Xl),injector:o}}))}function yy(e){return e&&typeof e=="object"&&"default"in e}function Y7(e){return yy(e)?e.default:e}var f5=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=I({token:e,factory:()=>m(xy),providedIn:"root"})}return e})(),xy=(()=>{class e{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||e)};static \u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),K7=new R("");var Q7=new R(""),J7=(()=>{class e{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new _1;transitionAbortSubject=new _1;configLoader=m(q7);environmentInjector=m(ae);destroyRef=m(et);urlSerializer=m(vo);rootContexts=m(Wr);location=m(Dr);inputBindingEnabled=m(v5,{optional:!0})!==null;titleStrategy=m(e4);options=m(wo,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=m(f5);createViewTransition=m(K7,{optional:!0});navigationErrorHandler=m(Q7,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>N(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=s=>this.events.next(new n5(s)),r=s=>this.events.next(new r5(s));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(L(z({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))}setupNavigations(t){return this.transitions=new m1(null),this.transitions.pipe(fe(r=>r!==null),Q1(r=>{let s=!1,o=!1;return N(r).pipe(Q1(i=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",de.SupersededByNewNavigation),se;this.currentTransition=r,this.currentNavigation={id:i.id,initialUrl:i.rawUrl,extractedUrl:i.extractedUrl,targetBrowserUrl:typeof i.extras.browserUrl=="string"?this.urlSerializer.parse(i.extras.browserUrl):i.extras.browserUrl,trigger:i.source,extras:i.extras,previousNavigation:this.lastSuccessfulNavigation?L(z({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let c=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),a=i.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!c&&a!=="reload"){let l="";return this.events.next(new Vt(i.id,this.urlSerializer.serialize(i.rawUrl),l,so.IgnoredSameUrlNavigation)),i.resolve(!1),se}if(this.urlHandlingStrategy.shouldProcessUrl(i.rawUrl))return N(i).pipe(Q1(l=>(this.events.next(new jn(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),l.id!==this.navigationId?se:Promise.resolve(l))),my(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),F1(l=>{r.targetSnapshot=l.targetSnapshot,r.urlAfterRedirects=l.urlAfterRedirects,this.currentNavigation=L(z({},this.currentNavigation),{finalUrl:l.urlAfterRedirects});let h=new oo(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}));if(c&&this.urlHandlingStrategy.shouldProcessUrl(i.currentRawUrl)){let{id:l,extractedUrl:h,source:d,restoredState:g,extras:v}=i,u=new jn(l,this.urlSerializer.serialize(h),d,g);this.events.next(u);let M=H7(this.rootComponentType).snapshot;return this.currentTransition=r=L(z({},i),{targetSnapshot:M,urlAfterRedirects:h,extras:L(z({},v),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=h,N(r)}else{let l="";return this.events.next(new Vt(i.id,this.urlSerializer.serialize(i.extractedUrl),l,so.IgnoredByUrlHandlingStrategy)),i.resolve(!1),se}}),F1(i=>{let c=new Ji(i.id,this.urlSerializer.serialize(i.extractedUrl),this.urlSerializer.serialize(i.urlAfterRedirects),i.targetSnapshot);this.events.next(c)}),W(i=>(this.currentTransition=r=L(z({},i),{guards:Nz(i.targetSnapshot,i.currentSnapshot,this.rootContexts)}),r)),Zz(this.environmentInjector,i=>this.events.next(i)),F1(i=>{if(r.guardsResult=i.guardsResult,i.guardsResult&&typeof i.guardsResult!="boolean")throw u5(this.urlSerializer,i.guardsResult);let c=new Xi(i.id,this.urlSerializer.serialize(i.extractedUrl),this.urlSerializer.serialize(i.urlAfterRedirects),i.targetSnapshot,!!i.guardsResult);this.events.next(c)}),fe(i=>i.guardsResult?!0:(this.cancelNavigationTransition(i,"",de.GuardRejected),!1)),kl(i=>{if(i.guards.canActivateChecks.length!==0)return N(i).pipe(F1(c=>{let a=new e5(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(a)}),Q1(c=>{let a=!1;return N(c).pipe(wy(this.paramsInheritanceStrategy,this.environmentInjector),F1({next:()=>a=!0,complete:()=>{a||this.cancelNavigationTransition(c,"",de.NoDataFromResolver)}}))}),F1(c=>{let a=new t5(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(a)}))}),kl(i=>{let c=a=>{let l=[];a.routeConfig?.loadComponent&&!a.routeConfig._loadedComponent&&l.push(this.configLoader.loadComponent(a.routeConfig).pipe(F1(h=>{a.component=h}),W(()=>{})));for(let h of a.children)l.push(...c(h));return l};return ms(c(i.targetSnapshot.root)).pipe(Ut(null),xe(1))}),kl(()=>this.afterPreactivation()),Q1(()=>{let{currentSnapshot:i,targetSnapshot:c}=r,a=this.createViewTransition?.(this.environmentInjector,i.root,c.root);return a?w1(a).pipe(W(()=>r)):N(r)}),W(i=>{let c=Az(t.routeReuseStrategy,i.targetSnapshot,i.currentRouterState);return this.currentTransition=r=L(z({},i),{targetRouterState:c}),this.currentNavigation.targetRouterState=c,r}),F1(()=>{this.events.next(new io)}),kz(this.rootContexts,t.routeReuseStrategy,i=>this.events.next(i),this.inputBindingEnabled),xe(1),F1({next:i=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Dt(i.id,this.urlSerializer.serialize(i.extractedUrl),this.urlSerializer.serialize(i.urlAfterRedirects))),this.titleStrategy?.updateTitle(i.targetRouterState.snapshot),i.resolve(!0)},complete:()=>{s=!0}}),or(this.transitionAbortSubject.pipe(F1(i=>{throw i}))),Ge(()=>{!s&&!o&&this.cancelNavigationTransition(r,"",de.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),Ft(i=>{if(this.destroyed)return r.resolve(!1),se;if(o=!0,P7(i))this.events.next(new ot(r.id,this.urlSerializer.serialize(r.extractedUrl),i.message,i.cancellationCode)),Tz(i)?this.events.next(new jr(i.url,i.navigationBehaviorOptions)):r.resolve(!1);else{let c=new Fr(r.id,this.urlSerializer.serialize(r.extractedUrl),i,r.targetSnapshot??void 0);try{let a=ee(this.environmentInjector,()=>this.navigationErrorHandler?.(c));if(a instanceof Ur){let{message:l,cancellationCode:h}=u5(this.urlSerializer,a);this.events.next(new ot(r.id,this.urlSerializer.serialize(r.extractedUrl),l,h)),this.events.next(new jr(a.redirectTo,a.navigationBehaviorOptions))}else throw this.events.next(c),i}catch(a){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(a)}}return se}))}))}cancelNavigationTransition(t,r,s){let o=new ot(t.id,this.urlSerializer.serialize(t.extractedUrl),r,s);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||e)};static \u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function _y(e){return e!==Yi}var X7=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=I({token:e,factory:()=>m(Ry),providedIn:"root"})}return e})(),p5=class{shouldDetach(n){return!1}store(n,t){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,t){return n.routeConfig===t.routeConfig}},Ry=(()=>{class e extends p5{static \u0275fac=(()=>{let t;return function(s){return(t||(t=Rt(e)))(s||e)}})();static \u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),e6=(()=>{class e{urlSerializer=m(vo);options=m(wo,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=m(Dr);urlHandlingStrategy=m(f5);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new it;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:s}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,i=s??o;return i instanceof it?this.urlSerializer.serialize(i):i}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:s}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,s),this.routerState=t):this.rawUrlTree=s}routerState=H7(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=I({token:e,factory:()=>m(Sy),providedIn:"root"})}return e})(),Sy=(()=>{class e extends e6{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof jn?this.updateStateMemento():t instanceof Vt?this.commitTransition(r):t instanceof oo?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof io?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof ot&&(t.code===de.GuardRejected||t.code===de.NoDataFromResolver)?this.restoreHistory(r):t instanceof Fr?this.restoreHistory(r,!0):t instanceof Dt&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:s}){let{replaceUrl:o,state:i}=r;if(this.location.isCurrentPathEqualTo(t)||o){let c=this.browserPageId,a=z(z({},i),this.generateNgRouterState(s,c));this.location.replaceState(t,"",a)}else{let c=z(z({},i),this.generateNgRouterState(s,this.browserPageId+1));this.location.go(t,"",c)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(s){return(t||(t=Rt(e)))(s||e)}})();static \u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function t4(e,n){e.events.pipe(fe(t=>t instanceof Dt||t instanceof ot||t instanceof Fr||t instanceof Vt),W(t=>t instanceof Dt||t instanceof Vt?0:(t instanceof ot?t.code===de.Redirect||t.code===de.SupersededByNewNavigation:!1)?2:1),fe(t=>t!==2),xe(1)).subscribe(()=>{n()})}var Iy={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Ey={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},u1=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=m(id);stateManager=m(e6);options=m(wo,{optional:!0})||{};pendingTasks=m(Gt);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=m(J7);urlSerializer=m(vo);location=m(Dr);urlHandlingStrategy=m(f5);_events=new _1;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=m(X7);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=m(Co,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!m(v5,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new y1;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof ot&&r.code!==de.Redirect&&r.code!==de.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Dt)this.navigated=!0;else if(r instanceof jr){let i=r.navigationBehaviorOptions,c=this.urlHandlingStrategy.merge(r.url,s.currentRawUrl),a=z({browserUrl:s.extras.browserUrl,info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:s.extras.replaceUrl||this.urlUpdateStrategy==="eager"||_y(s.source)},i);this.scheduleNavigation(c,Yi,null,a,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}Dy(r)&&this._events.next(r)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Yi,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,s)=>{this.navigateToSyncWithBrowser(t,s,r)})}navigateToSyncWithBrowser(t,r,s){let o={replaceUrl:!0},i=s?.navigationId?s:null;if(s){let a=z({},s);delete a.navigationId,delete a.\u0275routerPageId,Object.keys(a).length!==0&&(o.state=a)}let c=this.parseUrl(t);this.scheduleNavigation(c,r,i,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(Xl),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:s,queryParams:o,fragment:i,queryParamsHandling:c,preserveFragment:a}=r,l=a?this.currentUrlTree.fragment:i,h=null;switch(c??this.options.defaultQueryParamsHandling){case"merge":h=z(z({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let d;try{let g=s?s.snapshot:this.routerState.snapshot.root;d=D7(g)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),d=this.currentUrlTree.root}return V7(d,t,h,l??null)}navigateByUrl(t,r={skipLocationChange:!1}){let s=Pr(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,Yi,null,r)}navigate(t,r={skipLocationChange:!1}){return by(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let s;if(r===!0?s=z({},Iy):r===!1?s=z({},Ey):s=r,Pr(t))return u7(this.currentUrlTree,t,s);let o=this.parseUrl(t);return u7(this.currentUrlTree,o,s)}removeEmptyProps(t){return Object.entries(t).reduce((r,[s,o])=>(o!=null&&(r[s]=o),r),{})}scheduleNavigation(t,r,s,o,i){if(this.disposed)return Promise.resolve(!1);let c,a,l;i?(c=i.resolve,a=i.reject,l=i.promise):l=new Promise((d,g)=>{c=d,a=g});let h=this.pendingTasks.add();return t4(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:c,reject:a,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(d=>Promise.reject(d))}static \u0275fac=function(r){return new(r||e)};static \u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function by(e){for(let n=0;n<e.length;n++)if(e[n]==null)throw new E(4008,!1)}function Dy(e){return!(e instanceof io)&&!(e instanceof jr)}var Ay=new R("");function n4(e,...n){return zr([{provide:Co,multi:!0,useValue:e},[],{provide:h1,useFactory:Ly,deps:[u1]},{provide:nl,multi:!0,useFactory:Hy},n.map(t=>t.\u0275providers)])}function Ly(e){return e.routerState.root}function Hy(){let e=m(X1);return n=>{let t=e.get(bn);if(n!==t.components[0])return;let r=e.get(u1),s=e.get(Ty);e.get(ky)===1&&r.initialNavigation(),e.get(Ny,null,G.Optional)?.setUpPreloading(),e.get(Ay,null,G.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),s.closed||(s.next(),s.complete(),s.unsubscribe())}}var Ty=new R("",{factory:()=>new _1}),ky=new R("",{providedIn:"root",factory:()=>1});var Ny=new R("");var $1="https://barsac-api-production.up.railway.app";var Ve=class e{constructor(n){this.http=n}apiUrl=`${$1}/api/carts`;count=new m1(0);createCart(n){return this.http.post(this.apiUrl,{user_id:n})}increaseQuantity(n,t){return f(this,null,function*(){let r=localStorage.getItem("cart");if(r==null){let o=localStorage.getItem("userId")||"empty";r=(yield f1(this.createCart(o))).id,localStorage.setItem("cart",r)}if((t?.quantity||0)>=99||!r||!t)return;let s=yield this.modifyProductQuantity(t.id,1);return n&&(t.quantity=s.quantity,t.price=s.price,t.original_price=s.original_price),this.count.next(this.count.value+1),s})}decreaseQuantity(n,t){return f(this,null,function*(){let r=localStorage.getItem("cart");if(r==null){let o=localStorage.getItem("userId")||"empty";r=(yield f1(this.createCart(o))).id,localStorage.setItem("cart",r)}if((t?.quantity||0)<=0||!r||!t)return;let s=yield this.modifyProductQuantity(t.id,-1);return n&&(t.quantity=s.quantity,t.price=s.price,t.original_price=s.original_price),this.count.next(this.count.value-1),s})}removeProduct(n){return f(this,null,function*(){let t=localStorage.getItem("cart");if(t==null){let r=localStorage.getItem("userId")||"empty";t=(yield f1(this.createCart(r))).id,localStorage.setItem("cart",t)}if(!(!t||!n))return this.count.next(this.count.value-1),yield f1(this.http.post(`${this.apiUrl}/remove-product`,{cart_id:t,product_id:n.id}))})}getCart(){return f(this,null,function*(){let n=localStorage.getItem("cart");if(n==null){let t=localStorage.getItem("userId")||"empty";n=(yield f1(this.createCart(t))).id,localStorage.setItem("cart",n)}return yield f1(this.http.get(`${this.apiUrl}/${n}`))})}countProducts(){return f(this,null,function*(){if(!this.count.value){this.count=new m1(0);let n=yield this.getCart();this.count.next(n.products.map(t=>t.quantity).reduce((t,r)=>t+r,0))}return this.count})}modifyProductQuantity(n,t){return f(this,null,function*(){let r=localStorage.getItem("cart");if(r==null){let s=localStorage.getItem("userId")||"empty";r=(yield f1(this.createCart(s))).id,localStorage.setItem("cart",r)}return yield f1(this.http.post(`${this.apiUrl}/add-product`,{cart_id:r,product_id:n,quantity:t}))})}static \u0275fac=function(t){return new(t||e)(H(ue))};static \u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})};function Oy(e,n){if(e&1&&_(0,"img",3),e&2){let t=D();Er("ngSrc",t.product==null?null:t.product.image),Er("alt",t.product==null?null:t.product.image)}}function Py(e,n){e&1&&(gi(),C(0,"svg",9),_(1,"path",12)(2,"path",13),w())}function Fy(e,n){e&1&&(C(0,"div",10),y(1,"+"),w())}function jy(e,n){if(e&1&&(C(0,"div",11),y(1),w()),e&2){let t=D();x(),Oe(" ",t.product==null?null:t.product.discount,"% off ")}}var qr=class e{product;loading=!1;router=m(u1);cartService=m(Ve);console=console;navigateToDetail(){return f(this,null,function*(){yield this.router.navigate(["/detail",this.product?.id],{queryParams:{from:this.router.url}})})}addProduct(n){return f(this,null,function*(){this.loading=!0,yield this.cartService.increaseQuantity(!1,n),this.loading=!1})}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=J({type:e,selectors:[["app-card"]],inputs:{product:"product"},decls:17,vars:11,consts:[[1,"bg-white","shadow-md","rounded-lg","overflow-hidden","relative"],[3,"click"],[1,"relative","w-full","h-48","object-cover","bg-gray-100"],["height","384","width","384",1,"relative","w-full","h-48","object-cover",2,"position","relative",3,"ngSrc","alt"],[1,"p-4"],[1,"text-lg","font-medium","mb-2","line-clamp-2","min-h-[3.5rem]"],[1,"text-gray-400","text-xs","line-through",3,"ngClass"],[1,"text-gray-600"],[1,"absolute","top-2","right-2","bg-neutral-50","border","text-black","px-2","py-2","rounded","text-xs","font-bold",3,"click"],["aria-hidden","true","viewBox","0 0 100 101","fill","none","xmlns","http://www.w3.org/2000/svg",1,"w-4","h-4","text-gray-200","animate-spin","dark:text-shadow-stone-950","fill-stone-950"],[1,"w-4","h-4"],[1,"absolute","top-2","left-2","bg-stone-950","text-white","px-2","py-1","rounded","text-xs","font-medium"],["d","M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z","fill","currentColor"],["d","M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z","fill","currentFill"]],template:function(t,r){t&1&&(C(0,"div",0)(1,"div",1),O("click",function(){return r.navigateToDetail()}),C(2,"div",2),B(3,Oy,1,2,"img",3),w(),C(4,"div",4)(5,"h3",5),y(6),w(),C(7,"p",6),y(8),j1(9,"currency"),w(),C(10,"p",7),y(11),j1(12,"currency"),w()()(),C(13,"button",8),O("click",function(){return r.addProduct(r.product)}),B(14,Py,3,0,":svg:svg",9)(15,Fy,2,0,"div",10),w(),B(16,jy,2,1,"div",11),w()),t&2&&(x(3),k(r.product!=null&&r.product.image?3:-1),x(3),X((r.product==null?null:r.product.name)||"Sin titulo"),x(),q("ngClass",(r.product==null?null:r.product.discount)===0?"text-white":""),x(),X(U1(9,7,(r.product==null?null:r.product.price)||0)),x(3),X(U1(12,9,((r.product==null?null:r.product.price)||0)-((r.product==null?null:r.product.price)||0)*((r.product==null?null:r.product.discount)||0)/100)),x(3),k(r.loading?14:15),x(2),k(r.product!=null&&r.product.discount?16:-1))},dependencies:[Hi,Et,It],encapsulation:2})};var pe=class e{title;subtitle;disabled=!1;action=()=>{};router=m(u1);activatedRoute=m(h1);static \u0275fac=function(t){return new(t||e)};static \u0275cmp=J({type:e,selectors:[["app-next-button"]],inputs:{title:"title",subtitle:"subtitle",disabled:"disabled",action:"action"},decls:5,vars:3,consts:[[1,"absolute","z-100","rounded-lg","overflow-hidden","sticky","py-2","bottom-4","left-4","w-full","flex","flex-col","items-center","align-center","bg-stone","text-white",2,"width","calc(100% - 2rem)",3,"click","ngClass"],[1,"text-gray-400","text-xs"]],template:function(t,r){t&1&&(C(0,"div",0),O("click",function(){return r.action()}),C(1,"span",1),y(2),w(),C(3,"span"),y(4),w()()),t&2&&(q("ngClass",r.disabled?"bg-zinc-600":"bg-black"),x(2),X(r.subtitle),x(2),X(r.title))},dependencies:[It],encapsulation:2})};var ct=class e{httpClient=m(ue);constructor(){}getProductById(n){return this.httpClient.get(`${$1}/api/products/${n}`)}getProducts(n){return this.httpClient.get(`${$1}/api/products?q=${n}`)}getProductsByCategoryVariation(n){return this.httpClient.get(`${$1}/api/products/by-category/variation?productId=${n}`)}static \u0275fac=function(t){return new(t||e)};static \u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})};var Zr=class e{httpClient=m(ue);constructor(){}getCategories(n){return this.httpClient.get(`${$1}/api/categories`,{params:z({},n?{category:n}:{})})}static \u0275fac=function(t){return new(t||e)};static \u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})};var Wy=()=>[0,1],Gy=()=>[0,1,2,3],qy=(e,n)=>n.name,Zy=(e,n)=>n.id;function Yy(e,n){if(e&1){let t=R1();C(0,"h3",7),O("click",function(){a1(t);let s=D().$implicit,o=D(2);return l1(o.navigateToCategory(s))}),y(1,"Mostrar m\xE1s"),w()}}function Ky(e,n){if(e&1){let t=R1();C(0,"h3",7),O("click",function(){a1(t);let s=D(3);return l1(s.navigateToCatalog())}),y(1,"Volver al cat\xE1logo"),w()}}function Qy(e,n){if(e&1&&_(0,"app-card",6),e&2){let t=n.$implicit;q("product",t)}}function Jy(e,n){if(e&1&&(C(0,"div")(1,"div",2)(2,"h1",3),y(3),w(),B(4,Yy,2,0,"h3",4)(5,Ky,2,0,"h3",4),w(),C(6,"div",5),k1(7,Qy,1,1,"app-card",6,Zy),w()()),e&2){let t=n.$implicit,r=D(2);x(3),X(t.name),x(),k(r.isOnCategoryRoute()?5:4),x(3),N1(t.products)}}function Xy(e,n){if(e&1&&k1(0,Jy,9,2,"div",null,qy),e&2){let t=D();N1(t.categories)}}function ex(e,n){e&1&&_(0,"div",10)}function tx(e,n){e&1&&(C(0,"div")(1,"div",2),_(2,"div",8)(3,"div",9),w(),C(4,"div",5),k1(5,ex,1,0,"div",10,Ce),w()()),e&2&&(x(5),N1(Pe(0,Gy)))}function nx(e,n){e&1&&k1(0,tx,7,1,"div",null,Ce),e&2&&N1(Pe(0,Wy))}var Yr=class e{categories=[];router=m(u1);route=m(h1);productService=m(ct);categoryService=m(Zr);constructor(){}ngOnInit(){return f(this,null,function*(){let n=this.route.snapshot.paramMap.get("categoryId");this.categories=yield f1(this.categoryService.getCategories(n||void 0)),this.route.queryParamMap.subscribe({next:t=>f(this,null,function*(){let r=this.route.snapshot.queryParamMap.get("q");if(!r){this.route.snapshot.url.length===0&&(this.categories=yield f1(this.categoryService.getCategories()));return}this.categories=[];let s=yield f1(this.productService.getProducts(r));this.categories=[{id:"abc1234",name:"Tu busqueda",url:"search",products:s}]})})})}navigateToCart(){return f(this,null,function*(){yield this.router.navigate(["/cart"],{queryParams:{from:this.router.url}})})}navigateToCategory(n){return f(this,null,function*(){yield this.router.navigate(["/category",n.url],{queryParams:{from:this.router.url}})})}navigateToCatalog(){return f(this,null,function*(){yield this.router.navigate([""])})}isOnCategoryRoute(){let n=this.router.url,t=this.route.snapshot.queryParamMap.get("q");return/^\/category\/[^/]+$/.test(n)||!!t}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=J({type:e,selectors:[["app-catalog"]],decls:4,vars:2,consts:[[1,"relative","p-4","mb-20","flex","flex-col","gap-8"],["title","Ir al carrito","subtitle","Tu carrito esta listo!",1,"fixed","bottom-4","left-4","w-full",3,"action"],[1,"flex","flex-row","items-center","justify-between","mb-4"],[1,"text-lg","font-medium"],[1,"font-light","text-sm"],[1,"relative","grid","grid-cols-2","sm:grid-cols-2","gap-4"],[3,"product"],[1,"font-light","text-sm",3,"click"],[1,"h-6","w-32","bg-gray-200","rounded","animate-pulse"],[1,"h-4","w-20","bg-gray-200","rounded","animate-pulse"],[1,"h-[328px]","bg-gray-200","rounded","animate-pulse"]],template:function(t,r){t&1&&(C(0,"div",0),B(1,Xy,2,0)(2,nx,2,1),_(3,"app-next-button",1),w()),t&2&&(x(),k(r.categories!=null&&r.categories.length?1:2),x(2),q("action",r.navigateToCart))},dependencies:[qr,pe],encapsulation:2})};var hP=new R("Ng Glyph Config");var uP=new R("NgGlyphsToken");function rx(e){return e==null?"":/^\d+$/.test(e)?`${e}px`:e}var sx=new R("Ng Icon Pre Processor"),ox=new R("Ng Icon Post Processor");function ix(){return m(sx,{optional:!0})??(e=>e)}function cx(){return m(ox,{optional:!0})??(()=>{})}var ax=new R("Ng Icon Logger"),r4=class{log(n){console.log(n)}warn(n){console.warn(n)}error(n){console.error(n)}};function lx(){return m(ax,{optional:!0})??new r4}var hx=new R("Ng Icon Config");function ux(){return m(hx,{optional:!0})??{}}var dx=new R("Ng Icon Loader Token");var px=new R("Ng Icon Cache Token");function vx(){return m(dx,{optional:!0})}function gx(){return m(px,{optional:!0})}function at(e){return[{provide:s4,useFactory:(n=m(s4,{optional:!0,skipSelf:!0}))=>z(z({},n?.reduce((t,r)=>z(z({},t),r),{})),e),multi:!0}]}var s4=new R("Icons Token");function fx(){return m(s4,{optional:!0})??[]}function mx(e){return typeof e=="string"?Promise.resolve(e):fs(e)?e.toPromise():e}function wx(e){return e.replace(/([^a-zA-Z0-9])+(.)?/g,(n,t,r)=>r?r.toUpperCase():"").replace(/[^a-zA-Z\d]/g,"").replace(/^([A-Z])/,n=>n.toLowerCase())}var Cx=0,Xt=(()=>{class e{constructor(){this.config=ux(),this.icons=fx(),this.loader=vx(),this.cache=gx(),this.preProcessor=ix(),this.postProcessor=cx(),this.injector=m(X1),this.renderer=m(we),this.platform=m(tt),this.elementRef=m(T1),this.uniqueId=Cx++,this.logger=lx(),this.name=o1(),this.svg=o1(),this.size=o1(this.config.size,{transform:rx}),this.strokeWidth=o1(this.config.strokeWidth),this.color=o1(this.config.color),br(()=>this.updateIcon()),m(new K2("aria-hidden"),{optional:!0})||this.elementRef.nativeElement.setAttribute("aria-hidden","true")}ngOnDestroy(){this.svgElement=void 0}updateIcon(){return f(this,null,function*(){let t=this.name(),r=this.svg();if(r!==void 0){this.setSvg(r);return}if(t===void 0)return;let s=wx(t);for(let o of[...this.icons].reverse())if(o[s]){this.setSvg(o[s]);return}if(this.loader){let o=yield this.requestIconFromLoader(t);if(o!==null){this.setSvg(o);return}}this.logger.warn(`No icon named ${t} was found. You may need to import it using the withIcons function.`)})}setSvg(t){if(Ar(this.platform)){this.elementRef.nativeElement.innerHTML=t,this.elementRef.nativeElement.setAttribute("data-ng-icon-ssr","");return}if(this.elementRef.nativeElement.hasAttribute("data-ng-icon-ssr")&&(this.elementRef.nativeElement.removeAttribute("data-ng-icon-ssr"),this.svgElement=this.elementRef.nativeElement.querySelector("svg")??void 0,this.elementRef.nativeElement.innerHTML===t)||(this.svgElement&&this.renderer.removeChild(this.elementRef.nativeElement,this.svgElement),t===""))return;let r=this.renderer.createElement("template");t=this.replaceIds(t),this.renderer.setProperty(r,"innerHTML",this.preProcessor(t)),this.svgElement=r.content.firstElementChild,this.postProcessor(this.svgElement),this.renderer.appendChild(this.elementRef.nativeElement,this.svgElement)}replaceIds(t){if(!t.includes("ID_PLACEHOLDER_"))return t;let r=/ID_PLACEHOLDER_(\d+)/g,s=new Map,o=new Set(t.match(r));if(o===null)return t;for(let i of o){let c=i.replace("ID_PLACEHOLDER_",""),a=`ng-icon-${this.uniqueId}-${s.size}`;s.set(c,a),t=t.replace(new RegExp(i,"g"),a)}return t}requestIconFromLoader(t){return new Promise(r=>{ee(this.injector,()=>f(this,null,function*(){if(this.cache){let i=this.cache.get(t);if(typeof i=="string"){r(i);return}if(i instanceof Promise){let c=yield i;r(c);return}}let s=mx(this.loader(t));this.cache?.set(t,s);let o=yield s;this.cache?.set(t,o),r(o)}))})}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=J({type:e,selectors:[["ng-icon"]],hostAttrs:["role","img"],hostVars:6,hostBindings:function(r,s){r&2&&Fs("--ng-icon__stroke-width",s.strokeWidth())("--ng-icon__size",s.size())("--ng-icon__color",s.color())},inputs:{name:[1,"name"],svg:[1,"svg"],size:[1,"size"],strokeWidth:[1,"strokeWidth"],color:[1,"color"]},decls:0,vars:0,template:function(r,s){},styles:["[_nghost-%COMP%]{display:inline-block;width:var(--ng-icon__size, 1em);height:var(--ng-icon__size, 1em);line-height:initial;vertical-align:initial;overflow:hidden}[_nghost-%COMP%]     svg{width:inherit;height:inherit;vertical-align:inherit}@layer ng-icon{[_nghost-%COMP%]{color:var(--ng-icon__color, currentColor)}}"],changeDetection:0})}}return e})();var t6='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M18 13h-5v5c0 .55-.45 1-1 1s-1-.45-1-1v-5H6c-.55 0-1-.45-1-1s.45-1 1-1h5V6c0-.55.45-1 1-1s1 .45 1 1v5h5c.55 0 1 .45 1 1s-.45 1-1 1z"></path></svg>';var m5='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"></path></svg>';var n6='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V9c0-1.1-.9-2-2-2H8c-1.1 0-2 .9-2 2v10zM18 4h-2.5l-.71-.71c-.18-.18-.44-.29-.7-.29H9.91c-.26 0-.52.11-.7.29L8.5 4H6c-.55 0-1 .45-1 1s.45 1 1 1h12c.55 0 1-.45 1-1s-.45-1-1-1z"></path></svg>';var r6='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M15.88 9.29L12 13.17L8.12 9.29a.996.996 0 1 0-1.41 1.41l4.59 4.59c.39.39 1.02.39 1.41 0l4.59-4.59a.996.996 0 0 0 0-1.41c-.39-.38-1.03-.39-1.42 0z"></path></svg>';var s6='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2c-4.2 0-8 3.22-8 8.2c0 3.18 2.45 6.92 7.34 11.23c.38.33.95.33 1.33 0C17.55 17.12 20 13.38 20 10.2C20 5.22 16.2 2 12 2zm0 10c-1.1 0-2-.9-2-2s.9-2 2-2s2 .9 2 2s-.9 2-2 2z"></path></svg>';var o6='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M10.3 7.7a.984.984 0 0 0 0 1.4l1.9 1.9H3c-.55 0-1 .45-1 1s.45 1 1 1h9.2l-1.9 1.9a.984.984 0 0 0 0 1.4c.39.39 1.01.39 1.4 0l3.59-3.59a.996.996 0 0 0 0-1.41L11.7 7.7a.984.984 0 0 0-1.4 0zM20 19h-7c-.55 0-1 .45-1 1s.45 1 1 1h7c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-7c-.55 0-1 .45-1 1s.45 1 1 1h7v14z"></path></svg>';var i6='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M19.44 9.03L17.31 6.9l-1.6-1.6c-.19-.19-.45-.3-.71-.3h-3c-.55 0-1 .45-1 1s.45 1 1 1h2.59l2 2H5c-2.8 0-5 2.2-5 5s2.2 5 5 5c2.46 0 4.45-1.69 4.9-4h.82c.53 0 1.04-.21 1.41-.59l2.18-2.18c-.2.54-.31 1.14-.31 1.77c0 2.8 2.2 5 5 5s5-2.2 5-5c0-2.65-1.97-4.77-4.56-4.97zM5 15h2.82C7.4 16.15 6.28 17 5 17c-1.63 0-3-1.37-3-3s1.37-3 3-3c1.28 0 2.4.85 2.82 2H5c-.55 0-1 .45-1 1s.45 1 1 1zm14 2c-1.66 0-3-1.34-3-3s1.34-3 3-3s3 1.34 3 3s-1.34 3-3 3z"></path></svg>';var c6='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M20 11H4c-.55 0-1 .45-1 1s.45 1 1 1h16c.55 0 1-.45 1-1s-.45-1-1-1zM4 18h10c.55 0 1-.45 1-1s-.45-1-1-1H4c-.55 0-1 .45-1 1s.45 1 1 1zM20 6H4c-.55 0-1 .45-1 1v.01c0 .55.45 1 1 1h16c.55 0 1-.45 1-1V7c0-.55-.45-1-1-1z"></path></svg>';var a6='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4s-4 1.79-4 4s1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v1c0 .55.45 1 1 1h14c.55 0 1-.45 1-1v-1c0-2.66-5.33-4-8-4z"></path></svg>';var l6='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M15.5 14h-.79l-.28-.27a6.5 6.5 0 0 0 1.48-5.34c-.47-2.78-2.79-5-5.59-5.34a6.505 6.505 0 0 0-7.27 7.27c.34 2.8 2.56 5.12 5.34 5.59a6.5 6.5 0 0 0 5.34-1.48l.27.28v.79l4.25 4.25c.41.41 1.08.41 1.49 0c.41-.41.41-1.08 0-1.49L15.5 14zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5S14 7.01 14 9.5S11.99 14 9.5 14z"></path></svg>';var h6='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2s-.9-2-2-2zM1 3c0 .55.45 1 1 1h1l3.6 7.59l-1.35 2.44C4.52 15.37 5.48 17 7 17h11c.55 0 1-.45 1-1s-.45-1-1-1H7l1.1-2h7.45c.75 0 1.41-.41 1.75-1.03l3.58-6.49A.996.996 0 0 0 20.01 4H5.21l-.67-1.43a.993.993 0 0 0-.9-.57H2c-.55 0-1 .45-1 1zm16 15c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2s2-.9 2-2s-.9-2-2-2z"></path></svg>';function Mx(e,n){if(e&1&&_(0,"img",2),e&2){let t=D();q("src",t.product==null?null:t.product.image,Ci)("alt",t.product==null?null:t.product.name)}}function zx(e,n){e&1&&_(0,"div",3)}function yx(e,n){if(e&1&&(C(0,"span",7),y(1),j1(2,"currency"),w()),e&2){let t=D();x(),X(U1(2,1,t.product==null?null:t.product.original_price))}}function xx(e,n){if(e&1){let t=R1();C(0,"button",14),O("click",function(){a1(t);let s=D();return l1(s.removeProduct(s.product))}),_(1,"ng-icon",15),w()}if(e&2){let t=D();q("disabled",(t.product==null?null:t.product.quantity)!==1)}}function _x(e,n){if(e&1){let t=R1();C(0,"button",13),O("click",function(){a1(t);let s=D();return l1(s.decreaseQuantity(s.product))}),y(1," - "),w()}if(e&2){let t=D();q("disabled",(t.product==null?null:t.product.quantity)===1)("ngClass",(t.product==null?null:t.product.quantity)===0?"bg-gray-200":"bg-white-500")}}var w5=class e{product;removeProductEvent=new i1;cartService=m(Ve);increaseQuantity(n){this.cartService.increaseQuantity(!0,n)}decreaseQuantity(n){this.cartService.decreaseQuantity(!0,n)}removeProduct(n){this.cartService.removeProduct(n),this.removeProductEvent.emit(n)}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=J({type:e,selectors:[["app-card-row"]],inputs:{product:"product"},outputs:{removeProductEvent:"removeProductEvent"},features:[z1([at({matDeleteRound:n6})])],decls:19,vars:10,consts:[[1,"flex","w-full","items-center","justify-between"],[1,"flex","items-center"],[1,"w-20","h-20","object-cover","rounded-md","mr-4",3,"src","alt"],[1,"w-20","h-20","bg-gray-200","rounded-md","mr-4","animate-pulse"],[1,"max-w-36"],[1,"text-xs","font-semibold","line-clamp-2"],[1,"text-right"],[1,"text-xs","line-through","text-gray-400","block"],[1,"text-sm","font-semibold","text-gray-800"],[1,"flex","flex-row","gap-2","pt-2"],[1,"bg-white-500","border","text-black","w-7","rounded","text-xs","font-bold",3,"disabled"],[1,"bg-white-500","border","text-black","px-2","py-1","w-7","rounded","text-xs","font-bold",3,"disabled","ngClass"],[1,"w-8","text-center"],[1,"bg-white-500","border","text-black","px-2","py-1","w-7","rounded","text-xs","font-bold",3,"click","disabled","ngClass"],[1,"bg-white-500","border","text-black","w-7","rounded","text-xs","font-bold",3,"click","disabled"],["size","16","name","matDeleteRound"]],template:function(t,r){t&1&&(C(0,"div",0)(1,"div",1),B(2,Mx,1,2,"img",2)(3,zx,1,0,"div",3),C(4,"div",4)(5,"h3",5),y(6),w()()(),C(7,"div",6),B(8,yx,3,3,"span",7),C(9,"span",8),y(10),j1(11,"currency"),w(),C(12,"div",9),B(13,xx,2,1,"button",10)(14,_x,2,2,"button",11),C(15,"div",12),y(16),w(),C(17,"button",13),O("click",function(){return r.increaseQuantity(r.product)}),y(18," + "),w()()()()),t&2&&(x(2),k(r.product!=null&&r.product.image?2:3),x(4),X(r.product==null?null:r.product.name),x(2),k((r.product==null?null:r.product.original_price)!==(r.product==null?null:r.product.price)?8:-1),x(2),X(U1(11,8,r.product==null?null:r.product.price)),x(3),k((r.product==null?null:r.product.quantity)===1?13:14),x(3),X(r.product==null?null:r.product.quantity),x(),q("disabled",(r.product==null?null:r.product.quantity)===99)("ngClass",(r.product==null?null:r.product.quantity)===99?"bg-gray-200":"bg-white-500"))},dependencies:[Et,It,Xt],encapsulation:2})};var Ae=class e{activatedRoute=m(h1);router=m(u1);navigateToFrom(){return f(this,null,function*(){let n=this.activatedRoute.snapshot.queryParamMap.get("from")||"/";yield this.router.navigateByUrl(n)})}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=J({type:e,selectors:[["app-back-button"]],features:[z1([at({matCloseRound:m5})])],decls:2,vars:0,consts:[[1,"absolute","h-9","w-9","z-50","top-4","right-4","bg-white","hover:bg-gray-300","rounded-full","p-2","shadow-md",3,"click"],["name","matCloseRound"]],template:function(t,r){t&1&&(C(0,"button",0),O("click",function(){return r.navigateToFrom()}),_(1,"ng-icon",1),w())},dependencies:[Xt],encapsulation:2})};var Rx=()=>[0,1,2];function Sx(e,n){e&1&&_(0,"div",7)}function Ix(e,n){e&1&&k1(0,Sx,1,0,"div",7,Ce),e&2&&N1(Pe(0,Rx))}function Ex(e,n){if(e&1){let t=R1();C(0,"app-card-row",9),O("removeProductEvent",function(){let s=a1(t).$implicit,o=D(2);return l1(o.removeProduct(s))}),w()}if(e&2){let t=n.$implicit;q("product",t)}}function bx(e,n){if(e&1&&k1(0,Ex,1,1,"app-card-row",8,Ce),e&2){let t=D();N1(t.products)}}function Dx(e,n){e&1&&(C(0,"div",4),_(1,"div",10),w())}function Vx(e,n){if(e&1&&_(0,"app-next-button",5),e&2){let t=D();q("action",t.navigateToFrom)}}function Ax(e,n){if(e&1&&_(0,"app-next-button",6),e&2){let t=D();q("action",t.navigateToCheckout)}}var C5=class e{cartService=m(Ve);router=m(u1);activatedRoute=m(h1);products;loadingProducts=!0;constructor(){this.products=[]}ngOnInit(){return f(this,null,function*(){this.loadingProducts=!0;let n=yield this.cartService.getCart();this.products=n.products.map(t=>({id:t.product_id,name:t.name,image:t.image,price:t.price,original_price:t.original_price,discount:t.discount,quantity:t.quantity,description:""})),this.loadingProducts=!1})}navigateToFrom(){return f(this,null,function*(){let n=this.activatedRoute.snapshot.queryParamMap.get("from")||"/";yield this.router.navigate([n])})}navigateToCheckout(){return f(this,null,function*(){yield this.router.navigate(["/checkout"],{queryParams:{from:this.router.url}})})}removeProduct(n){return f(this,null,function*(){n&&(this.products=this.products.filter(t=>t.id!==n.id))})}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=J({type:e,selectors:[["app-cart"]],decls:12,vars:2,consts:[[1,"relative","max-w-lg","mx-auto","bg-white","rounded-lg","p-6","relative"],[1,"text-xl","font-bold","mb-2"],[1,"text-me","text-gray-500","mb-4"],[1,"flex","flex-col","gap-4","py-4"],[1,"fixed","bottom-4","left-4","w-full"],["title","Ir al catalogo","subtitle","Tu carrito esta vacio!",1,"fixed","bottom-4","left-4","w-full",3,"action"],["title","Ir al checkout","subtitle","Tu carrito esta listo!",1,"fixed","bottom-4","left-4","w-full",3,"action"],[1,"h-20","bg-gray-200","rounded","animate-pulse"],[3,"product"],[3,"removeProductEvent","product"],[1,"h-12","bg-gray-200","rounded","animate-pulse"]],template:function(t,r){t&1&&(C(0,"div",0)(1,"h1",1),y(2,"Tu pedido"),w(),C(3,"h2",2),y(4,"Est\xE1s a un paso de disfrutar tu pedido"),w(),C(5,"div",3),B(6,Ix,2,1)(7,bx,2,0),w(),_(8,"app-back-button"),B(9,Dx,2,0,"div",4)(10,Vx,1,1,"app-next-button",5)(11,Ax,1,1,"app-next-button",6),w()),t&2&&(x(6),k(r.loadingProducts?6:7),x(3),k(r.loadingProducts?9:r.products.length===0?10:11))},dependencies:[w5,Ae,pe],encapsulation:2})};var Lx=()=>[0,1,2,3];function Hx(e,n){e&1&&_(0,"div",3)}function Tx(e,n){e&1&&(_(0,"div",1),C(1,"div",2),k1(2,Hx,1,0,"div",3,Ce),w()),e&2&&(x(2),N1(Pe(0,Lx)))}function kx(e,n){if(e&1&&_(0,"app-card",5),e&2){let t=n.$implicit;q("product",t)}}function Nx(e,n){if(e&1&&(C(0,"h2",4),y(1),w(),C(2,"div",2),k1(3,kx,1,1,"app-card",5,Ce),w()),e&2){let t=D();x(),X(t.title),x(2),N1(t.products)}}var M5=class e{products;router=m(u1);route=m(h1);productService=m(ct);ngOnInit(){return f(this,null,function*(){let n=this.route?.snapshot.paramMap?.get("id");this.products=yield f1(this.productService.getProductsByCategoryVariation(n))})}title;category;static \u0275fac=function(t){return new(t||e)};static \u0275cmp=J({type:e,selectors:[["app-recommendation"]],inputs:{title:"title",category:"category"},decls:3,vars:1,consts:[[1,"p-4"],[1,"h-6","w-32","bg-gray-200","rounded","mb-4","animate-pulse"],[1,"relative","mb-20","grid","grid-cols-2","sm:grid-cols-2","gap-4"],[1,"h-[328px]","bg-gray-200","rounded","animate-pulse"],[1,"text-lg","font-medium","mb-4"],[3,"product"]],template:function(t,r){t&1&&(C(0,"div",0),B(1,Tx,4,1)(2,Nx,5,1),w()),t&2&&(x(),k(r.products===void 0?1:r.products.length>0?2:-1))},dependencies:[qr],encapsulation:2})};function Bx(e,n){e&1&&(_(0,"div",4),C(1,"div",5),_(2,"div",6)(3,"div",7)(4,"div",8)(5,"div",9),w())}function Ox(e,n){if(e&1&&_(0,"img",10),e&2){let t=D(2);Er("ngSrc",t.product==null?null:t.product.image)}}function Px(e,n){e&1&&_(0,"div",11)}function Fx(e,n){if(e&1&&(B(0,Ox,1,1,"img",10)(1,Px,1,0,"div",11),C(2,"div",5)(3,"h1",12),y(4),w(),C(5,"p",13),y(6),w(),C(7,"div",14)(8,"span",15),y(9),j1(10,"currency"),w(),C(11,"span",16),y(12),j1(13,"currency"),w()()()),e&2){let t=D();k(t.product!=null&&t.product.image?0:1),x(4),X(t.product==null?null:t.product.name),x(2),X(t.product==null?null:t.product.description),x(3),X(U1(10,5,(t.product==null?null:t.product.price)||0)),x(3),X(U1(13,7,((t.product==null?null:t.product.price)||0)-((t.product==null?null:t.product.price)||0)*((t.product==null?null:t.product.discount)||0)/100))}}var z5=class e{product;router=m(u1);route=m(h1);productService=m(ct);constructor(){}ngOnInit(){return f(this,null,function*(){let n=this.route?.snapshot.paramMap?.get("id");this.product=yield f1(this.productService.getProductById(n))})}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=J({type:e,selectors:[["app-detail"]],decls:7,vars:2,consts:[[1,"relative"],[1,"max-w-md","mx-auto","bg-white","rounded-lg","overflow-hidden"],["title","Art\xEDculos similares",3,"category"],["title","Agregar al carrito","subtitle","Ya casi es tuyo!",1,"fixed","bottom-4","left-4","w-full"],[1,"w-full","h-[350px]","bg-gray-200","animate-pulse"],[1,"p-4"],[1,"h-7","w-2/3","bg-gray-200","rounded","mb-4","animate-pulse"],[1,"h-4","w-full","bg-gray-100","rounded","mb-4","animate-pulse"],[1,"h-6","w-1/3","bg-gray-200","rounded","mb-2","animate-pulse"],[1,"h-8","w-1/2","bg-gray-300","rounded","animate-pulse"],["alt","Detalle","fill","",1,"w-full","object-cover",2,"position","relative","height","350px",3,"ngSrc"],[1,"w-full","h-[350px]","bg-gray-100"],[1,"text-2xl","font-bold","mb-2"],[1,"text-gray-500","text-sm","mb-4"],[1,"flex","flex-col","justify-between"],[1,"text-sm","line-through","text-gray-400"],[1,"text-lg","font-semibold","text-gray-800"]],template:function(t,r){t&1&&(C(0,"div",0),_(1,"app-back-button"),C(2,"div",1),B(3,Bx,6,0)(4,Fx,14,9),w(),_(5,"app-recommendation",2)(6,"app-next-button",3),w()),t&2&&(x(3),k(r.product===void 0?3:4),x(2),q("category",r.product==null?null:r.product.category_id))},dependencies:[Hi,Et,Ae,pe,M5],encapsulation:2})};var lt=class e{httpClient=m(ue);constructor(){}getAddresses(n){return this.httpClient.get(`${$1}/api/addresses/user/${n}`)}postAddress(n){return this.httpClient.post(`${$1}/api/addresses`,n)}selectAddress(n,t){return this.httpClient.post(`${$1}/api/addresses/${n}/select`,{user_id:t})}getSelectedAddress(n){return this.httpClient.get(`${$1}/api/addresses/user/${n}/selected`)}static \u0275fac=function(t){return new(t||e)};static \u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})};var jx=()=>[0,1,2,3,4],Ux=(e,n)=>n.id;function $x(e,n){e&1&&_(0,"div",6)}function Wx(e,n){e&1&&k1(0,$x,1,0,"div",6,Ce),e&2&&N1(Pe(0,jx))}function Gx(e,n){if(e&1){let t=R1();C(0,"div",8),O("click",function(){let s=a1(t).$implicit,o=D(2);return l1(o.setSelectedAddress(s))}),C(1,"h2",9),y(2),w(),C(3,"p",10),y(4),w(),_(5,"p",11),w()}if(e&2){let t=n.$implicit;Ir("selected",t.selected),q("ngClass",t.selected?"border-stone-900":"border-stone-400"),x(2),X(t.address),x(2),X(t.detail)}}function qx(e,n){if(e&1&&k1(0,Gx,6,5,"div",7,Ux),e&2){let t=D();N1(t.addresses)}}var y5=class e{addressService=m(lt);activatedRoute=m(h1);router=m(u1);selectedAddress;addresses=[];loadingAddresses=!0;setSelectedAddress(n){this.addressService.selectAddress(n.id,n.user_id).subscribe({next:t=>{this.addresses=this.addresses.map(r=>L(z({},r),{selected:r.id===t.id}))}})}constructor(){}ngOnInit(){return f(this,null,function*(){this.loadingAddresses=!0;let n=localStorage.getItem("userId");this.addresses=n?yield f1(this.addressService.getAddresses(n)):[],this.loadingAddresses=!1})}navigateToAddAddress(){return f(this,null,function*(){yield this.router.navigate(["/profile/address/add"],{queryParams:{from:this.router.url}})})}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=J({type:e,selectors:[["app-address"]],features:[z1([at({matAddRound:t6})])],decls:11,vars:2,consts:[[1,"relative","mb-14"],[1,"p-4"],[1,"text-xl","font-bold","mb-2"],[1,"text-me","text-gray-500","mb-4"],[1,"grid","grid-cols-1","sm:grid-cols-2","gap-4","pt-4"],["title","Agregar Direcci\xF3n","subtitle","Enviamos a donde vos quieras",1,"fixed","bottom-4","left-4","w-full",3,"action"],[1,"h-[110px]","bg-gray-200","rounded","animate-pulse"],[1,"border","border-stone-400","p-4","rounded","cursor-pointer",3,"selected","ngClass"],[1,"border","border-stone-400","p-4","rounded","cursor-pointer",3,"click","ngClass"],[1,"text-lg","font-medium","line-clamp-2","w-full"],[1,"text-sm","text-gray-600","line-clamp-2","w-full"],[1,"text-sm","text-gray-600"]],template:function(t,r){t&1&&(C(0,"div",0),_(1,"app-back-button"),C(2,"div",1)(3,"h1",2),y(4,"Mis Direcciones"),w(),C(5,"h2",3),y(6,"Configura donde recibir tu pedido"),w(),C(7,"div",4),B(8,Wx,2,1)(9,qx,2,0),w()(),_(10,"app-next-button",5),w()),t&2&&(x(8),k(r.loadingAddresses?8:9),x(2),q("action",r.navigateToAddAddress))},dependencies:[Ae,pe,It],encapsulation:2})};var x5=class e{httpClient=m(ue);constructor(){}postCheckout({cartId:n,addressId:t,userId:r}){return this.httpClient.post(`${$1}/api/checkout`,{cart_id:n,user_id:r,address_id:t})}static \u0275fac=function(t){return new(t||e)};static \u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})};function Zx(e,n){e&1&&_(0,"div",16)}function Yx(e,n){if(e&1&&(C(0,"div",17),y(1),w()),e&2){let t=D();x(),X(t.selectedAddress?t.selectedAddress==null?null:t.selectedAddress.address:"A\xFAn no tenes una direcci\xF3n cargada")}}function Kx(e,n){e&1&&_(0,"div",20)}function Qx(e,n){if(e&1&&(C(0,"div",21),y(1),w()),e&2){let t=D();x(),X((t.selectedAddress==null?null:t.selectedAddress.reference)||"Sin instrucciones extra")}}function Jx(e,n){e&1&&(C(0,"span",22),y(1,"Agrega una direcci\xF3n para poder ver el precio de envio, de los productos y el total."),w())}function Xx(e,n){e&1&&(C(0,"div",4)(1,"div",25)(2,"h3",26),y(3,"Resumen"),w(),C(4,"div",27)(5,"span"),y(6,"Total en productos"),w(),_(7,"span",28),w(),C(8,"div",27)(9,"span"),y(10,"Total en env\xEDo"),w(),_(11,"span",28),w()(),C(12,"div",25)(13,"h3",29),y(14,"Descuentos"),w(),C(15,"div",27)(16,"span"),y(17,"Productos"),w(),_(18,"span",28),w(),C(19,"div",27)(20,"span"),y(21,"Envio"),w(),_(22,"span",28),w()()())}function e_(e,n){if(e&1&&(C(0,"div",27)(1,"span"),y(2,"Productos"),w(),C(3,"span",11),y(4),j1(5,"currency"),w()()),e&2){let t=D(2);x(4),X(U1(5,1,((t.checkout==null||t.checkout.products==null?null:t.checkout.products.discount)||0)*-1))}}function t_(e,n){if(e&1&&(C(0,"div",27)(1,"span"),y(2,"Envio"),w(),C(3,"span",11),y(4),j1(5,"currency"),w()()),e&2){let t=D(2);x(4),X(U1(5,1,((t.checkout==null||t.checkout.ship==null?null:t.checkout.ship.discount)||0)*-1))}}function n_(e,n){e&1&&_(0,"span",31)}function r_(e,n){if(e&1&&(C(0,"span"),y(1),j1(2,"currency"),w()),e&2){let t=D(2);x(),X(U1(2,1,t.checkout==null?null:t.checkout.total))}}function s_(e,n){if(e&1&&(C(0,"div",4)(1,"div",25)(2,"h3",26),y(3,"Resumen"),w(),C(4,"div",27)(5,"span"),y(6,"Total en productos"),w(),C(7,"span",11),y(8),j1(9,"currency"),w()(),C(10,"div",27)(11,"span"),y(12,"Total en env\xEDo"),w(),C(13,"span",11),y(14),j1(15,"currency"),w()()(),C(16,"div",25)(17,"h3",29),y(18,"Descuentos"),w(),B(19,e_,6,3,"div",27)(20,t_,6,3,"div",27),w(),C(21,"div",30)(22,"span"),y(23,"Total"),w(),B(24,n_,1,0,"span",31)(25,r_,3,3,"span"),w()()),e&2){let t=D();x(8),X(U1(9,5,t.checkout==null||t.checkout.products==null?null:t.checkout.products.total)),x(6),X(U1(15,7,t.checkout==null||t.checkout.ship==null?null:t.checkout.ship.total)),x(5),k((t.checkout==null||t.checkout.products==null?null:t.checkout.products.discount)!=0?19:-1),x(),k((t.checkout==null||t.checkout.ship==null?null:t.checkout.ship.discount)!=0?20:-1),x(4),k(t.isLoading?24:25)}}function o_(e,n){e&1&&(C(0,"div",23),_(1,"div",32),w())}function i_(e,n){if(e&1&&_(0,"app-next-button",24),e&2){let t=D();q("disabled",t.selectedAddress==null||t.checkout==null)("action",t.navigateToMercadoPago(t.checkout==null?null:t.checkout.payment_link))}}var _5=class e{checkout;selectedAddress;isLoading=!0;checkoutService=m(x5);cartService=m(Ve);addressService=m(lt);route=m(h1);router=m(u1);constructor(){}ngOnInit(){return f(this,null,function*(){this.isLoading=!0;try{let{id:n}=yield this.cartService.getCart(),t=localStorage.getItem("userId")||"empty",r=yield f1(this.addressService.getSelectedAddress(t)),s=yield f1(this.checkoutService.postCheckout({cartId:n,addressId:r.id,userId:t}));this.selectedAddress=r,this.checkout=s}catch{this.selectedAddress=void 0,this.checkout=void 0}finally{this.isLoading=!1}})}navigateToMercadoPago(n){return!this.selectedAddress||!this.checkout?()=>{}:()=>{window.location.href=n||""}}navigateToProfileAddress(){return f(this,null,function*(){yield this.router.navigate(["/profile/address"],{queryParams:{from:this.router.url}})})}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=J({type:e,selectors:[["app-checkout"]],features:[z1([at({matLocationOnRound:s6,matMotorcycleRound:i6,matNotesRound:c6})])],decls:42,vars:7,consts:[[1,"relative","flex","flex-col","gap-4","max-w-lg","mx-auto","bg-white","rounded-lg","p-6","relative"],[1,"flex","flex-col"],[1,"text-xl","font-bold","mb-2"],[1,"text-me","text-gray-500","mb-4"],[1,"flex","flex-col","gap-4"],[1,"flex","flex-col","gap-2"],[1,"text-lg","font-semibold"],[1,"flex","flex-row","text-sm","justify-between","mb-1","items-center"],[1,"flex","flex-row","items-center","gap-2"],["size","20","name","matMotorcycleRound"],[1,"font-bold"],[1,"font-light"],[1,"flex","flex-row","gap-2","text-sm","justify-between","mb-1","items-center"],[1,"flex","flex-row","items-center","gap-2","flex-1","min-w-0"],["size","20","name","matLocationOnRound"],[1,"flex","flex-col","flex-1","min-w-0"],[1,"h-[20px]","w-40","bg-gray-200","rounded","animate-pulse"],[1,"font-light","line-clamp-1","w-full","truncate"],[1,"font-medium","whitespace-nowrap",3,"click"],["size","20","name","matNotesRound"],[1,"h-[20px]","w-32","bg-gray-200","rounded","animate-pulse"],[1,"font-light","line-clamp-1"],[1,"inline-flex","items-center","rounded-md","bg-red-50","px-2","py-1","text-xs","font-medium","text-red-700","ring-1","ring-red-600/10","ring-inset"],[1,"fixed","bottom-4","left-4","right-4","w-auto"],["title","Ir a Mercadopago","subtitle","Estas a punto de terminar!",1,"fixed","bottom-4","left-4","w-full",3,"disabled","action"],[1,""],[1,"text-lg","font-semibold","mb-2"],[1,"flex","text-sm","justify-between","mb-1"],[1,"h-4","w-16","bg-gray-200","rounded","animate-pulse","inline-block"],[1,"text-base","font-semibold","mb-2"],[1,"flex","justify-between","text-lg","font-bold"],[1,"h-6","w-20","bg-gray-200","rounded","animate-pulse"],[1,"h-13","bg-gray-200","rounded","animate-pulse"]],template:function(t,r){t&1&&(C(0,"div",0)(1,"div",1)(2,"h1",2),y(3,"Checkout"),w(),C(4,"h2",3),y(5,"Est\xE1s a un paso de disfrutar tu pedido"),w()(),C(6,"div",4)(7,"div",5)(8,"h3",6),y(9,"Datos de la entrega"),w(),C(10,"div",7)(11,"div",8),_(12,"ng-icon",9),C(13,"div",1)(14,"div",10),y(15,"Delivery"),w(),C(16,"div",11),y(17,"25-45 min"),w()()()(),C(18,"div",12)(19,"div",13),_(20,"ng-icon",14),C(21,"div",15)(22,"div",10),y(23,"Enviar a"),w(),B(24,Zx,1,0,"div",16)(25,Yx,2,1,"div",17),w()(),C(26,"div",18),O("click",function(){return r.navigateToProfileAddress()}),y(27),w()(),C(28,"div",12)(29,"div",8),_(30,"ng-icon",19),C(31,"div",1)(32,"div",10),y(33,"Instrucciones"),w(),B(34,Kx,1,0,"div",20)(35,Qx,2,1,"div",21),w()()()()(),B(36,Jx,2,0,"span",22)(37,Xx,23,0,"div",4)(38,s_,26,9,"div",4),_(39,"app-back-button"),B(40,o_,2,0,"div",23)(41,i_,1,2,"app-next-button",24),w()),t&2&&(x(24),k(r.isLoading?24:25),x(3),Oe(" ",r.selectedAddress?"Cambiar":"Agregar"," "),x(7),k(r.isLoading?34:35),x(2),k(!r.isLoading&&(!r.selectedAddress||!r.checkout)?36:-1),x(),k(r.isLoading?37:-1),x(),k(r.selectedAddress&&r.checkout&&!r.isLoading?38:-1),x(2),k(r.isLoading?40:41))},dependencies:[Ae,pe,Xt,Et],encapsulation:2})};var c_=["*"],R5=class{_ngZone;_pending=[];_listeners=[];_targetStream=new m1(void 0);_clearListeners(){for(let n of this._listeners)n.remove();this._listeners=[]}constructor(n){this._ngZone=n}getLazyEmitter(n){return this._targetStream.pipe(Q1(t=>{let r=new e1(s=>{if(!t){this._pending.push({observable:r,observer:s});return}let o=t.addListener(n,i=>{this._ngZone.run(()=>s.next(i))});if(!o){s.complete();return}return this._listeners.push(o),()=>o.remove()});return r}))}setTarget(n){let t=this._targetStream.value;n!==t&&(t&&(this._clearListeners(),this._pending=[]),this._targetStream.next(n),this._pending.forEach(r=>r.observable.subscribe(r.observer)),this._pending=[])}destroy(){this._clearListeners(),this._pending=[],this._targetStream.complete()}},Mo={center:{lat:37.421995,lng:-122.084092},zoom:17,mapTypeId:"roadmap"},u6="500px",d6="500px",o4=(()=>{class e{_elementRef=m(T1);_ngZone=m(C1);_eventManager=new R5(m(C1));_mapEl;_existingAuthFailureCallback;googleMap;_isBrowser;height=u6;width=d6;mapId;mapTypeId;set center(t){this._center=t}_center;set zoom(t){this._zoom=t}_zoom;set options(t){this._options=t||Mo}_options=Mo;mapInitialized=new i1;authFailure=new i1;boundsChanged=this._eventManager.getLazyEmitter("bounds_changed");centerChanged=this._eventManager.getLazyEmitter("center_changed");mapClick=this._eventManager.getLazyEmitter("click");mapDblclick=this._eventManager.getLazyEmitter("dblclick");mapDrag=this._eventManager.getLazyEmitter("drag");mapDragend=this._eventManager.getLazyEmitter("dragend");mapDragstart=this._eventManager.getLazyEmitter("dragstart");headingChanged=this._eventManager.getLazyEmitter("heading_changed");idle=this._eventManager.getLazyEmitter("idle");maptypeidChanged=this._eventManager.getLazyEmitter("maptypeid_changed");mapMousemove=this._eventManager.getLazyEmitter("mousemove");mapMouseout=this._eventManager.getLazyEmitter("mouseout");mapMouseover=this._eventManager.getLazyEmitter("mouseover");projectionChanged=this._eventManager.getLazyEmitter("projection_changed");mapRightclick=this._eventManager.getLazyEmitter("rightclick");tilesloaded=this._eventManager.getLazyEmitter("tilesloaded");tiltChanged=this._eventManager.getLazyEmitter("tilt_changed");zoomChanged=this._eventManager.getLazyEmitter("zoom_changed");constructor(){let t=m(tt);if(this._isBrowser=wl(t),this._isBrowser){let r=window;r.google,this._existingAuthFailureCallback=r.gm_authFailure,r.gm_authFailure=()=>{this._existingAuthFailureCallback&&this._existingAuthFailureCallback(),this.authFailure.emit()}}}ngOnChanges(t){(t.height||t.width)&&this._setSize();let r=this.googleMap;r&&(t.options&&r.setOptions(this._combineOptions()),t.center&&this._center&&r.setCenter(this._center),t.zoom&&this._zoom!=null&&r.setZoom(this._zoom),t.mapTypeId&&this.mapTypeId&&r.setMapTypeId(this.mapTypeId))}ngOnInit(){this._isBrowser&&(this._mapEl=this._elementRef.nativeElement.querySelector(".map-container"),this._setSize(),google.maps.Map?this._initialize(google.maps.Map):this._ngZone.runOutsideAngular(()=>{google.maps.importLibrary("maps").then(t=>this._initialize(t.Map))}))}_initialize(t){this._ngZone.runOutsideAngular(()=>{this.googleMap=new t(this._mapEl,this._combineOptions()),this._eventManager.setTarget(this.googleMap),this.mapInitialized.emit(this.googleMap)})}ngOnDestroy(){if(this.mapInitialized.complete(),this._eventManager.destroy(),this._isBrowser){let t=window;t.gm_authFailure=this._existingAuthFailureCallback}}fitBounds(t,r){this._assertInitialized(),this.googleMap.fitBounds(t,r)}panBy(t,r){this._assertInitialized(),this.googleMap.panBy(t,r)}panTo(t){this._assertInitialized(),this.googleMap.panTo(t)}panToBounds(t,r){this._assertInitialized(),this.googleMap.panToBounds(t,r)}getBounds(){return this._assertInitialized(),this.googleMap.getBounds()||null}getCenter(){return this._assertInitialized(),this.googleMap.getCenter()}getClickableIcons(){return this._assertInitialized(),this.googleMap.getClickableIcons()}getHeading(){return this._assertInitialized(),this.googleMap.getHeading()}getMapTypeId(){return this._assertInitialized(),this.googleMap.getMapTypeId()}getProjection(){return this._assertInitialized(),this.googleMap.getProjection()||null}getStreetView(){return this._assertInitialized(),this.googleMap.getStreetView()}getTilt(){return this._assertInitialized(),this.googleMap.getTilt()}getZoom(){return this._assertInitialized(),this.googleMap.getZoom()}get controls(){return this._assertInitialized(),this.googleMap.controls}get data(){return this._assertInitialized(),this.googleMap.data}get mapTypes(){return this._assertInitialized(),this.googleMap.mapTypes}get overlayMapTypes(){return this._assertInitialized(),this.googleMap.overlayMapTypes}_resolveMap(){return this.googleMap?Promise.resolve(this.googleMap):this.mapInitialized.pipe(xe(1)).toPromise()}_setSize(){if(this._mapEl){let t=this._mapEl.style;t.height=this.height===null?"":p6(this.height)||u6,t.width=this.width===null?"":p6(this.width)||d6}}_combineOptions(){let t=this._options||{};return L(z({},t),{center:this._center||t.center||Mo.center,zoom:this._zoom??t.zoom??Mo.zoom,mapTypeId:this.mapTypeId||t.mapTypeId||Mo.mapTypeId,mapId:this.mapId||t.mapId})}_assertInitialized(){this.googleMap}static \u0275fac=function(r){return new(r||e)};static \u0275cmp=J({type:e,selectors:[["google-map"]],inputs:{height:"height",width:"width",mapId:"mapId",mapTypeId:"mapTypeId",center:"center",zoom:"zoom",options:"options"},outputs:{mapInitialized:"mapInitialized",authFailure:"authFailure",boundsChanged:"boundsChanged",centerChanged:"centerChanged",mapClick:"mapClick",mapDblclick:"mapDblclick",mapDrag:"mapDrag",mapDragend:"mapDragend",mapDragstart:"mapDragstart",headingChanged:"headingChanged",idle:"idle",maptypeidChanged:"maptypeidChanged",mapMousemove:"mapMousemove",mapMouseout:"mapMouseout",mapMouseover:"mapMouseover",projectionChanged:"projectionChanged",mapRightclick:"mapRightclick",tilesloaded:"tilesloaded",tiltChanged:"tiltChanged",zoomChanged:"zoomChanged"},exportAs:["googleMap"],features:[te],ngContentSelectors:c_,decls:2,vars:0,consts:[[1,"map-container"]],template:function(r,s){r&1&&(rl(),_(0,"div",0),sl(1))},encapsulation:2,changeDetection:0})}return e})(),a_=/([A-Za-z%]+)$/;function p6(e){return e==null?"":a_.test(e)?e:`${e}px`}var l_=new R("MAP_MARKER"),h_={position:{lat:37.421995,lng:-122.084092}},v6=(()=>{class e{_googleMap=m(o4);_ngZone=m(C1);_eventManager=new R5(m(C1));set title(t){this._title=t}_title;set position(t){this._position=t}_position;set label(t){this._label=t}_label;set clickable(t){this._clickable=t}_clickable;set options(t){this._options=t}_options;set icon(t){this._icon=t}_icon;set visible(t){this._visible=t}_visible;animationChanged=this._eventManager.getLazyEmitter("animation_changed");mapClick=this._eventManager.getLazyEmitter("click");clickableChanged=this._eventManager.getLazyEmitter("clickable_changed");cursorChanged=this._eventManager.getLazyEmitter("cursor_changed");mapDblclick=this._eventManager.getLazyEmitter("dblclick");mapDrag=this._eventManager.getLazyEmitter("drag");mapDragend=this._eventManager.getLazyEmitter("dragend");draggableChanged=this._eventManager.getLazyEmitter("draggable_changed");mapDragstart=this._eventManager.getLazyEmitter("dragstart");flatChanged=this._eventManager.getLazyEmitter("flat_changed");iconChanged=this._eventManager.getLazyEmitter("icon_changed");mapMousedown=this._eventManager.getLazyEmitter("mousedown");mapMouseout=this._eventManager.getLazyEmitter("mouseout");mapMouseover=this._eventManager.getLazyEmitter("mouseover");mapMouseup=this._eventManager.getLazyEmitter("mouseup");positionChanged=this._eventManager.getLazyEmitter("position_changed");mapRightclick=this._eventManager.getLazyEmitter("rightclick");shapeChanged=this._eventManager.getLazyEmitter("shape_changed");titleChanged=this._eventManager.getLazyEmitter("title_changed");visibleChanged=this._eventManager.getLazyEmitter("visible_changed");zindexChanged=this._eventManager.getLazyEmitter("zindex_changed");markerInitialized=new i1;marker;constructor(){}ngOnInit(){this._googleMap._isBrowser&&(google.maps.Marker&&this._googleMap.googleMap?this._initialize(this._googleMap.googleMap,google.maps.Marker):this._ngZone.runOutsideAngular(()=>{Promise.all([this._googleMap._resolveMap(),google.maps.importLibrary("marker")]).then(([t,r])=>{this._initialize(t,r.Marker)})}))}_initialize(t,r){this._ngZone.runOutsideAngular(()=>{this.marker=new r(this._combineOptions()),this._assertInitialized(),this.marker.setMap(t),this._eventManager.setTarget(this.marker),this.markerInitialized.next(this.marker)})}ngOnChanges(t){let{marker:r,_title:s,_position:o,_label:i,_clickable:c,_icon:a,_visible:l}=this;r&&(t.options&&r.setOptions(this._combineOptions()),t.title&&s!==void 0&&r.setTitle(s),t.position&&o&&r.setPosition(o),t.label&&i!==void 0&&r.setLabel(i),t.clickable&&c!==void 0&&r.setClickable(c),t.icon&&a&&r.setIcon(a),t.visible&&l!==void 0&&r.setVisible(l))}ngOnDestroy(){this.markerInitialized.complete(),this._eventManager.destroy(),this.marker?.setMap(null)}getAnimation(){return this._assertInitialized(),this.marker.getAnimation()||null}getClickable(){return this._assertInitialized(),this.marker.getClickable()}getCursor(){return this._assertInitialized(),this.marker.getCursor()||null}getDraggable(){return this._assertInitialized(),!!this.marker.getDraggable()}getIcon(){return this._assertInitialized(),this.marker.getIcon()||null}getLabel(){return this._assertInitialized(),this.marker.getLabel()||null}getOpacity(){return this._assertInitialized(),this.marker.getOpacity()||null}getPosition(){return this._assertInitialized(),this.marker.getPosition()||null}getShape(){return this._assertInitialized(),this.marker.getShape()||null}getTitle(){return this._assertInitialized(),this.marker.getTitle()||null}getVisible(){return this._assertInitialized(),this.marker.getVisible()}getZIndex(){return this._assertInitialized(),this.marker.getZIndex()||null}getAnchor(){return this._assertInitialized(),this.marker}_resolveMarker(){return this.marker?Promise.resolve(this.marker):this.markerInitialized.pipe(xe(1)).toPromise()}_combineOptions(){let t=this._options||h_;return L(z({},t),{title:this._title||t.title,position:this._position||t.position,label:this._label||t.label,clickable:this._clickable??t.clickable,map:this._googleMap.googleMap,icon:this._icon||t.icon,visible:this._visible??t.visible})}_assertInitialized(){}static \u0275fac=function(r){return new(r||e)};static \u0275dir=M1({type:e,selectors:[["map-marker"]],inputs:{title:"title",position:"position",label:"label",clickable:"clickable",options:"options",icon:"icon",visible:"visible"},outputs:{animationChanged:"animationChanged",mapClick:"mapClick",clickableChanged:"clickableChanged",cursorChanged:"cursorChanged",mapDblclick:"mapDblclick",mapDrag:"mapDrag",mapDragend:"mapDragend",draggableChanged:"draggableChanged",mapDragstart:"mapDragstart",flatChanged:"flatChanged",iconChanged:"iconChanged",mapMousedown:"mapMousedown",mapMouseout:"mapMouseout",mapMouseover:"mapMouseover",mapMouseup:"mapMouseup",positionChanged:"positionChanged",mapRightclick:"mapRightclick",shapeChanged:"shapeChanged",titleChanged:"titleChanged",visibleChanged:"visibleChanged",zindexChanged:"zindexChanged",markerInitialized:"markerInitialized"},exportAs:["mapMarker"],features:[z1([{provide:l_,useExisting:e}]),te]})}return e})();var g6=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=Ie({type:e});static \u0275inj=Se({})}return e})();var x6=(()=>{class e{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,r){this._renderer=t,this._elementRef=r}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(r){return new(r||e)(T(we),T(T1))};static \u0275dir=M1({type:e})}return e})(),l4=(()=>{class e extends x6{static \u0275fac=(()=>{let t;return function(s){return(t||(t=Rt(e)))(s||e)}})();static \u0275dir=M1({type:e,features:[Ee]})}return e})(),tn=new R("");var u_={provide:tn,useExisting:Xe(()=>nn),multi:!0};function d_(){let e=De()?De().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}var p_=new R(""),nn=(()=>{class e extends x6{_compositionMode;_composing=!1;constructor(t,r,s){super(t,r),this._compositionMode=s,this._compositionMode==null&&(this._compositionMode=!d_())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(r){return new(r||e)(T(we),T(T1),T(p_,8))};static \u0275dir=M1({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,s){r&1&&O("input",function(i){return s._handleInput(i.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(i){return s._compositionEnd(i.target.value)})},standalone:!1,features:[z1([u_]),Ee]})}return e})();var Jr=new R(""),N5=new R("");function _6(e){return e!=null}function R6(e){return qt(e)?w1(e):e}function S6(e){let n={};return e.forEach(t=>{n=t!=null?z(z({},n),t):n}),Object.keys(n).length===0?null:n}function I6(e,n){return n.map(t=>t(e))}function v_(e){return!e.validate}function E6(e){return e.map(n=>v_(n)?n:t=>n.validate(t))}function g_(e){if(!e)return null;let n=e.filter(_6);return n.length==0?null:function(t){return S6(I6(t,n))}}function b6(e){return e!=null?g_(E6(e)):null}function f_(e){if(!e)return null;let n=e.filter(_6);return n.length==0?null:function(t){let r=I6(t,n).map(R6);return Qc(r).pipe(W(S6))}}function D6(e){return e!=null?f_(E6(e)):null}function f6(e,n){return e===null?[n]:Array.isArray(e)?[...e,n]:[e,n]}function V6(e){return e._rawValidators}function A6(e){return e._rawAsyncValidators}function i4(e){return e?Array.isArray(e)?e:[e]:[]}function I5(e,n){return Array.isArray(e)?e.includes(n):e===n}function m6(e,n){let t=i4(n);return i4(e).forEach(s=>{I5(t,s)||t.push(s)}),t}function w6(e,n){return i4(n).filter(t=>!I5(e,t))}var E5=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=b6(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=D6(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n=void 0){this.control&&this.control.reset(n)}hasError(n,t){return this.control?this.control.hasError(n,t):!1}getError(n,t){return this.control?this.control.getError(n,t):null}},Un=class extends E5{name;get formDirective(){return null}get path(){return null}},At=class extends E5{_parent=null;name=null;valueAccessor=null},b5=class{_cd;constructor(n){this._cd=n}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},m_={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Sj=L(z({},m_),{"[class.ng-submitted]":"isSubmitted"}),rn=(()=>{class e extends b5{constructor(t){super(t)}static \u0275fac=function(r){return new(r||e)(T(At,2))};static \u0275dir=M1({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,s){r&2&&Ir("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},standalone:!1,features:[Ee]})}return e})(),L6=(()=>{class e extends b5{constructor(t){super(t)}static \u0275fac=function(r){return new(r||e)(T(Un,10))};static \u0275dir=M1({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,s){r&2&&Ir("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)("ng-submitted",s.isSubmitted)},standalone:!1,features:[Ee]})}return e})();var zo="VALID",S5="INVALID",Kr="PENDING",yo="DISABLED",en=class{},D5=class extends en{value;source;constructor(n,t){super(),this.value=n,this.source=t}},xo=class extends en{pristine;source;constructor(n,t){super(),this.pristine=n,this.source=t}},_o=class extends en{touched;source;constructor(n,t){super(),this.touched=n,this.source=t}},Qr=class extends en{status;source;constructor(n,t){super(),this.status=n,this.source=t}},c4=class extends en{source;constructor(n){super(),this.source=n}},a4=class extends en{source;constructor(n){super(),this.source=n}};function H6(e){return(B5(e)?e.validators:e)||null}function w_(e){return Array.isArray(e)?b6(e):e||null}function T6(e,n){return(B5(n)?n.asyncValidators:e)||null}function C_(e){return Array.isArray(e)?D6(e):e||null}function B5(e){return e!=null&&!Array.isArray(e)&&typeof e=="object"}function M_(e,n,t){let r=e.controls;if(!(n?Object.keys(r):r).length)throw new E(1e3,"");if(!r[t])throw new E(1001,"")}function z_(e,n,t){e._forEachChild((r,s)=>{if(t[s]===void 0)throw new E(1002,"")})}var V5=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(n,t){this._assignValidators(n),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get status(){return be(this.statusReactive)}set status(n){be(()=>this.statusReactive.set(n))}_status=Tn(()=>this.statusReactive());statusReactive=x1(void 0);get valid(){return this.status===zo}get invalid(){return this.status===S5}get pending(){return this.status==Kr}get disabled(){return this.status===yo}get enabled(){return this.status!==yo}errors;get pristine(){return be(this.pristineReactive)}set pristine(n){be(()=>this.pristineReactive.set(n))}_pristine=Tn(()=>this.pristineReactive());pristineReactive=x1(!0);get dirty(){return!this.pristine}get touched(){return be(this.touchedReactive)}set touched(n){be(()=>this.touchedReactive.set(n))}_touched=Tn(()=>this.touchedReactive());touchedReactive=x1(!1);get untouched(){return!this.touched}_events=new _1;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._assignValidators(n)}setAsyncValidators(n){this._assignAsyncValidators(n)}addValidators(n){this.setValidators(m6(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(m6(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(w6(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(w6(n,this._rawAsyncValidators))}hasValidator(n){return I5(this._rawValidators,n)}hasAsyncValidator(n){return I5(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){let t=this.touched===!1;this.touched=!0;let r=n.sourceControl??this;this._parent&&!n.onlySelf&&this._parent.markAsTouched(L(z({},n),{sourceControl:r})),t&&n.emitEvent!==!1&&this._events.next(new _o(!0,r))}markAllAsTouched(n={}){this.markAsTouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(n))}markAsUntouched(n={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=n.sourceControl??this;this._forEachChild(s=>{s.markAsUntouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:r})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n,r),t&&n.emitEvent!==!1&&this._events.next(new _o(!1,r))}markAsDirty(n={}){let t=this.pristine===!0;this.pristine=!1;let r=n.sourceControl??this;this._parent&&!n.onlySelf&&this._parent.markAsDirty(L(z({},n),{sourceControl:r})),t&&n.emitEvent!==!1&&this._events.next(new xo(!1,r))}markAsPristine(n={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=n.sourceControl??this;this._forEachChild(s=>{s.markAsPristine({onlySelf:!0,emitEvent:n.emitEvent})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n,r),t&&n.emitEvent!==!1&&this._events.next(new xo(!0,r))}markAsPending(n={}){this.status=Kr;let t=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new Qr(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.markAsPending(L(z({},n),{sourceControl:t}))}disable(n={}){let t=this._parentMarkedDirty(n.onlySelf);this.status=yo,this.errors=null,this._forEachChild(s=>{s.disable(L(z({},n),{onlySelf:!0}))}),this._updateValue();let r=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new D5(this.value,r)),this._events.next(new Qr(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(L(z({},n),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(s=>s(!0))}enable(n={}){let t=this._parentMarkedDirty(n.onlySelf);this.status=zo,this._forEachChild(r=>{r.enable(L(z({},n),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors(L(z({},n),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(n,t){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===zo||this.status===Kr)&&this._runAsyncValidator(r,n.emitEvent)}let t=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new D5(this.value,t)),this._events.next(new Qr(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(L(z({},n),{sourceControl:t}))}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?yo:zo}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n,t){if(this.asyncValidator){this.status=Kr,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let r=R6(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(s=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(s,{emitEvent:t,shouldHaveEmitted:n})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let n=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,n}return!1}setErrors(n,t={}){this.errors=n,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(n){let t=n;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,s)=>r&&r._find(s),this)}getError(n,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[n]:null}hasError(n,t){return!!this.getError(n,t)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n,t,r){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),(n||r)&&this._events.next(new Qr(this.status,t)),this._parent&&this._parent._updateControlsErrors(n,t,r)}_initObservables(){this.valueChanges=new i1,this.statusChanges=new i1}_calculateStatus(){return this._allControlsDisabled()?yo:this.errors?S5:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Kr)?Kr:this._anyControlsHaveStatus(S5)?S5:zo}_anyControlsHaveStatus(n){return this._anyControls(t=>t.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n,t){let r=!this._anyControlsDirty(),s=this.pristine!==r;this.pristine=r,this._parent&&!n.onlySelf&&this._parent._updatePristine(n,t),s&&this._events.next(new xo(this.pristine,t))}_updateTouched(n={},t){this.touched=this._anyControlsTouched(),this._events.next(new _o(this.touched,t)),this._parent&&!n.onlySelf&&this._parent._updateTouched(n,t)}_onDisabledChange=[];_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){B5(n)&&n.updateOn!=null&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){let t=this._parent&&this._parent.dirty;return!n&&!!t&&!this._parent._anyControlsDirty()}_find(n){return null}_assignValidators(n){this._rawValidators=Array.isArray(n)?n.slice():n,this._composedValidatorFn=w_(this._rawValidators)}_assignAsyncValidators(n){this._rawAsyncValidators=Array.isArray(n)?n.slice():n,this._composedAsyncValidatorFn=C_(this._rawAsyncValidators)}},A5=class extends V5{constructor(n,t,r){super(H6(t),T6(r,t)),this.controls=n,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(n,t){return this.controls[n]?this.controls[n]:(this.controls[n]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(n,t,r={}){this.registerControl(n,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(n,t={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(n,t,r={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],t&&this.registerControl(n,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,t={}){z_(this,!0,n),Object.keys(n).forEach(r=>{M_(this,!0,r),this.controls[r].setValue(n[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(n,t={}){n!=null&&(Object.keys(n).forEach(r=>{let s=this.controls[r];s&&s.patchValue(n[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(n={},t={}){this._forEachChild((r,s)=>{r.reset(n?n[s]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(n,t,r)=>(n[r]=t.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&n(r,t)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&n(r))return!0;return!1}_reduceValue(){let n={};return this._reduceChildren(n,(t,r,s)=>((r.enabled||this.disabled)&&(t[s]=r.value),t))}_reduceChildren(n,t){let r=n;return this._forEachChild((s,o)=>{r=t(r,s,o)}),r}_allControlsDisabled(){for(let n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(n){return this.controls.hasOwnProperty(n)?this.controls[n]:null}};var Ro=new R("",{providedIn:"root",factory:()=>O5}),O5="always";function k6(e,n){return[...n.path,e]}function L5(e,n,t=O5){h4(e,n),n.valueAccessor.writeValue(e.value),(e.disabled||t==="always")&&n.valueAccessor.setDisabledState?.(e.disabled),x_(e,n),R_(e,n),__(e,n),y_(e,n)}function H5(e,n,t=!0){let r=()=>{};n.valueAccessor&&(n.valueAccessor.registerOnChange(r),n.valueAccessor.registerOnTouched(r)),k5(e,n),e&&(n._invokeOnDestroyCallbacks(),e._registerOnCollectionChange(()=>{}))}function T5(e,n){e.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(n)})}function y_(e,n){if(n.valueAccessor.setDisabledState){let t=r=>{n.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(t),n._registerOnDestroy(()=>{e._unregisterOnDisabledChange(t)})}}function h4(e,n){let t=V6(e);n.validator!==null?e.setValidators(f6(t,n.validator)):typeof t=="function"&&e.setValidators([t]);let r=A6(e);n.asyncValidator!==null?e.setAsyncValidators(f6(r,n.asyncValidator)):typeof r=="function"&&e.setAsyncValidators([r]);let s=()=>e.updateValueAndValidity();T5(n._rawValidators,s),T5(n._rawAsyncValidators,s)}function k5(e,n){let t=!1;if(e!==null){if(n.validator!==null){let s=V6(e);if(Array.isArray(s)&&s.length>0){let o=s.filter(i=>i!==n.validator);o.length!==s.length&&(t=!0,e.setValidators(o))}}if(n.asyncValidator!==null){let s=A6(e);if(Array.isArray(s)&&s.length>0){let o=s.filter(i=>i!==n.asyncValidator);o.length!==s.length&&(t=!0,e.setAsyncValidators(o))}}}let r=()=>{};return T5(n._rawValidators,r),T5(n._rawAsyncValidators,r),t}function x_(e,n){n.valueAccessor.registerOnChange(t=>{e._pendingValue=t,e._pendingChange=!0,e._pendingDirty=!0,e.updateOn==="change"&&N6(e,n)})}function __(e,n){n.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,e.updateOn==="blur"&&e._pendingChange&&N6(e,n),e.updateOn!=="submit"&&e.markAsTouched()})}function N6(e,n){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function R_(e,n){let t=(r,s)=>{n.valueAccessor.writeValue(r),s&&n.viewToModelUpdate(r)};e.registerOnChange(t),n._registerOnDestroy(()=>{e._unregisterOnChange(t)})}function S_(e,n){e==null,h4(e,n)}function I_(e,n){return k5(e,n)}function u4(e,n){if(!e.hasOwnProperty("model"))return!1;let t=e.model;return t.isFirstChange()?!0:!Object.is(n,t.currentValue)}function E_(e){return Object.getPrototypeOf(e.constructor)===l4}function b_(e,n){e._syncPendingControls(),n.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function d4(e,n){if(!n)return null;Array.isArray(n);let t,r,s;return n.forEach(o=>{o.constructor===nn?t=o:E_(o)?r=o:s=o}),s||r||t||null}function D_(e,n){let t=e.indexOf(n);t>-1&&e.splice(t,1)}function C6(e,n){let t=e.indexOf(n);t>-1&&e.splice(t,1)}function M6(e){return typeof e=="object"&&e!==null&&Object.keys(e).length===2&&"value"in e&&"disabled"in e}var ht=class extends V5{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(n=null,t,r){super(H6(t),T6(r,t)),this._applyFormState(n),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),B5(t)&&(t.nonNullable||t.initialValueIsDefault)&&(M6(n)?this.defaultValue=n.value:this.defaultValue=n)}setValue(n,t={}){this.value=this._pendingValue=n,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(n,t={}){this.setValue(n,t)}reset(n=this.defaultValue,t={}){this._applyFormState(n),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){C6(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){C6(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(n){M6(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}};var V_=e=>e instanceof ht;var A_={provide:At,useExisting:Xe(()=>So)},z6=Promise.resolve(),So=(()=>{class e extends At{_changeDetectorRef;callSetDisabledState;control=new ht;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new i1;constructor(t,r,s,o,i,c){super(),this._changeDetectorRef=i,this.callSetDisabledState=c,this._parent=t,this._setValidators(r),this._setAsyncValidators(s),this.valueAccessor=d4(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),u4(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){L5(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){z6.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,s=r!==0&&St(r);z6.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?k6(t,this._parent):[t]}static \u0275fac=function(r){return new(r||e)(T(Un,9),T(Jr,10),T(N5,10),T(tn,10),T(Zt,8),T(Ro,8))};static \u0275dir=M1({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[z1([A_]),Ee,te]})}return e})();var p4=new R(""),L_={provide:At,useExisting:Xe(()=>v4)},v4=(()=>{class e extends At{_ngModelWarningConfig;callSetDisabledState;viewModel;form;set isDisabled(t){}model;update=new i1;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(t,r,s,o,i){super(),this._ngModelWarningConfig=o,this.callSetDisabledState=i,this._setValidators(t),this._setAsyncValidators(r),this.valueAccessor=d4(this,s)}ngOnChanges(t){if(this._isControlChanged(t)){let r=t.form.previousValue;r&&H5(r,this,!1),L5(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}u4(t,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&H5(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_isControlChanged(t){return t.hasOwnProperty("form")}static \u0275fac=function(r){return new(r||e)(T(Jr,10),T(N5,10),T(tn,10),T(p4,8),T(Ro,8))};static \u0275dir=M1({type:e,selectors:[["","formControl",""]],inputs:{form:[0,"formControl","form"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],standalone:!1,features:[z1([L_]),Ee,te]})}return e})(),H_={provide:Un,useExisting:Xe(()=>g4)},g4=(()=>{class e extends Un{callSetDisabledState;get submitted(){return be(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}_submitted=Tn(()=>this._submittedReactive());_submittedReactive=x1(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new i1;constructor(t,r,s){super(),this.callSetDisabledState=s,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(k5(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let r=this.form.get(t.path);return L5(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){H5(t.control||null,t,!1),D_(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this._submittedReactive.set(!0),b_(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new c4(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this._submittedReactive.set(!1),this.form._events.next(new a4(this.form))}_updateDomValue(){this.directives.forEach(t=>{let r=t.control,s=this.form.get(t.path);r!==s&&(H5(r||null,t),V_(s)&&(L5(s,t,this.callSetDisabledState),t.control=s))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let r=this.form.get(t.path);S_(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let r=this.form.get(t.path);r&&I_(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){h4(this.form,this),this._oldForm&&k5(this._oldForm,this)}static \u0275fac=function(r){return new(r||e)(T(Jr,10),T(N5,10),T(Ro,8))};static \u0275dir=M1({type:e,selectors:[["","formGroup",""]],hostBindings:function(r,s){r&1&&O("submit",function(i){return s.onSubmit(i)})("reset",function(){return s.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[z1([H_]),Ee,te]})}return e})();var T_={provide:At,useExisting:Xe(()=>f4)},f4=(()=>{class e extends At{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(t){}model;update=new i1;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(t,r,s,o,i){super(),this._ngModelWarningConfig=i,this._parent=t,this._setValidators(r),this._setAsyncValidators(s),this.valueAccessor=d4(this,o)}ngOnChanges(t){this._added||this._setUpControl(),u4(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return k6(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(r){return new(r||e)(T(Un,13),T(Jr,10),T(N5,10),T(tn,10),T(p4,8))};static \u0275dir=M1({type:e,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[z1([T_]),Ee,te]})}return e})();var k_={provide:tn,useExisting:Xe(()=>P5),multi:!0};function B6(e,n){return e==null?`${n}`:(n&&typeof n=="object"&&(n="Object"),`${e}: ${n}`.slice(0,50))}function N_(e){return e.split(":")[0]}var P5=(()=>{class e extends l4{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let r=this._getOptionId(t),s=B6(r,t);this.setProperty("value",s)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){let r=N_(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static \u0275fac=(()=>{let t;return function(s){return(t||(t=Rt(e)))(s||e)}})();static \u0275dir=M1({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,s){r&1&&O("change",function(i){return s.onChange(i.target.value)})("blur",function(){return s.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[z1([k_]),Ee]})}return e})(),O6=(()=>{class e{_element;_renderer;_select;id;constructor(t,r,s){this._element=t,this._renderer=r,this._select=s,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(B6(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||e)(T(T1),T(we),T(P5,9))};static \u0275dir=M1({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return e})(),B_={provide:tn,useExisting:Xe(()=>P6),multi:!0};function y6(e,n){return e==null?`${n}`:(typeof n=="string"&&(n=`'${n}'`),n&&typeof n=="object"&&(n="Object"),`${e}: ${n}`.slice(0,50))}function O_(e){return e.split(":")[0]}var P6=(()=>{class e extends l4{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let r;if(Array.isArray(t)){let s=t.map(o=>this._getOptionId(o));r=(o,i)=>{o._setSelected(s.indexOf(i.toString())>-1)}}else r=(s,o)=>{s._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{let s=[],o=r.selectedOptions;if(o!==void 0){let i=o;for(let c=0;c<i.length;c++){let a=i[c],l=this._getOptionValue(a.value);s.push(l)}}else{let i=r.options;for(let c=0;c<i.length;c++){let a=i[c];if(a.selected){let l=this._getOptionValue(a.value);s.push(l)}}}this.value=s,t(s)}}_registerOption(t){let r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){let r=O_(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static \u0275fac=(()=>{let t;return function(s){return(t||(t=Rt(e)))(s||e)}})();static \u0275dir=M1({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,s){r&1&&O("change",function(i){return s.onChange(i.target)})("blur",function(){return s.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[z1([B_]),Ee]})}return e})(),F6=(()=>{class e{_element;_renderer;_select;id;_value;constructor(t,r,s){this._element=t,this._renderer=r,this._select=s,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(y6(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(y6(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||e)(T(T1),T(we),T(P6,9))};static \u0275dir=M1({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return e})();var j6=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=Ie({type:e});static \u0275inj=Se({})}return e})();var F5=(()=>{class e{static withConfig(t){return{ngModule:e,providers:[{provide:Ro,useValue:t.callSetDisabledState??O5}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=Ie({type:e});static \u0275inj=Se({imports:[j6]})}return e})(),j5=(()=>{class e{static withConfig(t){return{ngModule:e,providers:[{provide:p4,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:Ro,useValue:t.callSetDisabledState??O5}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=Ie({type:e});static \u0275inj=Se({imports:[j6]})}return e})();var P_=["addressInput"];function F_(e,n){e&1&&(C(0,"div",7),y(1," Ingrese una direcci\xF3n v\xE1lida. "),w())}function j_(e,n){if(e&1&&(C(0,"div",8)(1,"google-map",12),_(2,"map-marker",13),w()()),e&2){let t=D();x(),q("center",t.center)("height","250px")("width","100%")("zoom",15),x(),q("position",t.center)}}function U_(e,n){e&1&&(C(0,"div",8),_(1,"div",14),w())}var $5=class e{addressInput;formGroup=new A5({address:new ht("",{nonNullable:!0}),detail:new ht(""),reference:new ht(""),latitude:new ht(0),longitude:new ht(0)});addressService=m(lt);activatedRoute=m(h1);router=m(u1);center={lat:this.formGroup.get("latitude")?.value===0?-32.889728248360136:+(this.formGroup.get("latitude")?.value||0),lng:this.formGroup.get("longitude")?.value===0?-68.84455365369566:+(this.formGroup.get("longitude")?.value||0)};isAddressValid=x1(!1);selectedAddress=x1(null);isGoogleReady=x1(!1);ngAfterViewInit(){this.formGroup.setErrors({addressMismatch:!0});let n=setInterval(()=>{if(window.google&&google.maps&&google.maps.places){clearInterval(n),this.isGoogleReady.set(!0);let t=new google.maps.places.Autocomplete(this.addressInput.nativeElement,{types:["geocode"],componentRestrictions:{country:"ar"}});t.addListener("place_changed",()=>{let r=t.getPlace();r.geometry&&r.formatted_address&&r.geometry.location?(this.selectedAddress.set(r.formatted_address),this.isAddressValid.set(!0),this.formGroup.patchValue({latitude:r.geometry.location.lat(),longitude:r.geometry.location.lng(),address:r.formatted_address}),this.center={lat:+(this.formGroup.get("latitude")?.value||0),lng:+(this.formGroup.get("longitude")?.value||0)}):(this.selectedAddress.set(null),this.isAddressValid.set(!1))})}},100);this.formGroup.valueChanges.subscribe(t=>{this.selectedAddress()!==t.address&&this.formGroup.get("address")?.setErrors({addressMismatch:!0})})}save(){let n=localStorage.getItem("userId");return this.isAddressValid()&&this.formGroup.valid?()=>{this.addressService.postAddress(L(z({},this.formGroup.getRawValue()),{user_id:n,selected:!0})).subscribe({next:t=>f(this,null,function*(){console.log("Address saved:",t),this.formGroup.reset(),this.formGroup.setErrors(null),this.selectedAddress.set(null);let r=this.activatedRoute.snapshot.queryParamMap.get("from")||"/";yield this.router.navigateByUrl(r)}),error:t=>{console.error("Error saving address:",t)}})}:()=>{}}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=J({type:e,selectors:[["app-edit"]],viewQuery:function(t,r){if(t&1&&vd(P_,5),t&2){let s;ol(s=il())&&(r.addressInput=s.first)}},decls:21,vars:5,consts:[["addressInput",""],[1,"relative","mb-14"],[1,"p-4",3,"formGroup"],[1,"text-xl","font-bold","mb-2"],[1,"text-me","text-gray-500","mb-4"],[1,"block","mb-2","font-medium"],["formControlName","address","id","autocomplete","type","text","placeholder","Busca tu direcci\xF3n","autocomplete","off",1,"w-full","p-2","border","rounded","mb-2","placeholder:text-gray-500","focus:outline-black"],[1,"text-red-500","text-sm","font-light","pb-4"],[1,"mb-4","min-h-[250px]"],["formControlName","detail","type","text","placeholder","Ej: Piso 2, Depto B",1,"w-full","p-2","border","rounded","mb-4","placeholder:text-gray-500","focus:outline-black"],["formControlName","reference","type","text","placeholder","Ej: Puerta negra",1,"w-full","p-2","border","rounded","mb-4","placeholder:text-gray-500","focus:outline-black"],["title","Guardar","subtitle","Estas a un paso de crearla",1,"fixed","bottom-4","left-4","w-full",3,"disabled","action"],[3,"center","height","width","zoom"],[3,"position"],[1,"w-full","h-[250px]","bg-gray-200","rounded","animate-pulse"]],template:function(t,r){if(t&1&&(C(0,"div",1),_(1,"app-back-button"),C(2,"div",2)(3,"h1",3),y(4,"Tu direcci\xF3n"),w(),C(5,"h2",4),y(6,"Ingresa los detalles de tu direcci\xF3n"),w(),C(7,"label",5),y(8,"Direcci\xF3n"),w(),_(9,"input",6,0),B(11,F_,2,0,"div",7)(12,j_,3,5,"div",8)(13,U_,2,0,"div",8),C(14,"label",5),y(15,"Piso / Departamento"),w(),_(16,"input",9),C(17,"label",5),y(18,"Instrucciones"),w(),_(19,"input",10),w(),_(20,"app-next-button",11),w()),t&2){let s;x(2),q("formGroup",r.formGroup),x(9),k((s=r.formGroup.get("address"))!=null&&s.hasError("addressMismatch")?11:-1),x(),k(r.isGoogleReady()?12:13),x(8),q("disabled",r.formGroup.invalid)("action",r.save())}},dependencies:[Ae,pe,j5,nn,rn,L6,g4,f4,v6,o4],encapsulation:2})};var U6=(e,n)=>n.id;function $_(e,n){if(e&1&&(C(0,"option",5),y(1),w()),e&2){let t=n.$implicit;q("value",t.id),x(),X(t.name)}}function W_(e,n){if(e&1&&_(0,"img",12),e&2){let t=D().$implicit;q("src",t.image,Ci)}}function G_(e,n){e&1&&(C(0,"div",13),y(1,"Sin imagen"),w())}function q_(e,n){if(e&1){let t=R1();C(0,"div",8)(1,"div",9)(2,"div",10),y(3),w(),C(4,"div",11),y(5),w()(),C(6,"div"),B(7,W_,1,1,"img",12)(8,G_,2,0,"div",13),C(9,"input",14),O("change",function(s){let o=a1(t).$implicit,i=D(2);return l1(i.onFileSelected(s,o))}),w()(),C(10,"button",15),O("click",function(){let s=a1(t).$implicit,o=D(2);return l1(o.uploadImage(s))}),y(11,"Subir Imagen"),w()()}if(e&2){let t=n.$implicit;x(3),X(t.name),x(2),Oe("ID: ",t.id,""),x(2),k(t.image?7:8),x(3),q("disabled",!t.selectedFile)}}function Z_(e,n){if(e&1&&(C(0,"h2",7),y(1,"Productos"),w(),k1(2,q_,12,4,"div",8,U6)),e&2){let t=D();x(2),N1(t.products())}}function Y_(e,n){e&1&&(C(0,"div",6),y(1,"No hay productos en esta categor\xEDa."),w())}var W5=class e{constructor(n,t){this.categoryService=n;this.productService=t;this.fetchCategories(),br(()=>{this.selectedCategoryId()&&this.fetchProducts()})}categories=x1([]);selectedCategoryId=x1("");products=x1([]);fetchCategories(){this.categoryService.getCategories().subscribe(n=>{this.categories.set(n),n.length>0&&this.selectedCategoryId.set(n[0].id)})}fetchProducts(){this.productService.getProducts(this.selectedCategoryId()).subscribe(n=>{this.products.set(n.map(t=>L(z({},t),{selectedFile:null})))})}onCategoryChange(n){let t=n.target.value;this.selectedCategoryId.set(t)}onFileSelected(n,t){let r=n.target.files[0];t.selectedFile=r}uploadImage(n){if(!n.selectedFile)return;new FormData().append("image",n.selectedFile)}static \u0275fac=function(t){return new(t||e)(T(Zr),T(ct))};static \u0275cmp=J({type:e,selectors:[["app-admin-categories"]],decls:11,vars:2,consts:[[1,"p-6","max-w-3xl","mx-auto"],[1,"text-2xl","font-bold","mb-4"],[1,"mb-6"],[1,"block","mb-2","font-semibold"],[1,"border","rounded","px-3","py-2","w-full",3,"ngModelChange","ngModel"],[3,"value"],[1,"text-gray-500"],[1,"text-xl","font-semibold","mb-2"],[1,"border","rounded","p-4","mb-4","flex","items-center","gap-4"],[1,"flex-1"],[1,"font-bold"],[1,"text-sm","text-gray-500"],["alt","Imagen",1,"w-20","h-20","object-cover","rounded","mb-2",3,"src"],[1,"w-20","h-20","bg-gray-200","rounded","mb-2","flex","items-center","justify-center","text-xs","text-gray-400"],["type","file","accept","image/*",3,"change"],[1,"ml-2","px-4","py-2","bg-blue-600","text-white","rounded","disabled:opacity-50",3,"click","disabled"]],template:function(t,r){t&1&&(C(0,"div",0)(1,"h1",1),y(2,"Administrar Im\xE1genes de Productos por Categor\xEDa"),w(),C(3,"div",2)(4,"label",3),y(5,"Selecciona una categor\xEDa:"),w(),C(6,"select",4),O("ngModelChange",function(o){return r.onCategoryChange(o)}),k1(7,$_,2,2,"option",5,U6),w()(),B(9,Z_,4,0)(10,Y_,2,0,"div",6),w()),t&2&&(x(6),q("ngModel",r.selectedCategoryId()),x(),N1(r.categories()),x(2),k(r.products()&&r.products().length>0?9:r.products()&&r.products().length===0?10:-1))},dependencies:[Ai,F5,O6,F6,P5,rn,So],encapsulation:2})};var $6=[{path:"",component:Yr},{path:"home",component:Yr},{path:"category/:categoryId",component:Yr},{path:"cart",component:C5},{path:"detail/:id",component:z5},{path:"checkout",component:_5},{path:"profile/address",component:y5},{path:"profile/address/add",component:$5},{path:"admin/categories",component:W5}];var Xr=class e{spinnerSubject=new m1(!1);spinner$=this.spinnerSubject.asObservable();show(){this.spinnerSubject.next(!0)}hide(){this.spinnerSubject.next(!1)}static \u0275fac=function(t){return new(t||e)};static \u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})};var W6=(e,n)=>{let t=m(Xr);return n(e).pipe(Ge(()=>t.hide()))};var G6={providers:[Cd({eventCoalescing:!0}),n4($6),Vl(Al([W6]))]};function m4(e){e||(Ca(m4),e=m(et));let n=new e1(t=>e.onDestroy(t.next.bind(t)));return t=>t.pipe(or(n))}var q6=()=>{};var K6=function(e){let n=[],t=0;for(let r=0;r<e.length;r++){let s=e.charCodeAt(r);s<128?n[t++]=s:s<2048?(n[t++]=s>>6|192,n[t++]=s&63|128):(s&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(e.charCodeAt(++r)&1023),n[t++]=s>>18|240,n[t++]=s>>12&63|128,n[t++]=s>>6&63|128,n[t++]=s&63|128):(n[t++]=s>>12|224,n[t++]=s>>6&63|128,n[t++]=s&63|128)}return n},Q_=function(e){let n=[],t=0,r=0;for(;t<e.length;){let s=e[t++];if(s<128)n[r++]=String.fromCharCode(s);else if(s>191&&s<224){let o=e[t++];n[r++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){let o=e[t++],i=e[t++],c=e[t++],a=((s&7)<<18|(o&63)<<12|(i&63)<<6|c&63)-65536;n[r++]=String.fromCharCode(55296+(a>>10)),n[r++]=String.fromCharCode(56320+(a&1023))}else{let o=e[t++],i=e[t++];n[r++]=String.fromCharCode((s&15)<<12|(o&63)<<6|i&63)}}return n.join("")},Q6={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,n){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=n?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<e.length;s+=3){let o=e[s],i=s+1<e.length,c=i?e[s+1]:0,a=s+2<e.length,l=a?e[s+2]:0,h=o>>2,d=(o&3)<<4|c>>4,g=(c&15)<<2|l>>6,v=l&63;a||(v=64,i||(g=64)),r.push(t[h],t[d],t[g],t[v])}return r.join("")},encodeString(e,n){return this.HAS_NATIVE_SUPPORT&&!n?btoa(e):this.encodeByteArray(K6(e),n)},decodeString(e,n){return this.HAS_NATIVE_SUPPORT&&!n?atob(e):Q_(this.decodeStringToByteArray(e,n))},decodeStringToByteArray(e,n){this.init_();let t=n?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<e.length;){let o=t[e.charAt(s++)],c=s<e.length?t[e.charAt(s)]:0;++s;let l=s<e.length?t[e.charAt(s)]:64;++s;let d=s<e.length?t[e.charAt(s)]:64;if(++s,o==null||c==null||l==null||d==null)throw new C4;let g=o<<2|c>>4;if(r.push(g),l!==64){let v=c<<4&240|l>>2;if(r.push(v),d!==64){let u=l<<6&192|d;r.push(u)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},C4=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},J_=function(e){let n=K6(e);return Q6.encodeByteArray(n,!0)},z4=function(e){return J_(e).replace(/\./g,"")},q5=function(e){try{return Q6.decodeString(e,!0)}catch(n){console.error("base64Decode failed: ",n)}return null};function X_(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var eR=()=>X_().__FIREBASE_DEFAULTS__,tR=()=>{if(typeof process>"u"||typeof process.env>"u")return;let e=process.env.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},nR=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let n=e&&q5(e[1]);return n&&JSON.parse(n)},y4=()=>{try{return q6()||eR()||tR()||nR()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},J6=e=>{var n,t;return(t=(n=y4())===null||n===void 0?void 0:n.emulatorHosts)===null||t===void 0?void 0:t[e]};var x4=()=>{var e;return(e=y4())===null||e===void 0?void 0:e.config},_4=e=>{var n;return(n=y4())===null||n===void 0?void 0:n[`_${e}`]};var G5=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((n,t)=>{this.resolve=n,this.reject=t})}wrapCallback(n){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof n=="function"&&(this.promise.catch(()=>{}),n.length===1?n(t):n(t,r))}}};function Eo(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}function X6(e){return f(this,null,function*(){return(yield fetch(e,{credentials:"include"})).ok})}var Io={};function rR(){let e={prod:[],emulator:[]};for(let n of Object.keys(Io))Io[n]?e.emulator.push(n):e.prod.push(n);return e}function sR(e){let n=document.getElementById(e),t=!1;return n||(n=document.createElement("div"),n.setAttribute("id",e),t=!0),{created:t,element:n}}var Z6=!1;function e8(e,n){if(typeof window>"u"||typeof document>"u"||!Eo(window.location.host)||Io[e]===n||Io[e]||Z6)return;Io[e]=n;function t(g){return`__firebase__banner__${g}`}let r="__firebase__banner",o=rR().prod.length>0;function i(){let g=document.getElementById(r);g&&g.remove()}function c(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function a(g,v){g.setAttribute("width","24"),g.setAttribute("id",v),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function l(){let g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{Z6=!0,i()},g}function h(g,v){g.setAttribute("id",v),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function d(){let g=sR(r),v=t("text"),u=document.getElementById(v)||document.createElement("span"),M=t("learnmore"),S=document.getElementById(M)||document.createElement("a"),V=t("preprendIcon"),r1=document.getElementById(V)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){let Z=g.element;c(Z),h(S,M);let I1=l();a(r1,V),Z.append(r1,u,S,I1),document.body.appendChild(Z)}o?(u.innerText="Preview backend disconnected.",r1.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(r1.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,u.innerText="Preview backend running in this workspace."),u.setAttribute("id",v)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",d):d()}function Y1(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function t8(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Y1())}function n8(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function r8(){let e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function s8(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function o8(){let e=Y1();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function i8(){try{return typeof indexedDB=="object"}catch{return!1}}function c8(){return new Promise((e,n)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(r),e(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var o;n(((o=s.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){n(t)}})}var oR="FirebaseError",je=class e extends Error{constructor(n,t,r){super(t),this.code=n,this.customData=r,this.name=oR,Object.setPrototypeOf(this,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Lt.prototype.create)}},Lt=class{constructor(n,t,r){this.service=n,this.serviceName=t,this.errors=r}create(n,...t){let r=t[0]||{},s=`${this.service}/${n}`,o=this.errors[n],i=o?iR(o,r):"Error",c=`${this.serviceName}: ${i} (${s}).`;return new je(s,c,r)}};function iR(e,n){return e.replace(cR,(t,r)=>{let s=n[r];return s!=null?String(s):`<${r}?>`})}var cR=/\{\$([^}]+)}/g;function a8(e){for(let n in e)if(Object.prototype.hasOwnProperty.call(e,n))return!1;return!0}function sn(e,n){if(e===n)return!0;let t=Object.keys(e),r=Object.keys(n);for(let s of t){if(!r.includes(s))return!1;let o=e[s],i=n[s];if(Y6(o)&&Y6(i)){if(!sn(o,i))return!1}else if(o!==i)return!1}for(let s of r)if(!t.includes(s))return!1;return!0}function Y6(e){return e!==null&&typeof e=="object"}function $n(e){let n=[];for(let[t,r]of Object.entries(e))Array.isArray(r)?r.forEach(s=>{n.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):n.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return n.length?"&"+n.join("&"):""}function l8(e,n){let t=new M4(e,n);return t.subscribe.bind(t)}var M4=class{constructor(n,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{n(this)}).catch(r=>{this.error(r)})}next(n){this.forEachObserver(t=>{t.next(n)})}error(n){this.forEachObserver(t=>{t.error(n)}),this.close(n)}complete(){this.forEachObserver(n=>{n.complete()}),this.close()}subscribe(n,t,r){let s;if(n===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");aR(n,["next","error","complete"])?s=n:s={next:n,error:t,complete:r},s.next===void 0&&(s.next=w4),s.error===void 0&&(s.error=w4),s.complete===void 0&&(s.complete=w4);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),o}unsubscribeOne(n){this.observers===void 0||this.observers[n]===void 0||(delete this.observers[n],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(n){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,n)}sendOne(n,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[n]!==void 0)try{t(this.observers[n])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(n){this.finalized||(this.finalized=!0,n!==void 0&&(this.finalError=n),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function aR(e,n){if(typeof e!="object"||e===null)return!1;for(let t of n)if(t in e&&typeof e[t]=="function")return!0;return!1}function w4(){}var bU=4*60*60*1e3;function Ht(e){return e&&e._delegate?e._delegate:e}var ut=class{constructor(n,t,r){this.name=n,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(n){return this.instantiationMode=n,this}setMultipleInstances(n){return this.multipleInstances=n,this}setServiceProps(n){return this.serviceProps=n,this}setInstanceCreatedCallback(n){return this.onInstanceCreated=n,this}};var Wn="[DEFAULT]";var R4=class{constructor(n,t){this.name=n,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(n){let t=this.normalizeInstanceIdentifier(n);if(!this.instancesDeferred.has(t)){let r=new G5;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let s=this.getOrInitializeService({instanceIdentifier:t});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(n){var t;let r=this.normalizeInstanceIdentifier(n?.identifier),s=(t=n?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(n){if(n.name!==this.name)throw Error(`Mismatching Component ${n.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=n,!!this.shouldAutoInitialize()){if(hR(n))try{this.getOrInitializeService({instanceIdentifier:Wn})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let s=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:s});r.resolve(o)}catch{}}}}clearInstance(n=Wn){this.instancesDeferred.delete(n),this.instancesOptions.delete(n),this.instances.delete(n)}delete(){return f(this,null,function*(){let n=Array.from(this.instances.values());yield Promise.all([...n.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...n.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(n=Wn){return this.instances.has(n)}getOptions(n=Wn){return this.instancesOptions.get(n)||{}}initialize(n={}){let{options:t={}}=n,r=this.normalizeInstanceIdentifier(n.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let s=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,i]of this.instancesDeferred.entries()){let c=this.normalizeInstanceIdentifier(o);r===c&&i.resolve(s)}return s}onInit(n,t){var r;let s=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;o.add(n),this.onInitCallbacks.set(s,o);let i=this.instances.get(s);return i&&n(i,s),()=>{o.delete(n)}}invokeOnInitCallbacks(n,t){let r=this.onInitCallbacks.get(t);if(r)for(let s of r)try{s(n,t)}catch{}}getOrInitializeService({instanceIdentifier:n,options:t={}}){let r=this.instances.get(n);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:lR(n),options:t}),this.instances.set(n,r),this.instancesOptions.set(n,t),this.invokeOnInitCallbacks(r,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,r)}catch{}return r||null}normalizeInstanceIdentifier(n=Wn){return this.component?this.component.multipleInstances?n:Wn:n}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function lR(e){return e===Wn?void 0:e}function hR(e){return e.instantiationMode==="EAGER"}var Z5=class{constructor(n){this.name=n,this.providers=new Map}addComponent(n){let t=this.getProvider(n.name);if(t.isComponentSet())throw new Error(`Component ${n.name} has already been registered with ${this.name}`);t.setComponent(n)}addOrOverwriteComponent(n){this.getProvider(n.name).isComponentSet()&&this.providers.delete(n.name),this.addComponent(n)}getProvider(n){if(this.providers.has(n))return this.providers.get(n);let t=new R4(n,this);return this.providers.set(n,t),t}getProviders(){return Array.from(this.providers.values())}};var uR=[],p1=function(e){return e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT",e}(p1||{}),dR={debug:p1.DEBUG,verbose:p1.VERBOSE,info:p1.INFO,warn:p1.WARN,error:p1.ERROR,silent:p1.SILENT},pR=p1.INFO,vR={[p1.DEBUG]:"log",[p1.VERBOSE]:"log",[p1.INFO]:"info",[p1.WARN]:"warn",[p1.ERROR]:"error"},gR=(e,n,...t)=>{if(n<e.logLevel)return;let r=new Date().toISOString(),s=vR[n];if(s)console[s](`[${r}]  ${e.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${n})`)},es=class{constructor(n){this.name=n,this._logLevel=pR,this._logHandler=gR,this._userLogHandler=null,uR.push(this)}get logLevel(){return this._logLevel}set logLevel(n){if(!(n in p1))throw new TypeError(`Invalid value "${n}" assigned to \`logLevel\``);this._logLevel=n}setLogLevel(n){this._logLevel=typeof n=="string"?dR[n]:n}get logHandler(){return this._logHandler}set logHandler(n){if(typeof n!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=n}get userLogHandler(){return this._userLogHandler}set userLogHandler(n){this._userLogHandler=n}debug(...n){this._userLogHandler&&this._userLogHandler(this,p1.DEBUG,...n),this._logHandler(this,p1.DEBUG,...n)}log(...n){this._userLogHandler&&this._userLogHandler(this,p1.VERBOSE,...n),this._logHandler(this,p1.VERBOSE,...n)}info(...n){this._userLogHandler&&this._userLogHandler(this,p1.INFO,...n),this._logHandler(this,p1.INFO,...n)}warn(...n){this._userLogHandler&&this._userLogHandler(this,p1.WARN,...n),this._logHandler(this,p1.WARN,...n)}error(...n){this._userLogHandler&&this._userLogHandler(this,p1.ERROR,...n),this._logHandler(this,p1.ERROR,...n)}};var fR=(e,n)=>n.some(t=>e instanceof t),h8,u8;function mR(){return h8||(h8=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function wR(){return u8||(u8=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var d8=new WeakMap,I4=new WeakMap,p8=new WeakMap,S4=new WeakMap,b4=new WeakMap;function CR(e){let n=new Promise((t,r)=>{let s=()=>{e.removeEventListener("success",o),e.removeEventListener("error",i)},o=()=>{t(dt(e.result)),s()},i=()=>{r(e.error),s()};e.addEventListener("success",o),e.addEventListener("error",i)});return n.then(t=>{t instanceof IDBCursor&&d8.set(t,e)}).catch(()=>{}),b4.set(n,e),n}function MR(e){if(I4.has(e))return;let n=new Promise((t,r)=>{let s=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",i),e.removeEventListener("abort",i)},o=()=>{t(),s()},i=()=>{r(e.error||new DOMException("AbortError","AbortError")),s()};e.addEventListener("complete",o),e.addEventListener("error",i),e.addEventListener("abort",i)});I4.set(e,n)}var E4={get(e,n,t){if(e instanceof IDBTransaction){if(n==="done")return I4.get(e);if(n==="objectStoreNames")return e.objectStoreNames||p8.get(e);if(n==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return dt(e[n])},set(e,n,t){return e[n]=t,!0},has(e,n){return e instanceof IDBTransaction&&(n==="done"||n==="store")?!0:n in e}};function v8(e){E4=e(E4)}function zR(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(n,...t){let r=e.call(Y5(this),n,...t);return p8.set(r,n.sort?n.sort():[n]),dt(r)}:wR().includes(e)?function(...n){return e.apply(Y5(this),n),dt(d8.get(this))}:function(...n){return dt(e.apply(Y5(this),n))}}function yR(e){return typeof e=="function"?zR(e):(e instanceof IDBTransaction&&MR(e),fR(e,mR())?new Proxy(e,E4):e)}function dt(e){if(e instanceof IDBRequest)return CR(e);if(S4.has(e))return S4.get(e);let n=yR(e);return n!==e&&(S4.set(e,n),b4.set(n,e)),n}var Y5=e=>b4.get(e);function f8(e,n,{blocked:t,upgrade:r,blocking:s,terminated:o}={}){let i=indexedDB.open(e,n),c=dt(i);return r&&i.addEventListener("upgradeneeded",a=>{r(dt(i.result),a.oldVersion,a.newVersion,dt(i.transaction),a)}),t&&i.addEventListener("blocked",a=>t(a.oldVersion,a.newVersion,a)),c.then(a=>{o&&a.addEventListener("close",()=>o()),s&&a.addEventListener("versionchange",l=>s(l.oldVersion,l.newVersion,l))}).catch(()=>{}),c}var xR=["get","getKey","getAll","getAllKeys","count"],_R=["put","add","delete","clear"],D4=new Map;function g8(e,n){if(!(e instanceof IDBDatabase&&!(n in e)&&typeof n=="string"))return;if(D4.get(n))return D4.get(n);let t=n.replace(/FromIndex$/,""),r=n!==t,s=_R.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(s||xR.includes(t)))return;let o=function(i,...c){return f(this,null,function*(){let a=this.transaction(i,s?"readwrite":"readonly"),l=a.store;return r&&(l=l.index(c.shift())),(yield Promise.all([l[t](...c),s&&a.done]))[0]})};return D4.set(n,o),o}v8(e=>L(z({},e),{get:(n,t,r)=>g8(n,t)||e.get(n,t,r),has:(n,t)=>!!g8(n,t)||e.has(n,t)}));var A4=class{constructor(n){this.container=n}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(RR(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function RR(e){let n=e.getComponent();return n?.type==="VERSION"}var L4="@firebase/app",m8="0.13.2";var Tt=new es("@firebase/app"),SR="@firebase/app-compat",IR="@firebase/analytics-compat",ER="@firebase/analytics",bR="@firebase/app-check-compat",DR="@firebase/app-check",VR="@firebase/auth",AR="@firebase/auth-compat",LR="@firebase/database",HR="@firebase/data-connect",TR="@firebase/database-compat",kR="@firebase/functions",NR="@firebase/functions-compat",BR="@firebase/installations",OR="@firebase/installations-compat",PR="@firebase/messaging",FR="@firebase/messaging-compat",jR="@firebase/performance",UR="@firebase/performance-compat",$R="@firebase/remote-config",WR="@firebase/remote-config-compat",GR="@firebase/storage",qR="@firebase/storage-compat",ZR="@firebase/firestore",YR="@firebase/ai",KR="@firebase/firestore-compat",QR="firebase",JR="11.10.0";var H4="[DEFAULT]",XR={[L4]:"fire-core",[SR]:"fire-core-compat",[ER]:"fire-analytics",[IR]:"fire-analytics-compat",[DR]:"fire-app-check",[bR]:"fire-app-check-compat",[VR]:"fire-auth",[AR]:"fire-auth-compat",[LR]:"fire-rtdb",[HR]:"fire-data-connect",[TR]:"fire-rtdb-compat",[kR]:"fire-fn",[NR]:"fire-fn-compat",[BR]:"fire-iid",[OR]:"fire-iid-compat",[PR]:"fire-fcm",[FR]:"fire-fcm-compat",[jR]:"fire-perf",[UR]:"fire-perf-compat",[$R]:"fire-rc",[WR]:"fire-rc-compat",[GR]:"fire-gcs",[qR]:"fire-gcs-compat",[ZR]:"fire-fst",[KR]:"fire-fst-compat",[YR]:"fire-vertex","fire-js":"fire-js",[QR]:"fire-js-all"};var K5=new Map,eS=new Map,T4=new Map;function w8(e,n){try{e.container.addComponent(n)}catch(t){Tt.debug(`Component ${n.name} failed to register with FirebaseApp ${e.name}`,t)}}function ts(e){let n=e.name;if(T4.has(n))return Tt.debug(`There were multiple attempts to register component ${n}.`),!1;T4.set(n,e);for(let t of K5.values())w8(t,e);for(let t of eS.values())w8(t,e);return!0}function O4(e,n){let t=e.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),e.container.getProvider(n)}function Le(e){return e==null?!1:e.settings!==void 0}var tS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},on=new Lt("app","Firebase",tS);var k4=class{constructor(n,t,r){this._isDeleted=!1,this._options=Object.assign({},n),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ut("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(n){this.checkDestroyed(),this._automaticDataCollectionEnabled=n}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(n){this._isDeleted=n}checkDestroyed(){if(this.isDeleted)throw on.create("app-deleted",{appName:this._name})}};var ns=JR;function P4(e,n={}){let t=e;typeof n!="object"&&(n={name:n});let r=Object.assign({name:H4,automaticDataCollectionEnabled:!0},n),s=r.name;if(typeof s!="string"||!s)throw on.create("bad-app-name",{appName:String(s)});if(t||(t=x4()),!t)throw on.create("no-options");let o=K5.get(s);if(o){if(sn(t,o.options)&&sn(r,o.config))return o;throw on.create("duplicate-app",{appName:s})}let i=new Z5(s);for(let a of T4.values())i.addComponent(a);let c=new k4(t,r,i);return K5.set(s,c),c}function y8(e=H4){let n=K5.get(e);if(!n&&e===H4&&x4())return P4();if(!n)throw on.create("no-app",{appName:e});return n}function cn(e,n,t){var r;let s=(r=XR[e])!==null&&r!==void 0?r:e;t&&(s+=`-${t}`);let o=s.match(/\s|\//),i=n.match(/\s|\//);if(o||i){let c=[`Unable to register library "${s}" with version "${n}":`];o&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&i&&c.push("and"),i&&c.push(`version name "${n}" contains illegal characters (whitespace or "/")`),Tt.warn(c.join(" "));return}ts(new ut(`${s}-version`,()=>({library:s,version:n}),"VERSION"))}var nS="firebase-heartbeat-database",rS=1,bo="firebase-heartbeat-store",V4=null;function x8(){return V4||(V4=f8(nS,rS,{upgrade:(e,n)=>{switch(n){case 0:try{e.createObjectStore(bo)}catch(t){console.warn(t)}}}}).catch(e=>{throw on.create("idb-open",{originalErrorMessage:e.message})})),V4}function sS(e){return f(this,null,function*(){try{let t=(yield x8()).transaction(bo),r=yield t.objectStore(bo).get(_8(e));return yield t.done,r}catch(n){if(n instanceof je)Tt.warn(n.message);else{let t=on.create("idb-get",{originalErrorMessage:n?.message});Tt.warn(t.message)}}})}function C8(e,n){return f(this,null,function*(){try{let r=(yield x8()).transaction(bo,"readwrite");yield r.objectStore(bo).put(n,_8(e)),yield r.done}catch(t){if(t instanceof je)Tt.warn(t.message);else{let r=on.create("idb-set",{originalErrorMessage:t?.message});Tt.warn(r.message)}}})}function _8(e){return`${e.name}!${e.options.appId}`}var oS=1024,iS=30,N4=class{constructor(n){this.container=n,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new B4(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return f(this,null,function*(){var n,t;try{let s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=M8();if(((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(i=>i.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:s}),this._heartbeatsCache.heartbeats.length>iS){let i=aS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Tt.warn(r)}})}getHeartbeatsHeader(){return f(this,null,function*(){var n;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=M8(),{heartbeatsToSend:r,unsentEntries:s}=cS(this._heartbeatsCache.heartbeats),o=z4(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Tt.warn(t),""}})}};function M8(){return new Date().toISOString().substring(0,10)}function cS(e,n=oS){let t=[],r=e.slice();for(let s of e){let o=t.find(i=>i.agent===s.agent);if(o){if(o.dates.push(s.date),z8(t)>n){o.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),z8(t)>n){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var B4=class{constructor(n){this.app=n,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return f(this,null,function*(){return i8()?c8().then(()=>!0).catch(()=>!1):!1})}read(){return f(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield sS(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(n){return f(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let s=yield this.read();return C8(this.app,{lastSentHeartbeatDate:(t=n.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:n.heartbeats})}else return})}add(n){return f(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let s=yield this.read();return C8(this.app,{lastSentHeartbeatDate:(t=n.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...n.heartbeats]})}else return})}};function z8(e){return z4(JSON.stringify({version:2,heartbeats:e})).length}function aS(e){if(e.length===0)return-1;let n=0,t=e[0].date;for(let r=1;r<e.length;r++)e[r].date<t&&(t=e[r].date,n=r);return n}function lS(e){ts(new ut("platform-logger",n=>new A4(n),"PRIVATE")),ts(new ut("heartbeat",n=>new N4(n),"PRIVATE")),cn(L4,m8,e),cn(L4,m8,"esm2017"),cn("fire-js","")}lS("");var hS="firebase",uS="11.10.0";cn(hS,uS,"app");function $8(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var W8=$8,G8=new Lt("auth","Firebase",$8());var nc=new es("@firebase/auth");function dS(e,...n){nc.logLevel<=p1.WARN&&nc.warn(`Auth (${ns}): ${e}`,...n)}function J5(e,...n){nc.logLevel<=p1.ERROR&&nc.error(`Auth (${ns}): ${e}`,...n)}function pt(e,...n){throw p3(e,...n)}function ve(e,...n){return p3(e,...n)}function d3(e,n,t){let r=Object.assign(Object.assign({},W8()),{[n]:t});return new Lt("auth","Firebase",r).create(n,{appName:e.name})}function hn(e){return d3(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function q8(e,n,t){let r=t;if(!(n instanceof r))throw r.name!==n.constructor.name&&pt(e,"argument-error"),d3(e,"argument-error",`Type of ${n.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function p3(e,...n){if(typeof e!="string"){let t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return G8.create(e,...n)}function b(e,n,...t){if(!e)throw p3(n,...t)}function kt(e){let n="INTERNAL ASSERTION FAILED: "+e;throw J5(n),new Error(n)}function Bt(e,n){e||kt(n)}function G4(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function Z8(){return R8()==="http:"||R8()==="https:"}function R8(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}function pS(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Z8()||r8()||"connection"in navigator)?navigator.onLine:!0}function vS(){if(typeof navigator>"u")return null;let e=navigator;return e.languages&&e.languages[0]||e.language||null}var Gn=class{constructor(n,t){this.shortDelay=n,this.longDelay=t,Bt(t>n,"Short delay should be less than long delay!"),this.isMobile=t8()||s8()}get(){return pS()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function v3(e,n){Bt(e.emulator,"Emulator should always be set here");let{url:t}=e.emulator;return n?`${t}${n.startsWith("/")?n.slice(1):n}`:t}var rc=class{static initialize(n,t,r){this.fetchImpl=n,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;kt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;kt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;kt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var gS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var fS=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],mS=new Gn(3e4,6e4);function vt(e,n){return e.tenantId&&!n.tenantId?Object.assign(Object.assign({},n),{tenantId:e.tenantId}):n}function Ue(o,i,c,a){return f(this,arguments,function*(e,n,t,r,s={}){return Y8(e,s,()=>f(null,null,function*(){let l={},h={};r&&(n==="GET"?h=r:l={body:JSON.stringify(r)});let d=$n(Object.assign({key:e.config.apiKey},h)).slice(1),g=yield e._getAdditionalHeaders();g["Content-Type"]="application/json",e.languageCode&&(g["X-Firebase-Locale"]=e.languageCode);let v=Object.assign({method:n,headers:g},l);return n8()||(v.referrerPolicy="no-referrer"),e.emulatorConfig&&Eo(e.emulatorConfig.host)&&(v.credentials="include"),rc.fetch()(yield K8(e,e.config.apiHost,t,d),v)}))})}function Y8(e,n,t){return f(this,null,function*(){e._canInitEmulator=!1;let r=Object.assign(Object.assign({},gS),n);try{let s=new q4(e),o=yield Promise.race([t(),s.promise]);s.clearNetworkTimeout();let i=yield o.json();if("needConfirmation"in i)throw Vo(e,"account-exists-with-different-credential",i);if(o.ok&&!("errorMessage"in i))return i;{let c=o.ok?i.errorMessage:i.error.message,[a,l]=c.split(" : ");if(a==="FEDERATED_USER_ID_ALREADY_LINKED")throw Vo(e,"credential-already-in-use",i);if(a==="EMAIL_EXISTS")throw Vo(e,"email-already-in-use",i);if(a==="USER_DISABLED")throw Vo(e,"user-disabled",i);let h=r[a]||a.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw d3(e,h,l);pt(e,h)}}catch(s){if(s instanceof je)throw s;pt(e,"network-request-failed",{message:String(s)})}})}function gc(o,i,c,a){return f(this,arguments,function*(e,n,t,r,s={}){let l=yield Ue(e,n,t,r,s);return"mfaPendingCredential"in l&&pt(e,"multi-factor-auth-required",{_serverResponse:l}),l})}function K8(e,n,t,r){return f(this,null,function*(){let s=`${n}${t}?${r}`,o=e,i=o.config.emulator?v3(e.config,s):`${e.config.apiScheme}://${s}`;return fS.includes(t)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(i).toString():i})}function wS(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var q4=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(n){this.auth=n,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(ve(this.auth,"network-request-failed")),mS.get())})}};function Vo(e,n,t){let r={appName:e.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let s=ve(e,n,r);return s.customData._tokenResponse=t,s}function S8(e){return e!==void 0&&e.getResponse!==void 0}function I8(e){return e!==void 0&&e.enterprise!==void 0}var sc=class{constructor(n){if(this.siteKey="",this.recaptchaEnforcementState=[],n.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=n.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=n.recaptchaEnforcementState}getProviderEnforcementState(n){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===n)return wS(t.enforcementState);return null}isProviderEnabled(n){return this.getProviderEnforcementState(n)==="ENFORCE"||this.getProviderEnforcementState(n)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};function CS(e){return f(this,null,function*(){return(yield Ue(e,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})}function Q8(e,n){return f(this,null,function*(){return Ue(e,"GET","/v2/recaptchaConfig",vt(e,n))})}function MS(e,n){return f(this,null,function*(){return Ue(e,"POST","/v1/accounts:delete",n)})}function oc(e,n){return f(this,null,function*(){return Ue(e,"POST","/v1/accounts:lookup",n)})}function Ao(e){if(e)try{let n=new Date(Number(e));if(!isNaN(n.getTime()))return n.toUTCString()}catch{}}function J8(e,n=!1){return f(this,null,function*(){let t=Ht(e),r=yield t.getIdToken(n),s=g3(r);b(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");let o=typeof s.firebase=="object"?s.firebase:void 0,i=o?.sign_in_provider;return{claims:s,token:r,authTime:Ao(F4(s.auth_time)),issuedAtTime:Ao(F4(s.iat)),expirationTime:Ao(F4(s.exp)),signInProvider:i||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function F4(e){return Number(e)*1e3}function g3(e){let[n,t,r]=e.split(".");if(n===void 0||t===void 0||r===void 0)return J5("JWT malformed, contained fewer than 3 sections"),null;try{let s=q5(t);return s?JSON.parse(s):(J5("Failed to decode base64 JWT payload"),null)}catch(s){return J5("Caught error parsing JWT payload as JSON",s?.toString()),null}}function E8(e){let n=g3(e);return b(n,"internal-error"),b(typeof n.exp<"u","internal-error"),b(typeof n.iat<"u","internal-error"),Number(n.exp)-Number(n.iat)}function ko(e,n,t=!1){return f(this,null,function*(){if(t)return n;try{return yield n}catch(r){throw r instanceof je&&zS(r)&&e.auth.currentUser===e&&(yield e.auth.signOut()),r}})}function zS({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}var Z4=class{constructor(n){this.user=n,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(n){var t;if(n){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let s=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(n=!1){if(!this.isRunning)return;let t=this.getInterval(n);this.timerId=setTimeout(()=>f(this,null,function*(){yield this.iteration()}),t)}iteration(){return f(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(n){n?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var No=class{constructor(n,t){this.createdAt=n,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ao(this.lastLoginAt),this.creationTime=Ao(this.createdAt)}_copy(n){this.createdAt=n.createdAt,this.lastLoginAt=n.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function ic(e){return f(this,null,function*(){var n;let t=e.auth,r=yield e.getIdToken(),s=yield ko(e,oc(t,{idToken:r}));b(s?.users.length,t,"internal-error");let o=s.users[0];e._notifyReloadListener(o);let i=!((n=o.providerUserInfo)===null||n===void 0)&&n.length?ep(o.providerUserInfo):[],c=yS(e.providerData,i),a=e.isAnonymous,l=!(e.email&&o.passwordHash)&&!c?.length,h=a?l:!1,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new No(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(e,d)})}function X8(e){return f(this,null,function*(){let n=Ht(e);yield ic(n),yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)})}function yS(e,n){return[...e.filter(r=>!n.some(s=>s.providerId===r.providerId)),...n]}function ep(e){return e.map(n=>{var{providerId:t}=n,r=d2(n,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function xS(e,n){return f(this,null,function*(){let t=yield Y8(e,{},()=>f(null,null,function*(){let r=$n({grant_type:"refresh_token",refresh_token:n}).slice(1),{tokenApiHost:s,apiKey:o}=e.config,i=yield K8(e,s,"/v1/token",`key=${o}`),c=yield e._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";let a={method:"POST",headers:c,body:r};return e.emulatorConfig&&Eo(e.emulatorConfig.host)&&(a.credentials="include"),rc.fetch()(i,a)}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function _S(e,n){return f(this,null,function*(){return Ue(e,"POST","/v2/accounts:revokeToken",vt(e,n))})}var Lo=class e{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(n){b(n.idToken,"internal-error"),b(typeof n.idToken<"u","internal-error"),b(typeof n.refreshToken<"u","internal-error");let t="expiresIn"in n&&typeof n.expiresIn<"u"?Number(n.expiresIn):E8(n.idToken);this.updateTokensAndExpiration(n.idToken,n.refreshToken,t)}updateFromIdToken(n){b(n.length!==0,"internal-error");let t=E8(n);this.updateTokensAndExpiration(n,null,t)}getToken(n,t=!1){return f(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(b(this.refreshToken,n,"user-token-expired"),this.refreshToken?(yield this.refresh(n,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(n,t){return f(this,null,function*(){let{accessToken:r,refreshToken:s,expiresIn:o}=yield xS(n,t);this.updateTokensAndExpiration(r,s,Number(o))})}updateTokensAndExpiration(n,t,r){this.refreshToken=t||null,this.accessToken=n||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(n,t){let{refreshToken:r,accessToken:s,expirationTime:o}=t,i=new e;return r&&(b(typeof r=="string","internal-error",{appName:n}),i.refreshToken=r),s&&(b(typeof s=="string","internal-error",{appName:n}),i.accessToken=s),o&&(b(typeof o=="number","internal-error",{appName:n}),i.expirationTime=o),i}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(n){this.accessToken=n.accessToken,this.refreshToken=n.refreshToken,this.expirationTime=n.expirationTime}_clone(){return Object.assign(new e,this.toJSON())}_performRefresh(){return kt("not implemented")}};function an(e,n){b(typeof e=="string"||typeof e>"u","internal-error",{appName:n})}var ln=class e{constructor(n){var{uid:t,auth:r,stsTokenManager:s}=n,o=d2(n,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Z4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new No(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(n){return f(this,null,function*(){let t=yield ko(this,this.stsTokenManager.getToken(this.auth,n));return b(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(n){return J8(this,n)}reload(){return X8(this)}_assign(n){this!==n&&(b(this.uid===n.uid,this.auth,"internal-error"),this.displayName=n.displayName,this.photoURL=n.photoURL,this.email=n.email,this.emailVerified=n.emailVerified,this.phoneNumber=n.phoneNumber,this.isAnonymous=n.isAnonymous,this.tenantId=n.tenantId,this.providerData=n.providerData.map(t=>Object.assign({},t)),this.metadata._copy(n.metadata),this.stsTokenManager._assign(n.stsTokenManager))}_clone(n){let t=new e(Object.assign(Object.assign({},this),{auth:n,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(n){b(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=n,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(n){this.reloadListener?this.reloadListener(n):this.reloadUserInfo=n}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(n,t=!1){return f(this,null,function*(){let r=!1;n.idToken&&n.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(n),r=!0),t&&(yield ic(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return f(this,null,function*(){if(Le(this.auth.app))return Promise.reject(hn(this.auth));let n=yield this.getIdToken();return yield ko(this,MS(this.auth,{idToken:n})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(n=>Object.assign({},n)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(n,t){var r,s,o,i,c,a,l,h;let d=(r=t.displayName)!==null&&r!==void 0?r:void 0,g=(s=t.email)!==null&&s!==void 0?s:void 0,v=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,u=(i=t.photoURL)!==null&&i!==void 0?i:void 0,M=(c=t.tenantId)!==null&&c!==void 0?c:void 0,S=(a=t._redirectEventId)!==null&&a!==void 0?a:void 0,V=(l=t.createdAt)!==null&&l!==void 0?l:void 0,r1=(h=t.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:Z,emailVerified:I1,isAnonymous:re,providerData:He,stsTokenManager:s1}=t;b(Z&&s1,n,"internal-error");let A=Lo.fromJSON(this.name,s1);b(typeof Z=="string",n,"internal-error"),an(d,n.name),an(g,n.name),b(typeof I1=="boolean",n,"internal-error"),b(typeof re=="boolean",n,"internal-error"),an(v,n.name),an(u,n.name),an(M,n.name),an(S,n.name),an(V,n.name),an(r1,n.name);let W1=new e({uid:Z,auth:n,email:g,emailVerified:I1,displayName:d,isAnonymous:re,photoURL:u,phoneNumber:v,tenantId:M,stsTokenManager:A,createdAt:V,lastLoginAt:r1});return He&&Array.isArray(He)&&(W1.providerData=He.map(B1=>Object.assign({},B1))),S&&(W1._redirectEventId=S),W1}static _fromIdTokenResponse(n,t,r=!1){return f(this,null,function*(){let s=new Lo;s.updateFromServerResponse(t);let o=new e({uid:t.localId,auth:n,stsTokenManager:s,isAnonymous:r});return yield ic(o),o})}static _fromGetAccountInfoResponse(n,t,r){return f(this,null,function*(){let s=t.users[0];b(s.localId!==void 0,"internal-error");let o=s.providerUserInfo!==void 0?ep(s.providerUserInfo):[],i=!(s.email&&s.passwordHash)&&!o?.length,c=new Lo;c.updateFromIdToken(r);let a=new e({uid:s.localId,auth:n,stsTokenManager:c,isAnonymous:i}),l={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new No(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!o?.length};return Object.assign(a,l),a})}};var b8=new Map;function Nt(e){Bt(e instanceof Function,"Expected a class definition");let n=b8.get(e);return n?(Bt(n instanceof e,"Instance stored in cache mismatched with class"),n):(n=new e,b8.set(e,n),n)}var RS=(()=>{class e{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return f(this,null,function*(){return!0})}_set(t,r){return f(this,null,function*(){this.storage[t]=r})}_get(t){return f(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return f(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return e.type="NONE",e})(),Y4=RS;function X5(e,n,t){return`firebase:${e}:${n}:${t}`}var cc=class e{constructor(n,t,r){this.persistence=n,this.auth=t,this.userKey=r;let{config:s,name:o}=this.auth;this.fullUserKey=X5(this.userKey,s.apiKey,o),this.fullPersistenceKey=X5("persistence",s.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(n){return this.persistence._set(this.fullUserKey,n.toJSON())}getCurrentUser(){return f(this,null,function*(){let n=yield this.persistence._get(this.fullUserKey);if(!n)return null;if(typeof n=="string"){let t=yield oc(this.auth,{idToken:n}).catch(()=>{});return t?ln._fromGetAccountInfoResponse(this.auth,t,n):null}return ln._fromJSON(this.auth,n)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(n){return f(this,null,function*(){if(this.persistence===n)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=n,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(n,t,r="authUser"){return f(this,null,function*(){if(!t.length)return new e(Nt(Y4),n,r);let s=(yield Promise.all(t.map(l=>f(null,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=s[0]||Nt(Y4),i=X5(r,n.config.apiKey,n.name),c=null;for(let l of t)try{let h=yield l._get(i);if(h){let d;if(typeof h=="string"){let g=yield oc(n,{idToken:h}).catch(()=>{});if(!g)break;d=yield ln._fromGetAccountInfoResponse(n,g,h)}else d=ln._fromJSON(n,h);l!==o&&(c=d),o=l;break}}catch{}let a=s.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!a.length?new e(o,n,r):(o=a[0],c&&(yield o._set(i,c.toJSON())),yield Promise.all(t.map(l=>f(null,null,function*(){if(l!==o)try{yield l._remove(i)}catch{}}))),new e(o,n,r))})}};function D8(e){let n=e.toLowerCase();if(n.includes("opera/")||n.includes("opr/")||n.includes("opios/"))return"Opera";if(sp(n))return"IEMobile";if(n.includes("msie")||n.includes("trident/"))return"IE";if(n.includes("edge/"))return"Edge";if(tp(n))return"Firefox";if(n.includes("silk/"))return"Silk";if(ip(n))return"Blackberry";if(cp(n))return"Webos";if(np(n))return"Safari";if((n.includes("chrome/")||rp(n))&&!n.includes("edge/"))return"Chrome";if(op(n))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=e.match(t);if(r?.length===2)return r[1]}return"Other"}function tp(e=Y1()){return/firefox\//i.test(e)}function np(e=Y1()){let n=e.toLowerCase();return n.includes("safari/")&&!n.includes("chrome/")&&!n.includes("crios/")&&!n.includes("android")}function rp(e=Y1()){return/crios\//i.test(e)}function sp(e=Y1()){return/iemobile/i.test(e)}function op(e=Y1()){return/android/i.test(e)}function ip(e=Y1()){return/blackberry/i.test(e)}function cp(e=Y1()){return/webos/i.test(e)}function f3(e=Y1()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function SS(e=Y1()){var n;return f3(e)&&!!(!((n=window.navigator)===null||n===void 0)&&n.standalone)}function IS(){return o8()&&document.documentMode===10}function ap(e=Y1()){return f3(e)||op(e)||cp(e)||ip(e)||/windows phone/i.test(e)||sp(e)}function lp(e,n=[]){let t;switch(e){case"Browser":t=D8(Y1());break;case"Worker":t=`${D8(Y1())}-${e}`;break;default:t=e}let r=n.length?n.join(","):"FirebaseCore-web";return`${t}/JsCore/${ns}/${r}`}var K4=class{constructor(n){this.auth=n,this.queue=[]}pushCallback(n,t){let r=o=>new Promise((i,c)=>{try{let a=n(o);i(a)}catch(a){c(a)}});r.onAbort=t,this.queue.push(r);let s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}runMiddleware(n){return f(this,null,function*(){if(this.auth.currentUser===n)return;let t=[];try{for(let r of this.queue)yield r(n),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function ES(t){return f(this,arguments,function*(e,n={}){return Ue(e,"GET","/v2/passwordPolicy",vt(e,n))})}var bS=6,Q4=class{constructor(n){var t,r,s,o;let i=n.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=i.minPasswordLength)!==null&&t!==void 0?t:bS,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=n.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=n.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(o=n.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=n.schemaVersion}validatePassword(n){var t,r,s,o,i,c;let a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(n,a),this.validatePasswordCharacterOptions(n,a),a.isValid&&(a.isValid=(t=a.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),a.isValid&&(a.isValid=(r=a.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),a.isValid&&(a.isValid=(s=a.containsLowercaseLetter)!==null&&s!==void 0?s:!0),a.isValid&&(a.isValid=(o=a.containsUppercaseLetter)!==null&&o!==void 0?o:!0),a.isValid&&(a.isValid=(i=a.containsNumericCharacter)!==null&&i!==void 0?i:!0),a.isValid&&(a.isValid=(c=a.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),a}validatePasswordLengthOptions(n,t){let r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=n.length>=r),s&&(t.meetsMaxPasswordLength=n.length<=s)}validatePasswordCharacterOptions(n,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let s=0;s<n.length;s++)r=n.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(n,t,r,s,o){this.customStrengthOptions.containsLowercaseLetter&&(n.containsLowercaseLetter||(n.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(n.containsUppercaseLetter||(n.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(n.containsNumericCharacter||(n.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(n.containsNonAlphanumericCharacter||(n.containsNonAlphanumericCharacter=o))}};var J4=class{constructor(n,t,r,s){this.app=n,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ac(this),this.idTokenSubscription=new ac(this),this.beforeStateQueue=new K4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=G8,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=n.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(n,t){return t&&(this._popupRedirectResolver=Nt(t)),this._initializationPromise=this.queue(()=>f(this,null,function*(){var r,s,o;if(!this._deleted&&(this.persistenceManager=yield cc.create(this,n),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return f(this,null,function*(){if(this._deleted)return;let n=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!n)){if(this.currentUser&&n&&this.currentUser.uid===n.uid){this._currentUser._assign(n),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(n,!0)}})}initializeCurrentUserFromIdToken(n){return f(this,null,function*(){try{let t=yield oc(this,{idToken:n}),r=yield ln._fromGetAccountInfoResponse(this,t,n);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(n){return f(this,null,function*(){var t;if(Le(this.app)){let i=this.app.settings.authIdToken;return i?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(i).then(c,c))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),s=r,o=!1;if(n&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let i=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,c=s?._redirectEventId,a=yield this.tryRedirectSignIn(n);(!i||i===c)&&a?.user&&(s=a.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(s)}catch(i){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(i))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return b(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)})}tryRedirectSignIn(n){return f(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,n,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(n){return f(this,null,function*(){try{yield ic(n)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(n)})}useDeviceLanguage(){this.languageCode=vS()}_delete(){return f(this,null,function*(){this._deleted=!0})}updateCurrentUser(n){return f(this,null,function*(){if(Le(this.app))return Promise.reject(hn(this));let t=n?Ht(n):null;return t&&b(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(n,t=!1){return f(this,null,function*(){if(!this._deleted)return n&&b(this.tenantId===n.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(n)),this.queue(()=>f(this,null,function*(){yield this.directlySetCurrentUser(n),this.notifyAuthListeners()}))})}signOut(){return f(this,null,function*(){return Le(this.app)?Promise.reject(hn(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(n){return Le(this.app)?Promise.reject(hn(this)):this.queue(()=>f(this,null,function*(){yield this.assertedPersistence.setPersistence(Nt(n))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(n){return f(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(n)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return f(this,null,function*(){let n=yield ES(this),t=new Q4(n);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(n){this._errorFactory=new Lt("auth","Firebase",n())}onAuthStateChanged(n,t,r){return this.registerStateListener(this.authStateSubscription,n,t,r)}beforeAuthStateChanged(n,t){return this.beforeStateQueue.pushCallback(n,t)}onIdTokenChanged(n,t,r){return this.registerStateListener(this.idTokenSubscription,n,t,r)}authStateReady(){return new Promise((n,t)=>{if(this.currentUser)n();else{let r=this.onAuthStateChanged(()=>{r(),n()},t)}})}revokeAccessToken(n){return f(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:n,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield _S(this,r)}})}toJSON(){var n;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(n=this._currentUser)===null||n===void 0?void 0:n.toJSON()}}_setRedirectUser(n,t){return f(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return n===null?r.removeCurrentUser():r.setCurrentUser(n)})}getOrInitRedirectPersistenceManager(n){return f(this,null,function*(){if(!this.redirectPersistenceManager){let t=n&&Nt(n)||this._popupRedirectResolver;b(t,this,"argument-error"),this.redirectPersistenceManager=yield cc.create(this,[Nt(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(n){return f(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>f(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===n?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===n?this.redirectUser:null})}_persistUserIfCurrent(n){return f(this,null,function*(){if(n===this.currentUser)return this.queue(()=>f(this,null,function*(){return this.directlySetCurrentUser(n)}))})}_notifyListenersIfCurrent(n){n===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(n=this.currentUser)===null||n===void 0?void 0:n.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(n,t,r,s){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),i=!1,c=this._isInitialized?Promise.resolve():this._initializationPromise;if(b(c,this,"internal-error"),c.then(()=>{i||o(this.currentUser)}),typeof t=="function"){let a=n.addObserver(t,r,s);return()=>{i=!0,a()}}else{let a=n.addObserver(t);return()=>{i=!0,a()}}}directlySetCurrentUser(n){return f(this,null,function*(){this.currentUser&&this.currentUser!==n&&this._currentUser._stopProactiveRefresh(),n&&this.isProactiveRefreshEnabled&&n._startProactiveRefresh(),this.currentUser=n,n?yield this.assertedPersistence.setCurrentUser(n):yield this.assertedPersistence.removeCurrentUser()})}queue(n){return this.operations=this.operations.then(n,n),this.operations}get assertedPersistence(){return b(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(n){!n||this.frameworks.includes(n)||(this.frameworks.push(n),this.frameworks.sort(),this.clientVersion=lp(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return f(this,null,function*(){var n;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(n=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||n===void 0?void 0:n.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let s=yield this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t})}_getAppCheckToken(){return f(this,null,function*(){var n;if(Le(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let t=yield(n=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||n===void 0?void 0:n.getToken();return t?.error&&dS(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function $e(e){return Ht(e)}var ac=class{constructor(n){this.auth=n,this.observer=null,this.addObserver=l8(t=>this.observer=t)}get next(){return b(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var $o={loadJS(){return f(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function DS(e){$o=e}function m3(e){return $o.loadJS(e)}function VS(){return $o.recaptchaV2Script}function AS(){return $o.recaptchaEnterpriseScript}function LS(){return $o.gapiScript}function hp(e){return`__${e}${Math.floor(Math.random()*1e6)}`}var HS=500,TS=6e4,Q5=1e12,X4=class{constructor(n){this.auth=n,this.counter=Q5,this._widgets=new Map}render(n,t){let r=this.counter;return this._widgets.set(r,new n3(n,this.auth.name,t||{})),this.counter++,r}reset(n){var t;let r=n||Q5;(t=this._widgets.get(r))===null||t===void 0||t.delete(),this._widgets.delete(r)}getResponse(n){var t;let r=n||Q5;return((t=this._widgets.get(r))===null||t===void 0?void 0:t.getResponse())||""}execute(n){return f(this,null,function*(){var t;let r=n||Q5;return(t=this._widgets.get(r))===null||t===void 0||t.execute(),""})}},e3=class{constructor(){this.enterprise=new t3}ready(n){n()}execute(n,t){return Promise.resolve("token")}render(n,t){return""}},t3=class{ready(n){n()}execute(n,t){return Promise.resolve("token")}render(n,t){return""}},n3=class{constructor(n,t,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};let s=typeof n=="string"?document.getElementById(n):n;b(s,"argument-error",{appName:t}),this.container=s,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=kS(50);let{callback:n,"expired-callback":t}=this.params;if(n)try{n(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch{}this.isVisible&&this.execute()},TS)},HS))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}};function kS(e){let n=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<e;r++)n.push(t.charAt(Math.floor(Math.random()*t.length)));return n.join("")}var NS="recaptcha-enterprise",Ho="NO_RECAPTCHA",lc=class{constructor(n){this.type=NS,this.auth=$e(n)}verify(n="verify",t=!1){return f(this,null,function*(){function r(o){return f(this,null,function*(){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((i,c)=>f(null,null,function*(){Q8(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(a=>{if(a.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{let l=new sc(a);return o.tenantId==null?o._agentRecaptchaConfig=l:o._tenantRecaptchaConfigs[o.tenantId]=l,i(l.siteKey)}}).catch(a=>{c(a)})}))})}function s(o,i,c){let a=window.grecaptcha;I8(a)?a.enterprise.ready(()=>{a.enterprise.execute(o,{action:n}).then(l=>{i(l)}).catch(()=>{i(Ho)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new e3().execute("siteKey",{action:"verify"}):new Promise((o,i)=>{r(this.auth).then(c=>{if(!t&&I8(window.grecaptcha))s(c,o,i);else{if(typeof window>"u"){i(new Error("RecaptchaVerifier is only supported in browser"));return}let a=AS();a.length!==0&&(a+=c),m3(a).then(()=>{s(c,o,i)}).catch(l=>{i(l)})}}).catch(c=>{i(c)})})})}};function Do(e,n,t,r=!1,s=!1){return f(this,null,function*(){let o=new lc(e),i;if(s)i=Ho;else try{i=yield o.verify(t)}catch{i=yield o.verify(t,!0)}let c=Object.assign({},n);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){let a=c.phoneEnrollmentInfo.phoneNumber,l=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:a,recaptchaToken:l,captchaResponse:i,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){let a=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:a,captchaResponse:i,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return r?Object.assign(c,{captchaResp:i}):Object.assign(c,{captchaResponse:i}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c})}function j4(e,n,t,r,s){return f(this,null,function*(){var o,i;if(s==="EMAIL_PASSWORD_PROVIDER")if(!((o=e._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let c=yield Do(e,n,t,t==="getOobCode");return r(e,c)}else return r(e,n).catch(c=>f(null,null,function*(){if(c.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let a=yield Do(e,n,t,t==="getOobCode");return r(e,a)}else return Promise.reject(c)}));else if(s==="PHONE_PROVIDER")if(!((i=e._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("PHONE_PROVIDER")){let c=yield Do(e,n,t);return r(e,c).catch(a=>f(null,null,function*(){var l;if(((l=e._getRecaptchaConfig())===null||l===void 0?void 0:l.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(a.code==="auth/missing-recaptcha-token"||a.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);let h=yield Do(e,n,t,!1,!0);return r(e,h)}return Promise.reject(a)}))}else{let c=yield Do(e,n,t,!1,!0);return r(e,c)}else return Promise.reject(s+" provider is not supported.")})}function BS(e){return f(this,null,function*(){let n=$e(e),t=yield Q8(n,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new sc(t);n.tenantId==null?n._agentRecaptchaConfig=r:n._tenantRecaptchaConfigs[n.tenantId]=r,r.isAnyProviderEnabled()&&new lc(n).verify()})}function up(e,n){let t=O4(e,"auth");if(t.isInitialized()){let s=t.getImmediate(),o=t.getOptions();if(sn(o,n??{}))return s;pt(s,"already-initialized")}return t.initialize({options:n})}function OS(e,n){let t=n?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Nt);n?.errorMap&&e._updateErrorMap(n.errorMap),e._initializeWithPersistence(r,n?.popupRedirectResolver)}function dp(e,n,t){let r=$e(e);b(/^https?:\/\//.test(n),r,"invalid-emulator-scheme");let s=!!t?.disableWarnings,o=pp(n),{host:i,port:c}=PS(n),a=c===null?"":`:${c}`,l={url:`${o}//${i}${a}/`},h=Object.freeze({host:i,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){b(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),b(sn(l,r.config.emulator)&&sn(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=l,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,Eo(i)?(X6(`${o}//${i}${a}`),e8("Auth",!0)):s||FS()}function pp(e){let n=e.indexOf(":");return n<0?"":e.substr(0,n+1)}function PS(e){let n=pp(e),t=/(\/\/)?([^?#/]+)/.exec(e.substr(n.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){let o=s[1];return{host:o,port:V8(r.substr(o.length+1))}}else{let[o,i]=r.split(":");return{host:o,port:V8(i)}}}function V8(e){if(!e)return null;let n=Number(e);return isNaN(n)?null:n}function FS(){function e(){let n=document.createElement("p"),t=n.style;n.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",n.classList.add("firebase-emulator-warning"),document.body.appendChild(n)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}var ss=class{constructor(n,t){this.providerId=n,this.signInMethod=t}toJSON(){return kt("not implemented")}_getIdTokenResponse(n){return kt("not implemented")}_linkToIdToken(n,t){return kt("not implemented")}_getReauthenticationResolver(n){return kt("not implemented")}};function rs(e,n){return f(this,null,function*(){return gc(e,"POST","/v1/accounts:signInWithIdp",vt(e,n))})}var jS="http://localhost",os=class e extends ss{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(n){let t=new e(n.providerId,n.signInMethod);return n.idToken||n.accessToken?(n.idToken&&(t.idToken=n.idToken),n.accessToken&&(t.accessToken=n.accessToken),n.nonce&&!n.pendingToken&&(t.nonce=n.nonce),n.pendingToken&&(t.pendingToken=n.pendingToken)):n.oauthToken&&n.oauthTokenSecret?(t.accessToken=n.oauthToken,t.secret=n.oauthTokenSecret):pt("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(n){let t=typeof n=="string"?JSON.parse(n):n,{providerId:r,signInMethod:s}=t,o=d2(t,["providerId","signInMethod"]);if(!r||!s)return null;let i=new e(r,s);return i.idToken=o.idToken||void 0,i.accessToken=o.accessToken||void 0,i.secret=o.secret,i.nonce=o.nonce,i.pendingToken=o.pendingToken||null,i}_getIdTokenResponse(n){let t=this.buildRequest();return rs(n,t)}_linkToIdToken(n,t){let r=this.buildRequest();return r.idToken=t,rs(n,r)}_getReauthenticationResolver(n){let t=this.buildRequest();return t.autoCreate=!1,rs(n,t)}buildRequest(){let n={requestUri:jS,returnSecureToken:!0};if(this.pendingToken)n.pendingToken=this.pendingToken;else{let t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),n.postBody=$n(t)}return n}};function A8(e,n){return f(this,null,function*(){return Ue(e,"POST","/v1/accounts:sendVerificationCode",vt(e,n))})}function US(e,n){return f(this,null,function*(){return gc(e,"POST","/v1/accounts:signInWithPhoneNumber",vt(e,n))})}function $S(e,n){return f(this,null,function*(){let t=yield gc(e,"POST","/v1/accounts:signInWithPhoneNumber",vt(e,n));if(t.temporaryProof)throw Vo(e,"account-exists-with-different-credential",t);return t})}var WS={USER_NOT_FOUND:"user-not-found"};function GS(e,n){return f(this,null,function*(){let t=Object.assign(Object.assign({},n),{operation:"REAUTH"});return gc(e,"POST","/v1/accounts:signInWithPhoneNumber",vt(e,t),WS)})}var Bo=class e extends ss{constructor(n){super("phone","phone"),this.params=n}static _fromVerification(n,t){return new e({verificationId:n,verificationCode:t})}static _fromTokenResponse(n,t){return new e({phoneNumber:n,temporaryProof:t})}_getIdTokenResponse(n){return US(n,this._makeVerificationRequest())}_linkToIdToken(n,t){return $S(n,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(n){return GS(n,this._makeVerificationRequest())}_makeVerificationRequest(){let{temporaryProof:n,phoneNumber:t,verificationId:r,verificationCode:s}=this.params;return n&&t?{temporaryProof:n,phoneNumber:t}:{sessionInfo:r,code:s}}toJSON(){let n={providerId:this.providerId};return this.params.phoneNumber&&(n.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(n.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(n.verificationCode=this.params.verificationCode),this.params.verificationId&&(n.verificationId=this.params.verificationId),n}static fromJSON(n){typeof n=="string"&&(n=JSON.parse(n));let{verificationId:t,verificationCode:r,phoneNumber:s,temporaryProof:o}=n;return!r&&!t&&!s&&!o?null:new e({verificationId:t,verificationCode:r,phoneNumber:s,temporaryProof:o})}};var is=class{constructor(n){this.providerId=n,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(n){this.defaultLanguageCode=n}setCustomParameters(n){return this.customParameters=n,this}getCustomParameters(){return this.customParameters}};var Oo=class extends is{constructor(){super(...arguments),this.scopes=[]}addScope(n){return this.scopes.includes(n)||this.scopes.push(n),this}getScopes(){return[...this.scopes]}},Po=class e extends Oo{static credentialFromJSON(n){let t=typeof n=="string"?JSON.parse(n):n;return b("providerId"in t&&"signInMethod"in t,"argument-error"),os._fromParams(t)}credential(n){return this._credential(Object.assign(Object.assign({},n),{nonce:n.rawNonce}))}_credential(n){return b(n.idToken||n.accessToken,"argument-error"),os._fromParams(Object.assign(Object.assign({},n),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(n){return e.oauthCredentialFromTaggedObject(n)}static credentialFromError(n){return e.oauthCredentialFromTaggedObject(n.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:n}){if(!n)return null;let{oauthIdToken:t,oauthAccessToken:r,oauthTokenSecret:s,pendingToken:o,nonce:i,providerId:c}=n;if(!r&&!s&&!t&&!o||!c)return null;try{return new e(c)._credential({idToken:t,accessToken:r,nonce:i,pendingToken:o})}catch{return null}}};var w3=(()=>{class e extends Oo{constructor(){super("google.com"),this.addScope("profile")}static credential(t,r){return os._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:r})}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;let{oauthIdToken:r,oauthAccessToken:s}=t;if(!r&&!s)return null;try{return e.credential(r,s)}catch{return null}}}e.GOOGLE_SIGN_IN_METHOD="google.com",e.PROVIDER_ID="google.com";return e})();var Fo=class e{constructor(n){this.user=n.user,this.providerId=n.providerId,this._tokenResponse=n._tokenResponse,this.operationType=n.operationType}static _fromIdTokenResponse(n,t,r,s=!1){return f(this,null,function*(){let o=yield ln._fromIdTokenResponse(n,r,s),i=L8(r);return new e({user:o,providerId:i,_tokenResponse:r,operationType:t})})}static _forOperation(n,t,r){return f(this,null,function*(){yield n._updateTokensIfNecessary(r,!0);let s=L8(r);return new e({user:n,providerId:s,_tokenResponse:r,operationType:t})})}};function L8(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}var r3=class e extends je{constructor(n,t,r,s){var o;super(t.code,t.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,e.prototype),this.customData={appName:n.name,tenantId:(o=n.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(n,t,r,s){return new e(n,t,r,s)}};function vp(e,n,t,r){return(n==="reauthenticate"?t._getReauthenticationResolver(e):t._getIdTokenResponse(e)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?r3._fromErrorAndOperation(e,o,n,r):o})}function qS(e,n,t=!1){return f(this,null,function*(){let r=yield ko(e,n._linkToIdToken(e.auth,yield e.getIdToken()),t);return Fo._forOperation(e,"link",r)})}function ZS(e,n,t=!1){return f(this,null,function*(){let{auth:r}=e;if(Le(r.app))return Promise.reject(hn(r));let s="reauthenticate";try{let o=yield ko(e,vp(r,s,n,e),t);b(o.idToken,r,"internal-error");let i=g3(o.idToken);b(i,r,"internal-error");let{sub:c}=i;return b(e.uid===c,r,"user-mismatch"),Fo._forOperation(e,s,o)}catch(o){throw o?.code==="auth/user-not-found"&&pt(r,"user-mismatch"),o}})}function gp(e,n,t=!1){return f(this,null,function*(){if(Le(e.app))return Promise.reject(hn(e));let r="signIn",s=yield vp(e,r,n),o=yield Fo._fromIdTokenResponse(e,r,s);return t||(yield e._updateCurrentUser(o.user)),o})}function C3(e,n){return f(this,null,function*(){return gp($e(e),n)})}function fp(e,n,t,r){return Ht(e).onIdTokenChanged(n,t,r)}function mp(e,n,t){return Ht(e).beforeAuthStateChanged(n,t)}function M3(e,n,t,r){return Ht(e).onAuthStateChanged(n,t,r)}function H8(e,n){return Ue(e,"POST","/v2/accounts/mfaEnrollment:start",vt(e,n))}var hc="__sak";var uc=class{constructor(n,t){this.storageRetriever=n,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(hc,"1"),this.storage.removeItem(hc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(n,t){return this.storage.setItem(n,JSON.stringify(t)),Promise.resolve()}_get(n){let t=this.storage.getItem(n);return Promise.resolve(t?JSON.parse(t):null)}_remove(n){return this.storage.removeItem(n),Promise.resolve()}get storage(){return this.storageRetriever()}};var YS=1e3,KS=10,QS=(()=>{class e extends uc{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ap(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let r of Object.keys(this.listeners)){let s=this.storage.getItem(r),o=this.localCache[r];s!==o&&t(r,o,s)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((c,a,l)=>{this.notifyListeners(c,l)});return}let s=t.key;r?this.detachListener():this.stopPolling();let o=()=>{let c=this.storage.getItem(s);!r&&this.localCache[s]===c||this.notifyListeners(s,c)},i=this.storage.getItem(s);IS()&&i!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,KS):o()}notifyListeners(t,r){this.localCache[t]=r;let s=this.listeners[t];if(s)for(let o of Array.from(s))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:s}),!0)})},YS)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(t,r){return f(this,null,function*(){yield dn(e.prototype,this,"_set").call(this,t,r),this.localCache[t]=JSON.stringify(r)})}_get(t){return f(this,null,function*(){let r=yield dn(e.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(r),r})}_remove(t){return f(this,null,function*(){yield dn(e.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}return e.type="LOCAL",e})(),wp=QS;var JS=(()=>{class e extends uc{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return e.type="SESSION",e})(),z3=JS;function XS(e){return Promise.all(e.map(n=>f(null,null,function*(){try{return{fulfilled:!0,value:yield n}}catch(t){return{fulfilled:!1,reason:t}}})))}var eI=(()=>{class e{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let r=this.receivers.find(o=>o.isListeningto(t));if(r)return r;let s=new e(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}handleEvent(t){return f(this,null,function*(){let r=t,{eventId:s,eventType:o,data:i}=r.data,c=this.handlersMap[o];if(!c?.size)return;r.ports[0].postMessage({status:"ack",eventId:s,eventType:o});let a=Array.from(c).map(h=>f(this,null,function*(){return h(r.origin,i)})),l=yield XS(a);r.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:l})})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}e.receivers=[];return e})();function y3(e="",n=10){let t="";for(let r=0;r<n;r++)t+=Math.floor(Math.random()*10);return e+t}var s3=class{constructor(n){this.target=n,this.handlers=new Set}removeMessageHandler(n){n.messageChannel&&(n.messageChannel.port1.removeEventListener("message",n.onMessage),n.messageChannel.port1.close()),this.handlers.delete(n)}_send(n,t,r=50){return f(this,null,function*(){let s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,i;return new Promise((c,a)=>{let l=y3("",20);s.port1.start();let h=setTimeout(()=>{a(new Error("unsupported_event"))},r);i={messageChannel:s,onMessage(d){let g=d;if(g.data.eventId===l)switch(g.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{a(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(g.data.response);break;default:clearTimeout(h),clearTimeout(o),a(new Error("invalid_response"));break}}},this.handlers.add(i),s.port1.addEventListener("message",i.onMessage),this.target.postMessage({eventType:n,eventId:l,data:t},[s.port2])}).finally(()=>{i&&this.removeMessageHandler(i)})})}};function V1(){return window}function tI(e){V1().location.href=e}function x3(){return typeof V1().WorkerGlobalScope<"u"&&typeof V1().importScripts=="function"}function nI(){return f(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function rI(){var e;return((e=navigator?.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function sI(){return x3()?self:null}var Cp="firebaseLocalStorageDb",oI=1,dc="firebaseLocalStorage",Mp="fbase_key",qn=class{constructor(n){this.request=n}toPromise(){return new Promise((n,t)=>{this.request.addEventListener("success",()=>{n(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function fc(e,n){return e.transaction([dc],n?"readwrite":"readonly").objectStore(dc)}function iI(){let e=indexedDB.deleteDatabase(Cp);return new qn(e).toPromise()}function o3(){let e=indexedDB.open(Cp,oI);return new Promise((n,t)=>{e.addEventListener("error",()=>{t(e.error)}),e.addEventListener("upgradeneeded",()=>{let r=e.result;try{r.createObjectStore(dc,{keyPath:Mp})}catch(s){t(s)}}),e.addEventListener("success",()=>f(null,null,function*(){let r=e.result;r.objectStoreNames.contains(dc)?n(r):(r.close(),yield iI(),n(yield o3()))}))})}function T8(e,n,t){return f(this,null,function*(){let r=fc(e,!0).put({[Mp]:n,value:t});return new qn(r).toPromise()})}function cI(e,n){return f(this,null,function*(){let t=fc(e,!1).get(n),r=yield new qn(t).toPromise();return r===void 0?null:r.value})}function k8(e,n){let t=fc(e,!0).delete(n);return new qn(t).toPromise()}var aI=800,lI=3,hI=(()=>{class e{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return f(this,null,function*(){return this.db?this.db:(this.db=yield o3(),this.db)})}_withRetries(t){return f(this,null,function*(){let r=0;for(;;)try{let s=yield this._openDb();return yield t(s)}catch(s){if(r++>lI)throw s;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return f(this,null,function*(){return x3()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return f(this,null,function*(){this.receiver=eI._getInstance(sI()),this.receiver._subscribe("keyChanged",(t,r)=>f(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(t,r)=>f(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return f(this,null,function*(){var t,r;if(this.activeServiceWorker=yield nI(),!this.activeServiceWorker)return;this.sender=new s3(this.activeServiceWorker);let s=yield this.sender._send("ping",{},800);s&&!((t=s[0])===null||t===void 0)&&t.fulfilled&&!((r=s[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return f(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||rI()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return f(this,null,function*(){try{if(!indexedDB)return!1;let t=yield o3();return yield T8(t,hc,"1"),yield k8(t,hc),!0}catch{}return!1})}_withPendingWrite(t){return f(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,r){return f(this,null,function*(){return this._withPendingWrite(()=>f(this,null,function*(){return yield this._withRetries(s=>T8(s,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)}))})}_get(t){return f(this,null,function*(){let r=yield this._withRetries(s=>cI(s,t));return this.localCache[t]=r,r})}_remove(t){return f(this,null,function*(){return this._withPendingWrite(()=>f(this,null,function*(){return yield this._withRetries(r=>k8(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return f(this,null,function*(){let t=yield this._withRetries(o=>{let i=fc(o,!1).getAll();return new qn(i).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let r=[],s=new Set;if(t.length!==0)for(let{fbase_key:o,value:i}of t)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(i)&&(this.notifyListeners(o,i),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(t,r){this.localCache[t]=r;let s=this.listeners[t];if(s)for(let o of Array.from(s))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>f(this,null,function*(){return this._poll()}),aI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return e.type="LOCAL",e})(),zp=hI;function N8(e,n){return Ue(e,"POST","/v2/accounts/mfaSignIn:start",vt(e,n))}var U4=hp("rcb"),uI=new Gn(3e4,6e4),i3=class{constructor(){var n;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((n=V1().grecaptcha)===null||n===void 0)&&n.render)}load(n,t=""){return b(dI(t),n,"argument-error"),this.shouldResolveImmediately(t)&&S8(V1().grecaptcha)?Promise.resolve(V1().grecaptcha):new Promise((r,s)=>{let o=V1().setTimeout(()=>{s(ve(n,"network-request-failed"))},uI.get());V1()[U4]=()=>{V1().clearTimeout(o),delete V1()[U4];let c=V1().grecaptcha;if(!c||!S8(c)){s(ve(n,"internal-error"));return}let a=c.render;c.render=(l,h)=>{let d=a(l,h);return this.counter++,d},this.hostLanguage=t,r(c)};let i=`${VS()}?${$n({onload:U4,render:"explicit",hl:t})}`;m3(i).catch(()=>{clearTimeout(o),s(ve(n,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(n){var t;return!!(!((t=V1().grecaptcha)===null||t===void 0)&&t.render)&&(n===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}};function dI(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}var c3=class{load(n){return f(this,null,function*(){return new X4(n)})}clearedOneInstance(){}};var To="recaptcha",pI={theme:"light",type:"image"},jo=class{constructor(n,t,r=Object.assign({},pI)){this.parameters=r,this.type=To,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=$e(n),this.isInvisible=this.parameters.size==="invisible",b(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");let s=typeof t=="string"?document.getElementById(t):t;b(s,this.auth,"argument-error"),this.container=s,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new c3:new i3,this.validateStartingState()}verify(){return f(this,null,function*(){this.assertNotDestroyed();let n=yield this.render(),t=this.getAssertedRecaptcha(),r=t.getResponse(n);return r||new Promise(s=>{let o=i=>{i&&(this.tokenChangeListeners.delete(o),s(i))};this.tokenChangeListeners.add(o),this.isInvisible&&t.execute(n)})})}render(){try{this.assertNotDestroyed()}catch(n){return Promise.reject(n)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(n=>{throw this.renderPromise=null,n}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(n=>{this.container.removeChild(n)})}validateStartingState(){b(!this.parameters.sitekey,this.auth,"argument-error"),b(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),b(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(n){return t=>{if(this.tokenChangeListeners.forEach(r=>r(t)),typeof n=="function")n(t);else if(typeof n=="string"){let r=V1()[n];typeof r=="function"&&r(t)}}}assertNotDestroyed(){b(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){return f(this,null,function*(){if(yield this.init(),!this.widgetId){let n=this.container;if(!this.isInvisible){let t=document.createElement("div");n.appendChild(t),n=t}this.widgetId=this.getAssertedRecaptcha().render(n,this.parameters)}return this.widgetId})}init(){return f(this,null,function*(){b(Z8()&&!x3(),this.auth,"internal-error"),yield vI(),this.recaptcha=yield this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);let n=yield CS(this.auth);b(n,this.auth,"internal-error"),this.parameters.sitekey=n})}getAssertedRecaptcha(){return b(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function vI(){let e=null;return new Promise(n=>{if(document.readyState==="complete"){n();return}e=()=>n(),window.addEventListener("load",e)}).catch(n=>{throw e&&window.removeEventListener("load",e),n})}function gI(e,n,t){return f(this,null,function*(){var r;if(!e._getRecaptchaConfig())try{yield BS(e)}catch{console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let s;if(typeof n=="string"?s={phoneNumber:n}:s=n,"session"in s){let o=s.session;if("phoneNumber"in s){b(o.type==="enroll",e,"internal-error");let i={idToken:o.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,clientType:"CLIENT_TYPE_WEB"}};return(yield j4(e,i,"mfaSmsEnrollment",(h,d)=>f(null,null,function*(){if(d.phoneEnrollmentInfo.captchaResponse===Ho){b(t?.type===To,h,"argument-error");let g=yield $4(h,d,t);return H8(h,g)}return H8(h,d)}),"PHONE_PROVIDER").catch(h=>Promise.reject(h))).phoneSessionInfo.sessionInfo}else{b(o.type==="signin",e,"internal-error");let i=((r=s.multiFactorHint)===null||r===void 0?void 0:r.uid)||s.multiFactorUid;b(i,e,"missing-multi-factor-info");let c={mfaPendingCredential:o.credential,mfaEnrollmentId:i,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}};return(yield j4(e,c,"mfaSmsSignIn",(d,g)=>f(null,null,function*(){if(g.phoneSignInInfo.captchaResponse===Ho){b(t?.type===To,d,"argument-error");let v=yield $4(d,g,t);return N8(d,v)}return N8(d,g)}),"PHONE_PROVIDER").catch(d=>Promise.reject(d))).phoneResponseInfo.sessionInfo}}else{let o={phoneNumber:s.phoneNumber,clientType:"CLIENT_TYPE_WEB"};return(yield j4(e,o,"sendVerificationCode",(l,h)=>f(null,null,function*(){if(h.captchaResponse===Ho){b(t?.type===To,l,"argument-error");let d=yield $4(l,h,t);return A8(l,d)}return A8(l,h)}),"PHONE_PROVIDER").catch(l=>Promise.reject(l))).sessionInfo}}finally{t?._reset()}})}function $4(e,n,t){return f(this,null,function*(){b(t.type===To,e,"argument-error");let r=yield t.verify();b(typeof r=="string",e,"argument-error");let s=Object.assign({},n);if("phoneEnrollmentInfo"in s){let o=s.phoneEnrollmentInfo.phoneNumber,i=s.phoneEnrollmentInfo.captchaResponse,c=s.phoneEnrollmentInfo.clientType,a=s.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(s,{phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r,captchaResponse:i,clientType:c,recaptchaVersion:a}}),s}else if("phoneSignInInfo"in s){let o=s.phoneSignInInfo.captchaResponse,i=s.phoneSignInInfo.clientType,c=s.phoneSignInInfo.recaptchaVersion;return Object.assign(s,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:o,clientType:i,recaptchaVersion:c}}),s}else return Object.assign(s,{recaptchaToken:r}),s})}var mc=(()=>{class e{constructor(t){this.providerId=e.PROVIDER_ID,this.auth=$e(t)}verifyPhoneNumber(t,r){return gI(this.auth,t,Ht(r))}static credential(t,r){return Bo._fromVerification(t,r)}static credentialFromResult(t){let r=t;return e.credentialFromTaggedObject(r)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;let{phoneNumber:r,temporaryProof:s}=t;return r&&s?Bo._fromTokenResponse(r,s):null}}e.PROVIDER_ID="phone",e.PHONE_SIGN_IN_METHOD="phone";return e})();function _3(e,n){return n?Nt(n):(b(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}var Uo=class extends ss{constructor(n){super("custom","custom"),this.params=n}_getIdTokenResponse(n){return rs(n,this._buildIdpRequest())}_linkToIdToken(n,t){return rs(n,this._buildIdpRequest(t))}_getReauthenticationResolver(n){return rs(n,this._buildIdpRequest())}_buildIdpRequest(n){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return n&&(t.idToken=n),t}};function fI(e){return gp(e.auth,new Uo(e),e.bypassAuthState)}function mI(e){let{auth:n,user:t}=e;return b(t,n,"internal-error"),ZS(t,new Uo(e),e.bypassAuthState)}function wI(e){return f(this,null,function*(){let{auth:n,user:t}=e;return b(t,n,"internal-error"),qS(t,new Uo(e),e.bypassAuthState)})}var pc=class{constructor(n,t,r,s,o=!1){this.auth=n,this.resolver=r,this.user=s,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((n,t)=>f(this,null,function*(){this.pendingPromise={resolve:n,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(n){return f(this,null,function*(){let{urlResponse:t,sessionId:r,postBody:s,tenantId:o,error:i,type:c}=n;if(i){this.reject(i);return}let a={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(c)(a))}catch(l){this.reject(l)}})}onError(n){this.reject(n)}getIdpTask(n){switch(n){case"signInViaPopup":case"signInViaRedirect":return fI;case"linkViaPopup":case"linkViaRedirect":return wI;case"reauthViaPopup":case"reauthViaRedirect":return mI;default:pt(this.auth,"internal-error")}}resolve(n){Bt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(n),this.unregisterAndCleanUp()}reject(n){Bt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(n),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var CI=new Gn(2e3,1e4);function wc(e,n,t){return f(this,null,function*(){if(Le(e.app))return Promise.reject(ve(e,"operation-not-supported-in-this-environment"));let r=$e(e);q8(e,n,is);let s=_3(r,t);return new MI(r,"signInViaPopup",n,s).executeNotNull()})}var MI=(()=>{class e extends pc{constructor(t,r,s,o,i){super(t,r,o,i),this.provider=s,this.authWindow=null,this.pollId=null,e.currentPopupAction&&e.currentPopupAction.cancel(),e.currentPopupAction=this}executeNotNull(){return f(this,null,function*(){let t=yield this.execute();return b(t,this.auth,"internal-error"),t})}onExecution(){return f(this,null,function*(){Bt(this.filter.length===1,"Popup operations only handle one event");let t=y3();this.authWindow=yield this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(ve(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()})}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(ve(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,e.currentPopupAction=null}pollUserCancellation(){let t=()=>{var r,s;if(!((s=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ve(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,CI.get())};t()}}e.currentPopupAction=null;return e})(),zI="pendingRedirect",ec=new Map,a3=class e extends pc{constructor(n,t,r=!1){super(n,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){return f(this,null,function*(){let n=ec.get(this.auth._key());if(!n){try{let r=(yield yI(this.resolver,this.auth))?yield dn(e.prototype,this,"execute").call(this):null;n=()=>Promise.resolve(r)}catch(t){n=()=>Promise.reject(t)}ec.set(this.auth._key(),n)}return this.bypassAuthState||ec.set(this.auth._key(),()=>Promise.resolve(null)),n()})}onAuthEvent(n){return f(this,null,function*(){if(n.type==="signInViaRedirect")return dn(e.prototype,this,"onAuthEvent").call(this,n);if(n.type==="unknown"){this.resolve(null);return}if(n.eventId){let t=yield this.auth._redirectUserForId(n.eventId);if(t)return this.user=t,dn(e.prototype,this,"onAuthEvent").call(this,n);this.resolve(null)}})}onExecution(){return f(this,null,function*(){})}cleanUp(){}};function yI(e,n){return f(this,null,function*(){let t=xp(n),r=yp(e);if(!(yield r._isAvailable()))return!1;let s=(yield r._get(t))==="true";return yield r._remove(t),s})}function xI(e,n){return f(this,null,function*(){return yp(e)._set(xp(n),"true")})}function _I(e,n){ec.set(e._key(),n)}function yp(e){return Nt(e._redirectPersistence)}function xp(e){return X5(zI,e.config.apiKey,e.name)}function R3(e,n,t){return RI(e,n,t)}function RI(e,n,t){return f(this,null,function*(){if(Le(e.app))return Promise.reject(hn(e));let r=$e(e);q8(e,n,is),yield r._initializationPromise;let s=_3(r,t);return yield xI(s,r),s._openRedirect(r,n,"signInViaRedirect")})}function S3(e,n){return f(this,null,function*(){return yield $e(e)._initializationPromise,_p(e,n,!1)})}function _p(e,n,t=!1){return f(this,null,function*(){if(Le(e.app))return Promise.reject(hn(e));let r=$e(e),s=_3(r,n),i=yield new a3(r,s,t).execute();return i&&!t&&(delete i.user._redirectEventId,yield r._persistUserIfCurrent(i.user),yield r._setRedirectUser(null,n)),i})}var SI=10*60*1e3,l3=class{constructor(n){this.auth=n,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(n){this.consumers.add(n),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,n)&&(this.sendToConsumer(this.queuedRedirectEvent,n),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(n){this.consumers.delete(n)}onEvent(n){if(this.hasEventBeenHandled(n))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(n,r)&&(t=!0,this.sendToConsumer(n,r),this.saveEventToCache(n))}),this.hasHandledPotentialRedirect||!II(n)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=n,t=!0)),t}sendToConsumer(n,t){var r;if(n.error&&!Rp(n)){let s=((r=n.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(ve(this.auth,s))}else t.onAuthEvent(n)}isEventForConsumer(n,t){let r=t.eventId===null||!!n.eventId&&n.eventId===t.eventId;return t.filter.includes(n.type)&&r}hasEventBeenHandled(n){return Date.now()-this.lastProcessedEventTime>=SI&&this.cachedEventUids.clear(),this.cachedEventUids.has(B8(n))}saveEventToCache(n){this.cachedEventUids.add(B8(n)),this.lastProcessedEventTime=Date.now()}};function B8(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(n=>n).join("-")}function Rp({type:e,error:n}){return e==="unknown"&&n?.code==="auth/no-auth-event"}function II(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Rp(e);default:return!1}}function EI(t){return f(this,arguments,function*(e,n={}){return Ue(e,"GET","/v1/projects",n)})}var bI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,DI=/^https?/;function VI(e){return f(this,null,function*(){if(e.config.emulator)return;let{authorizedDomains:n}=yield EI(e);for(let t of n)try{if(AI(t))return}catch{}pt(e,"unauthorized-domain")})}function AI(e){let n=G4(),{protocol:t,hostname:r}=new URL(n);if(e.startsWith("chrome-extension://")){let i=new URL(e);return i.hostname===""&&r===""?t==="chrome-extension:"&&e.replace("chrome-extension://","")===n.replace("chrome-extension://",""):t==="chrome-extension:"&&i.hostname===r}if(!DI.test(t))return!1;if(bI.test(e))return r===e;let s=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}var LI=new Gn(3e4,6e4);function O8(){let e=V1().___jsl;if(e?.H){for(let n of Object.keys(e.H))if(e.H[n].r=e.H[n].r||[],e.H[n].L=e.H[n].L||[],e.H[n].r=[...e.H[n].L],e.CP)for(let t=0;t<e.CP.length;t++)e.CP[t]=null}}function HI(e){return new Promise((n,t)=>{var r,s,o;function i(){O8(),gapi.load("gapi.iframes",{callback:()=>{n(gapi.iframes.getContext())},ontimeout:()=>{O8(),t(ve(e,"network-request-failed"))},timeout:LI.get()})}if(!((s=(r=V1().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)n(gapi.iframes.getContext());else if(!((o=V1().gapi)===null||o===void 0)&&o.load)i();else{let c=hp("iframefcb");return V1()[c]=()=>{gapi.load?i():t(ve(e,"network-request-failed"))},m3(`${LS()}?onload=${c}`).catch(a=>t(a))}}).catch(n=>{throw tc=null,n})}var tc=null;function TI(e){return tc=tc||HI(e),tc}var kI=new Gn(5e3,15e3),NI="__/auth/iframe",BI="emulator/auth/iframe",OI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},PI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function FI(e){let n=e.config;b(n.authDomain,e,"auth-domain-config-required");let t=n.emulator?v3(n,BI):`https://${e.config.authDomain}/${NI}`,r={apiKey:n.apiKey,appName:e.name,v:ns},s=PI.get(e.config.apiHost);s&&(r.eid=s);let o=e._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${$n(r).slice(1)}`}function jI(e){return f(this,null,function*(){let n=yield TI(e),t=V1().gapi;return b(t,e,"internal-error"),n.open({where:document.body,url:FI(e),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:OI,dontclear:!0},r=>new Promise((s,o)=>f(null,null,function*(){yield r.restyle({setHideOnLeave:!1});let i=ve(e,"network-request-failed"),c=V1().setTimeout(()=>{o(i)},kI.get());function a(){V1().clearTimeout(c),s(r)}r.ping(a).then(a,()=>{o(i)})})))})}var UI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},$I=500,WI=600,GI="_blank",qI="http://localhost",vc=class{constructor(n){this.window=n,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function ZI(e,n,t,r=$I,s=WI){let o=Math.max((window.screen.availHeight-s)/2,0).toString(),i=Math.max((window.screen.availWidth-r)/2,0).toString(),c="",a=Object.assign(Object.assign({},UI),{width:r.toString(),height:s.toString(),top:o,left:i}),l=Y1().toLowerCase();t&&(c=rp(l)?GI:t),tp(l)&&(n=n||qI,a.scrollbars="yes");let h=Object.entries(a).reduce((g,[v,u])=>`${g}${v}=${u},`,"");if(SS(l)&&c!=="_self")return YI(n||"",c),new vc(null);let d=window.open(n||"",c,h);b(d,e,"popup-blocked");try{d.focus()}catch{}return new vc(d)}function YI(e,n){let t=document.createElement("a");t.href=e,t.target=n;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var KI="__/auth/handler",QI="emulator/auth/handler",JI=encodeURIComponent("fac");function P8(e,n,t,r,s,o){return f(this,null,function*(){b(e.config.authDomain,e,"auth-domain-config-required"),b(e.config.apiKey,e,"invalid-api-key");let i={apiKey:e.config.apiKey,appName:e.name,authType:t,redirectUrl:r,v:ns,eventId:s};if(n instanceof is){n.setDefaultLanguage(e.languageCode),i.providerId=n.providerId||"",a8(n.getCustomParameters())||(i.customParameters=JSON.stringify(n.getCustomParameters()));for(let[h,d]of Object.entries(o||{}))i[h]=d}if(n instanceof Oo){let h=n.getScopes().filter(d=>d!=="");h.length>0&&(i.scopes=h.join(","))}e.tenantId&&(i.tid=e.tenantId);let c=i;for(let h of Object.keys(c))c[h]===void 0&&delete c[h];let a=yield e._getAppCheckToken(),l=a?`#${JI}=${encodeURIComponent(a)}`:"";return`${XI(e)}?${$n(c).slice(1)}${l}`})}function XI({config:e}){return e.emulator?v3(e,QI):`https://${e.authDomain}/${KI}`}var W4="webStorageSupport",h3=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=z3,this._completeRedirectFn=_p,this._overrideRedirectResult=_I}_openPopup(n,t,r,s){return f(this,null,function*(){var o;Bt((o=this.eventManagers[n._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let i=yield P8(n,t,r,G4(),s);return ZI(n,i,y3())})}_openRedirect(n,t,r,s){return f(this,null,function*(){yield this._originValidation(n);let o=yield P8(n,t,r,G4(),s);return tI(o),new Promise(()=>{})})}_initialize(n){let t=n._key();if(this.eventManagers[t]){let{manager:s,promise:o}=this.eventManagers[t];return s?Promise.resolve(s):(Bt(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(n);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(n){return f(this,null,function*(){let t=yield jI(n),r=new l3(n);return t.register("authEvent",s=>(b(s?.authEvent,n,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[n._key()]={manager:r},this.iframes[n._key()]=t,r})}_isIframeWebStorageSupported(n,t){this.iframes[n._key()].send(W4,{type:W4},s=>{var o;let i=(o=s?.[0])===null||o===void 0?void 0:o[W4];i!==void 0&&t(!!i),pt(n,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(n){let t=n._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=VI(n)),this.originValidationPromises[t]}get _shouldInitProactively(){return ap()||np()||f3()}},Sp=h3;var F8="@firebase/auth",j8="1.10.8";var u3=class{constructor(n){this.auth=n,this.internalListeners=new Map}getUid(){var n;return this.assertAuthConfigured(),((n=this.auth.currentUser)===null||n===void 0?void 0:n.uid)||null}getToken(n){return f(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(n)}:null})}addAuthTokenListener(n){if(this.assertAuthConfigured(),this.internalListeners.has(n))return;let t=this.auth.onIdTokenChanged(r=>{n(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(n,t),this.updateProactiveRefresh()}removeAuthTokenListener(n){this.assertAuthConfigured();let t=this.internalListeners.get(n);t&&(this.internalListeners.delete(n),t(),this.updateProactiveRefresh())}assertAuthConfigured(){b(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function eE(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function tE(e){ts(new ut("auth",(n,{options:t})=>{let r=n.getProvider("app").getImmediate(),s=n.getProvider("heartbeat"),o=n.getProvider("app-check-internal"),{apiKey:i,authDomain:c}=r.options;b(i&&!i.includes(":"),"invalid-api-key",{appName:r.name});let a={apiKey:i,authDomain:c,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:lp(e)},l=new J4(r,s,o,a);return OS(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,r)=>{n.getProvider("auth-internal").initialize()})),ts(new ut("auth-internal",n=>{let t=$e(n.getProvider("auth").getImmediate());return(r=>new u3(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),cn(F8,j8,eE(e)),cn(F8,j8,"esm2017")}var nE=5*60,rE=_4("authIdTokenMaxAge")||nE,U8=null,sE=e=>n=>f(null,null,function*(){let t=n&&(yield n.getIdTokenResult()),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>rE)return;let s=t?.token;U8!==s&&(U8=s,yield fetch(e,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))});function Wo(e=y8()){let n=O4(e,"auth");if(n.isInitialized())return n.getImmediate();let t=up(e,{popupRedirectResolver:Sp,persistence:[zp,wp,z3]}),r=_4("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let i=sE(o.toString());mp(t,i,()=>i(t.currentUser)),fp(t,c=>i(c))}}let s=J6("auth");return s&&dp(t,`http://${s}`),t}function oE(){var e,n;return(n=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&n!==void 0?n:document}DS({loadJS(e){return new Promise((n,t)=>{let r=document.createElement("script");r.setAttribute("src",e),r.onload=n,r.onerror=s=>{let o=ve("internal-error");o.customData=s,t(o)},r.type="text/javascript",r.charset="UTF-8",oE().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});tE("Browser");var iE={apiKey:"AIzaSyCbMbRabJtR-6thij8RMlYUyK6hS6a-XmQ",authDomain:"barsac-app-793fe.firebaseapp.com",projectId:"barsac-app-793fe",appId:"1:118857433538:web:e84e6b1fa82fae474a965b"},un=class e{app=P4(iE);auth=Wo(this.app);signInWithGoogle(){return f(this,null,function*(){let n=new w3;return wc(this.auth,n)})}signInWithApple(){return f(this,null,function*(){let n=new Po("apple.com");return/iPhone|iPad|iPod|Macintosh/.test(navigator.userAgent)?(yield R3(this.auth,n),null):wc(this.auth,n)})}signInWithPhone(n,t){return f(this,null,function*(){return yield new mc(this.auth).verifyPhoneNumber(n,t)})}signInWithPhoneCode(n,t){return f(this,null,function*(){let r=mc.credential(n,t);return C3(this.auth,r)})}get currentUser(){return this.auth.currentUser}signOut(){return f(this,null,function*(){return this.auth.signOut()})}getIdToken(){return f(this,null,function*(){return this.auth.currentUser?yield this.auth.currentUser.getIdToken():null})}static \u0275fac=function(t){return new(t||e)};static \u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})};var p=function(e){return e.SEPARATOR="separator",e.PERCENT="percent",e.IP="IP",e.CPF_CNPJ="CPF_CNPJ",e.MONTH="M",e.MONTHS="M0",e.MINUTE="m",e.HOUR="h",e.HOURS="H",e.MINUTES="m0",e.HOURS_HOUR="Hh",e.SECONDS="s0",e.HOURS_MINUTES_SECONDS="Hh:m0:s0",e.EMAIL_MASK="A*@A*.A*",e.HOURS_MINUTES="Hh:m0",e.MINUTES_SECONDS="m0:s0",e.DAYS_MONTHS_YEARS="d0/M0/0000",e.DAYS_MONTHS="d0/M0",e.DAYS="d0",e.DAY="d",e.SECOND="s",e.LETTER_S="S",e.DOT=".",e.COMMA=",",e.CURLY_BRACKETS_LEFT="{",e.CURLY_BRACKETS_RIGHT="}",e.MINUS="-",e.OR="||",e.HASH="#",e.EMPTY_STRING="",e.SYMBOL_STAR="*",e.SYMBOL_QUESTION="?",e.SLASH="/",e.WHITE_SPACE=" ",e.NUMBER_ZERO="0",e.NUMBER_NINE="9",e.BACKSPACE="Backspace",e.DELETE="Delete",e.ARROW_LEFT="ArrowLeft",e.ARROW_UP="ArrowUp",e.DOUBLE_ZERO="00",e}(p||{}),Cc=new R("ngx-mask config"),Ip=new R("new ngx-mask config"),Ep=new R("initial ngx-mask config"),aE={suffix:"",prefix:"",thousandSeparator:" ",decimalMarker:[".",","],clearIfNotMatch:!1,showMaskTyped:!1,instantPrefix:!1,placeHolderCharacter:"_",dropSpecialCharacters:!0,hiddenInput:!1,shownMaskExpression:"",separatorLimit:"",allowNegativeNumbers:!1,validation:!0,specialCharacters:["-","/","(",")",".",":"," ","+",",","@","[","]",'"',"'"],leadZeroDateTime:!1,apm:!1,leadZero:!1,keepCharacterPositions:!1,triggerOnMaskChange:!1,inputTransformFn:e=>e,outputTransformFn:e=>e,maskFilled:new i1,patterns:{0:{pattern:new RegExp("\\d")},9:{pattern:new RegExp("\\d"),optional:!0},X:{pattern:new RegExp("\\d"),symbol:"*"},A:{pattern:new RegExp("[a-zA-Z0-9]")},S:{pattern:new RegExp("[a-zA-Z]")},U:{pattern:new RegExp("[A-Z]")},L:{pattern:new RegExp("[a-z]")},d:{pattern:new RegExp("\\d")},m:{pattern:new RegExp("\\d")},M:{pattern:new RegExp("\\d")},H:{pattern:new RegExp("\\d")},h:{pattern:new RegExp("\\d")},s:{pattern:new RegExp("\\d")}}},lE=[p.HOURS_MINUTES_SECONDS,p.HOURS_MINUTES,p.MINUTES_SECONDS],hE=[p.PERCENT,p.HOURS_HOUR,p.SECONDS,p.MINUTES,p.SEPARATOR,p.DAYS_MONTHS_YEARS,p.DAYS_MONTHS,p.DAYS,p.MONTHS],uE=(()=>{class e{_config=m(Cc);dropSpecialCharacters=this._config.dropSpecialCharacters;hiddenInput=this._config.hiddenInput;clearIfNotMatch=this._config.clearIfNotMatch;specialCharacters=this._config.specialCharacters;patterns=this._config.patterns;prefix=this._config.prefix;suffix=this._config.suffix;thousandSeparator=this._config.thousandSeparator;decimalMarker=this._config.decimalMarker;customPattern;showMaskTyped=this._config.showMaskTyped;placeHolderCharacter=this._config.placeHolderCharacter;validation=this._config.validation;separatorLimit=this._config.separatorLimit;allowNegativeNumbers=this._config.allowNegativeNumbers;leadZeroDateTime=this._config.leadZeroDateTime;leadZero=this._config.leadZero;apm=this._config.apm;inputTransformFn=this._config.inputTransformFn;outputTransformFn=this._config.outputTransformFn;keepCharacterPositions=this._config.keepCharacterPositions;instantPrefix=this._config.instantPrefix;triggerOnMaskChange=this._config.triggerOnMaskChange;_shift=new Set;plusOnePosition=!1;maskExpression="";actualValue="";showKeepCharacterExp="";shownMaskExpression=this._config.shownMaskExpression;deletedSpecialCharacter=!1;ipError;cpfCnpjError;applyMask(t,r,s=0,o=!1,i=!1,c=()=>{}){if(!r||typeof t!="string")return p.EMPTY_STRING;let a=0,l="",h=!1,d=!1,g=1,v=!1,u=t,M=s;u.slice(0,this.prefix.length)===this.prefix&&(u=u.slice(this.prefix.length,u.length)),this.suffix&&u.length>0&&(u=this.checkAndRemoveSuffix(u)),u==="("&&this.prefix&&(u="");let S=u.toString().split(p.EMPTY_STRING);if(this.allowNegativeNumbers&&u.slice(a,a+1)===p.MINUS&&(l+=u.slice(a,a+1)),r===p.IP){let s1=u.split(p.DOT);this.ipError=this._validIP(s1),r="099.099.099.099"}let V=[];for(let s1=0;s1<u.length;s1++)u[s1]?.match("\\d")&&V.push(u[s1]??p.EMPTY_STRING);if(r===p.CPF_CNPJ&&(this.cpfCnpjError=V.length!==11&&V.length!==14,V.length>11?r="00.000.000/0000-00":r="000.000.000-00"),r.startsWith(p.PERCENT)){if(u.match("[a-z]|[A-Z]")||u.match(/[-!$%^&*()_+|~=`{}\[\]:";'<>?,\/.]/)&&!i){u=this._stripToDecimal(u);let W1=this.getPrecision(r);u=this.checkInputPrecision(u,W1,this.decimalMarker)}let s1=typeof this.decimalMarker=="string"?this.decimalMarker:p.DOT;if(u.indexOf(s1)>0&&!this.percentage(u.substring(0,u.indexOf(s1)))){let W1=u.substring(0,u.indexOf(s1)-1);this.allowNegativeNumbers&&u.slice(a,a+1)===p.MINUS&&!i&&(W1=u.substring(0,u.indexOf(s1))),u=`${W1}${u.substring(u.indexOf(s1),u.length)}`}let A="";this.allowNegativeNumbers&&u.slice(a,a+1)===p.MINUS?A=`${p.MINUS}${u.slice(a+1,a+u.length)}`:A=u,this.percentage(A)?l=this._splitPercentZero(u):l=this._splitPercentZero(u.substring(0,u.length-1))}else if(r.startsWith(p.SEPARATOR)){(u.match("[w\u0430-\u044F\u0410-\u042F]")||u.match("[\u0401\u0451\u0410-\u044F]")||u.match("[a-z]|[A-Z]")||u.match(/[-@#!$%\\^&*()_£¬'+|~=`{}\]:";<>.?/]/)||u.match("[^A-Za-z0-9,]"))&&(u=this._stripToDecimal(u));let s1=this.getPrecision(r),A=this.decimalMarker;if(Array.isArray(this.decimalMarker)&&(this.actualValue.includes(this.decimalMarker[0])||this.actualValue.includes(this.decimalMarker[1])?A=this.actualValue.includes(this.decimalMarker[0])?this.decimalMarker[0]:this.decimalMarker[1]:A=this.decimalMarker.find(g1=>g1!==this.thousandSeparator)),i){let{decimalMarkerIndex:g1,nonZeroIndex:E1}=this._findFirstNonZeroAndDecimalIndex(u,A),ft=u[0]===p.MINUS,qo=u[0]===p.NUMBER_ZERO,Zo=u[0]===A,cs=u[1]===A;(Zo&&!E1||ft&&cs&&!E1||qo&&!g1&&!E1)&&(u=p.NUMBER_ZERO),g1&&E1&&ft&&M===1&&(g1<E1||g1>E1)&&(u=p.MINUS+u.slice(E1)),!g1&&E1&&u.length>E1&&(u=ft?p.MINUS+u.slice(E1):u.slice(E1)),g1&&E1&&M===0&&(g1<E1&&(u=u.slice(g1-1)),g1>E1&&(u=u.slice(E1)))}s1===0?u=this.allowNegativeNumbers?u.length>2&&u[0]===p.MINUS&&u[1]===p.NUMBER_ZERO&&u[2]!==this.thousandSeparator&&u[2]!==p.COMMA&&u[2]!==p.DOT?"-"+u.slice(2,u.length):u[0]===p.NUMBER_ZERO&&u.length>1&&u[1]!==this.thousandSeparator&&u[1]!==p.COMMA&&u[1]!==p.DOT?u.slice(1,u.length):u:u.length>1&&u[0]===p.NUMBER_ZERO&&u[1]!==this.thousandSeparator&&u[1]!==p.COMMA&&u[1]!==p.DOT?u.slice(1,u.length):u:(u[0]===A&&u.length>1&&!i&&(u=p.NUMBER_ZERO+u.slice(0,u.length+1),this.plusOnePosition=!0),u[0]===p.NUMBER_ZERO&&u[1]!==A&&u[1]!==this.thousandSeparator&&!i&&(u=u.length>1?u.slice(0,1)+A+u.slice(1,u.length+1):u,this.plusOnePosition=!0),this.allowNegativeNumbers&&!i&&u[0]===p.MINUS&&(u[1]===A||u[1]===p.NUMBER_ZERO)&&(u=u[1]===A&&u.length>2?u.slice(0,1)+p.NUMBER_ZERO+u.slice(1,u.length):u[1]===p.NUMBER_ZERO&&u.length>2&&u[2]!==A?u.slice(0,2)+A+u.slice(2,u.length):u,this.plusOnePosition=!0));let W1=this._charToRegExpExpression(this.thousandSeparator),B1='@#!$%^&*()_+|~=`{}\\[\\]:\\s,\\.";<>?\\/'.replace(W1,"");if(Array.isArray(this.decimalMarker))for(let g1 of this.decimalMarker)B1=B1.replace(this._charToRegExpExpression(g1),p.EMPTY_STRING);else B1=B1.replace(this._charToRegExpExpression(this.decimalMarker),"");let ge=new RegExp("["+B1+"]");u.match(ge)&&(u=u.substring(0,u.length-1)),u=this.checkInputPrecision(u,s1,this.decimalMarker);let gt=u.replace(new RegExp(W1,"g"),"");l=this._formatWithSeparators(gt,this.thousandSeparator,this.decimalMarker,s1);let Rc=l.indexOf(p.COMMA)-u.indexOf(p.COMMA),We=l.length-u.length,Go=i&&l.length<t.length&&this.separatorLimit;if((l[M-1]===this.thousandSeparator||l[M-this.prefix.length])&&this.prefix&&i)M=M-1;else if(We>0&&l[M]!==this.thousandSeparator||Go){d=!0;let g1=0;do this._shift.add(M+g1),g1++;while(g1<We)}else l[M-1]===this.thousandSeparator||We===-4||We===-3||l[M]===this.thousandSeparator?(this._shift.clear(),this._shift.add(M-1)):Rc!==0&&M>0&&!(l.indexOf(p.COMMA)>=M&&M>3)||!(l.indexOf(p.DOT)>=M&&M>3)&&We<=0?(this._shift.clear(),d=!0,g=We,M+=We,this._shift.add(M)):this._shift.clear()}else for(let s1=0,A=S[0];s1<S.length&&a!==r.length;s1++,A=S[s1]??p.EMPTY_STRING){let W1=p.SYMBOL_STAR in this.patterns;if(this._checkSymbolMask(A,r[a]??p.EMPTY_STRING)&&r[a+1]===p.SYMBOL_QUESTION)l+=A,a+=2;else if(r[a+1]===p.SYMBOL_STAR&&h&&this._checkSymbolMask(A,r[a+2]??p.EMPTY_STRING))l+=A,a+=3,h=!1;else if(this._checkSymbolMask(A,r[a]??p.EMPTY_STRING)&&r[a+1]===p.SYMBOL_STAR&&!W1)l+=A,h=!0;else if(r[a+1]===p.SYMBOL_QUESTION&&this._checkSymbolMask(A,r[a+2]??p.EMPTY_STRING))l+=A,a+=3;else if(this._checkSymbolMask(A,r[a]??p.EMPTY_STRING)){if(r[a]===p.HOURS&&(this.apm?Number(A)>9:Number(A)>2)){M=this.leadZeroDateTime?M:M+1,a+=1,this._shiftStep(a),s1--,this.leadZeroDateTime&&(l+="0");continue}if(r[a]===p.HOUR&&(this.apm?l.length===1&&Number(l)>1||l==="1"&&Number(A)>2||u.slice(a-1,a).length===1&&Number(u.slice(a-1,a))>2||u.slice(a-1,a)==="1"&&Number(A)>2:l==="2"&&Number(A)>3||(l.slice(a-2,a)==="2"||l.slice(a-3,a)==="2"||l.slice(a-4,a)==="2"||l.slice(a-1,a)==="2")&&Number(A)>3&&a>10)){M=M+1,a+=1,s1--;continue}if((r[a]===p.MINUTE||r[a]===p.SECOND)&&Number(A)>5){M=this.leadZeroDateTime?M:M+1,a+=1,this._shiftStep(a),s1--,this.leadZeroDateTime&&(l+="0");continue}let B1=31,ge=u[a],gt=u[a+1],Rc=u[a+2],We=u[a-1],Go=u[a-2],g1=u.slice(a-3,a-1),E1=u.slice(a-1,a+1),ft=u.slice(a,a+2),qo=u.slice(a-2,a);if(r[a]===p.DAY){let Zo=r.slice(0,2)===p.MONTHS,cs=r.slice(0,2)===p.MONTHS&&this.specialCharacters.includes(Go);if(Number(A)>3&&this.leadZeroDateTime||!Zo&&(Number(ft)>B1||Number(E1)>B1||this.specialCharacters.includes(gt))||(cs?Number(E1)>B1||!this.specialCharacters.includes(ge)&&this.specialCharacters.includes(Rc)||this.specialCharacters.includes(ge):Number(ft)>B1||this.specialCharacters.includes(gt)&&!i)){M=this.leadZeroDateTime?M:M+1,a+=1,this._shiftStep(a),s1--,this.leadZeroDateTime&&(l+="0");continue}}if(r[a]===p.MONTH){let cs=a===0&&(Number(A)>2||Number(ft)>12||this.specialCharacters.includes(gt)&&!i),Vp=r.slice(a+2,a+3),Ap=g1.includes(Vp)&&r.includes("d0")&&(this.specialCharacters.includes(Go)&&Number(E1)>12&&!this.specialCharacters.includes(ge)||this.specialCharacters.includes(ge)),Lp=Number(g1)<=B1&&!this.specialCharacters.includes(g1)&&this.specialCharacters.includes(We)&&(Number(ft)>12||this.specialCharacters.includes(gt)),Hp=Number(ft)>12&&a===5||this.specialCharacters.includes(gt)&&a===5,Tp=Number(g1)>B1&&!this.specialCharacters.includes(g1)&&!this.specialCharacters.includes(qo)&&Number(qo)>12&&r.includes("d0"),kp=Number(g1)<=B1&&!this.specialCharacters.includes(g1)&&!this.specialCharacters.includes(We)&&Number(E1)>12;if(Number(A)>1&&this.leadZeroDateTime||cs||Ap||kp||Tp||Lp||Hp&&!this.leadZeroDateTime){M=this.leadZeroDateTime?M:M+1,a+=1,this._shiftStep(a),s1--,this.leadZeroDateTime&&(l+="0");continue}}l+=A,a++}else this.specialCharacters.includes(A)&&r[a]===A?(l+=A,a++):this.specialCharacters.indexOf(r[a]??p.EMPTY_STRING)!==-1?(l+=r[a],a++,this._shiftStep(a),s1--):r[a]===p.NUMBER_NINE&&this.showMaskTyped?this._shiftStep(a):this.patterns[r[a]??p.EMPTY_STRING]&&this.patterns[r[a]??p.EMPTY_STRING]?.optional?(S[a]&&r!=="099.099.099.099"&&r!=="000.000.000-00"&&r!=="00.000.000/0000-00"&&!r.match(/^9+\.0+$/)&&!this.patterns[r[a]??p.EMPTY_STRING]?.optional&&(l+=S[a]),r.includes(p.NUMBER_NINE+p.SYMBOL_STAR)&&r.includes(p.NUMBER_ZERO+p.SYMBOL_STAR)&&a++,a++,s1--):this.maskExpression[a+1]===p.SYMBOL_STAR&&this._findSpecialChar(this.maskExpression[a+2]??p.EMPTY_STRING)&&this._findSpecialChar(A)===this.maskExpression[a+2]&&h||this.maskExpression[a+1]===p.SYMBOL_QUESTION&&this._findSpecialChar(this.maskExpression[a+2]??p.EMPTY_STRING)&&this._findSpecialChar(A)===this.maskExpression[a+2]&&h?(a+=3,l+=A):this.showMaskTyped&&this.specialCharacters.indexOf(A)<0&&A!==this.placeHolderCharacter&&this.placeHolderCharacter.length===1&&(v=!0)}l[M-1]&&l.length+1===r.length&&this.specialCharacters.indexOf(r[r.length-1]??p.EMPTY_STRING)!==-1&&(l+=r[r.length-1]);let r1=M+1;for(;this._shift.has(r1);)g++,r1++;let Z=o&&!r.startsWith(p.SEPARATOR)?a:this._shift.has(M)?g:0;v&&Z--,c(Z,d),g<0&&this._shift.clear();let I1=!1;i&&(I1=S.every(s1=>this.specialCharacters.includes(s1)));let re=`${this.prefix}${I1?p.EMPTY_STRING:l}${this.showMaskTyped?"":this.suffix}`;l.length===0&&(re=this.instantPrefix?`${this.prefix}${l}`:`${l}`);let He=u.length===1&&this.specialCharacters.includes(r[0])&&u!==r[0];if(!this._checkSymbolMask(u,r[1])&&He)return"";if(l.includes(p.MINUS)&&this.prefix&&this.allowNegativeNumbers){if(i&&l===p.MINUS)return"";re=`${p.MINUS}${this.prefix}${l.split(p.MINUS).join(p.EMPTY_STRING)}${this.suffix}`}return re}_findDropSpecialChar(t){return Array.isArray(this.dropSpecialCharacters)?this.dropSpecialCharacters.find(r=>r===t):this._findSpecialChar(t)}_findSpecialChar(t){return this.specialCharacters.find(r=>r===t)}_checkSymbolMask(t,r){return this.patterns=this.customPattern?this.customPattern:this.patterns,(this.patterns[r]?.pattern&&this.patterns[r]?.pattern.test(t))??!1}_formatWithSeparators=(t,r,s,o)=>{let i=[],c="";if(Array.isArray(s)){let g=new RegExp(s.map(v=>"[\\^$.|?*+()".indexOf(v)>=0?`\\${v}`:v).join("|"));i=t.split(g),c=t.match(g)?.[0]??p.EMPTY_STRING}else i=t.split(s),c=s;let a=i.length>1?`${c}${i[1]}`:p.EMPTY_STRING,l=i[0]??p.EMPTY_STRING,h=this.separatorLimit.replace(/\s/g,p.EMPTY_STRING);h&&+h&&(l[0]===p.MINUS?l=`-${l.slice(1,l.length).slice(0,h.length)}`:l=l.slice(0,h.length));let d=/(\d+)(\d{3})/;for(;r&&d.test(l);)l=l.replace(d,"$1"+r+"$2");return typeof o>"u"?l+a:o===0?l:l+a.substring(0,o+1)};percentage=t=>{let r=t.replace(",","."),s=Number(this.allowNegativeNumbers&&t.includes(p.MINUS)?r.slice(1,t.length):r);return!isNaN(s)&&s>=0&&s<=100};getPrecision=t=>{let r=t.split(p.DOT);return r.length>1?Number(r[r.length-1]):1/0};checkAndRemoveSuffix=t=>{for(let r=this.suffix?.length-1;r>=0;r--){let s=this.suffix.substring(r,this.suffix?.length);if(t.includes(s)&&r!==this.suffix?.length-1&&(r-1<0||!t.includes(this.suffix.substring(r-1,this.suffix?.length))))return t.replace(s,p.EMPTY_STRING)}return t};checkInputPrecision=(t,r,s)=>{let o=t,i=s;if(r<1/0){if(Array.isArray(i)){let h=i.find(d=>d!==this.thousandSeparator);i=h||i[0]}let c=new RegExp(this._charToRegExpExpression(i)+`\\d{${r}}.*$`),a=o.match(c),l=(a&&a[0]?.length)??0;if(l-1>r){let h=l-1-r;o=o.substring(0,o.length-h)}r===0&&this._compareOrIncludes(o[o.length-1],i,this.thousandSeparator)&&(o=o.substring(0,o.length-1))}return o};_stripToDecimal(t){return t.split(p.EMPTY_STRING).filter((r,s)=>{let o=typeof this.decimalMarker=="string"?r===this.decimalMarker:this.decimalMarker.includes(r);return r.match("^-?\\d")||r===this.thousandSeparator||o||r===p.MINUS&&s===0&&this.allowNegativeNumbers}).join(p.EMPTY_STRING)}_charToRegExpExpression(t){return t&&(t===" "?"\\s":"[\\^$.|?*+()".indexOf(t)>=0?`\\${t}`:t)}_shiftStep(t){this._shift.add(t+this.prefix.length||0)}_compareOrIncludes(t,r,s){return Array.isArray(r)?r.filter(o=>o!==s).includes(t):t===r}_validIP(t){return!(t.length===4&&!t.some((r,s)=>t.length!==s+1?r===p.EMPTY_STRING||Number(r)>255:r===p.EMPTY_STRING||Number(r.substring(0,3))>255))}_splitPercentZero(t){if(t===p.MINUS&&this.allowNegativeNumbers)return t;let r=typeof this.decimalMarker=="string"?t.indexOf(this.decimalMarker):t.indexOf(p.DOT),s=this.allowNegativeNumbers&&t.includes(p.MINUS)?"-":"";if(r===-1){let o=parseInt(s?t.slice(1,t.length):t,10);return isNaN(o)?p.EMPTY_STRING:`${s}${o}`}else{let o=parseInt(t.replace("-","").substring(0,r),10),i=t.substring(r+1),c=isNaN(o)?"":o.toString(),a=typeof this.decimalMarker=="string"?this.decimalMarker:p.DOT;return c===p.EMPTY_STRING?p.EMPTY_STRING:`${s}${c}${a}${i}`}}_findFirstNonZeroAndDecimalIndex(t,r){let s=null,o=null;for(let i=0;i<t.length;i++){let c=t[i];if(c===r&&s===null&&(s=i),c&&c>="1"&&c<="9"&&o===null&&(o=i),s!==null&&o!==null)break}return{decimalMarkerIndex:s,nonZeroIndex:o}}static \u0275fac=function(r){return new(r||e)};static \u0275prov=I({token:e,factory:e.\u0275fac})}return e})(),I3=(()=>{class e extends uE{isNumberValue=!1;maskIsShown="";selStart=null;selEnd=null;maskChanged=!1;maskExpressionArray=[];previousValue="";currentValue="";writingValue=!1;_emitValue=!1;_start;_end;onChange=t=>{};_elementRef=m(T1,{optional:!0});document=m(S1);_config=m(Cc);_renderer=m(we,{optional:!0});applyMask(t,r,s=0,o=!1,i=!1,c=()=>{}){if(!r)return t!==this.actualValue?this.actualValue:t;if(this.maskIsShown=this.showMaskTyped?this.showMaskInInput():p.EMPTY_STRING,this.maskExpression===p.IP&&this.showMaskTyped&&(this.maskIsShown=this.showMaskInInput(t||p.HASH)),this.maskExpression===p.CPF_CNPJ&&this.showMaskTyped&&(this.maskIsShown=this.showMaskInInput(t||p.HASH)),!t&&this.showMaskTyped)return this.formControlResult(this.prefix),`${this.prefix}${this.maskIsShown}${this.suffix}`;let a=t&&typeof this.selStart=="number"?t[this.selStart]??p.EMPTY_STRING:p.EMPTY_STRING,l="",h=s;if((this.hiddenInput||t&&t.indexOf(p.SYMBOL_STAR)>=0)&&!this.writingValue){let u=t&&t.length===1?t.split(p.EMPTY_STRING):this.actualValue.split(p.EMPTY_STRING);i&&(u=u.slice(0,s).concat(u.slice(s+1))),this.showMaskTyped&&(t=this.removeMask(t),u=this.removeMask(u.join("")).split(p.EMPTY_STRING)),typeof this.selStart=="object"&&typeof this.selEnd=="object"?(this.selStart=Number(this.selStart),this.selEnd=Number(this.selEnd)):t!==p.EMPTY_STRING&&u.length?typeof this.selStart=="number"&&typeof this.selEnd=="number"&&(t.length>u.length?u.splice(this.selStart,0,a):t.length<u.length&&(u.length-t.length===1?i?u.splice(this.selStart-1,1):u.splice(t.length-1,1):u.splice(this.selStart,this.selEnd-this.selStart))):u=[],this.showMaskTyped&&!this.hiddenInput&&(l=this.removeMask(t)),this.actualValue.length?u.length<t.length?l=this.shiftTypedSymbols(u.join(p.EMPTY_STRING)):u.length===t.length?l=u.join(p.EMPTY_STRING):l=t:l=t}if(o&&(this.hiddenInput||!this.hiddenInput)&&(l=t),i&&this.specialCharacters.indexOf(this.maskExpression[h]??p.EMPTY_STRING)!==-1&&this.showMaskTyped&&!this.prefix&&(l=this.currentValue),this.deletedSpecialCharacter&&h&&(this.specialCharacters.includes(this.actualValue.slice(h,h+1))?h=h+1:r.slice(h-1,h+1)!==p.MONTHS&&(h=h-2),this.deletedSpecialCharacter=!1),this.showMaskTyped&&this.placeHolderCharacter.length===1&&!this.leadZeroDateTime&&(l=this.removeMask(l)),this.maskChanged?l=t:l=l&&l.length?l:t,this.showMaskTyped&&this.keepCharacterPositions&&this.actualValue&&!o&&!this.writingValue){let u=this.dropSpecialCharacters?this.removeMask(this.actualValue):this.actualValue;return this.formControlResult(u),this.actualValue?this.actualValue:`${this.prefix}${this.maskIsShown}${this.suffix}`}let d=super.applyMask(l,r,h,o,i,c);if(this.actualValue=this.getActualValue(d),this.thousandSeparator===p.DOT&&this.decimalMarker===p.DOT&&(this.decimalMarker=p.COMMA),this.maskExpression.startsWith(p.SEPARATOR)&&this.dropSpecialCharacters===!0&&(this.specialCharacters=this.specialCharacters.filter(u=>!this._compareOrIncludes(u,this.decimalMarker,this.thousandSeparator))),(d||d==="")&&(this.previousValue=this.currentValue,this.currentValue=d,this._emitValue=this.previousValue!==this.currentValue||l!==this.currentValue&&this.writingValue||this.previousValue===this.currentValue&&o),this._emitValue&&this.formControlResult(d),!this.showMaskTyped||this.showMaskTyped&&this.hiddenInput)return this.hiddenInput?`${this.hideInput(d,this.maskExpression)}${this.maskIsShown.slice(d.length)}`:d;let g=d.length,v=`${this.prefix}${this.maskIsShown}${this.suffix}`;if(this.maskExpression.includes(p.HOURS)){let u=this._numberSkipedSymbols(d);return`${d}${v.slice(g+u)}`}else if(this.maskExpression===p.IP||this.maskExpression===p.CPF_CNPJ)return`${d}${v}`;return`${d}${v.slice(g)}`}_numberSkipedSymbols(t){let r=/(^|\D)(\d\D)/g,s=r.exec(t),o=0;for(;s!=null;)o+=1,s=r.exec(t);return o}applyValueChanges(t,r,s,o=()=>{}){let i=this._elementRef?.nativeElement;i&&(i.value=this.applyMask(i.value,this.maskExpression,t,r,s,o),i!==this._getActiveElement()&&this.clearIfNotMatchFn())}hideInput(t,r){return t.split(p.EMPTY_STRING).map((s,o)=>this.patterns&&this.patterns[r[o]??p.EMPTY_STRING]&&this.patterns[r[o]??p.EMPTY_STRING]?.symbol?this.patterns[r[o]??p.EMPTY_STRING]?.symbol:s).join(p.EMPTY_STRING)}getActualValue(t){let r=t.split(p.EMPTY_STRING).filter((s,o)=>{let i=this.maskExpression[o]??p.EMPTY_STRING;return this._checkSymbolMask(s,i)||this.specialCharacters.includes(i)&&s===i});return r.join(p.EMPTY_STRING)===t?r.join(p.EMPTY_STRING):t}shiftTypedSymbols(t){let r="";return(t&&t.split(p.EMPTY_STRING).map((o,i)=>{if(this.specialCharacters.includes(t[i+1]??p.EMPTY_STRING)&&t[i+1]!==this.maskExpression[i+1])return r=o,t[i+1];if(r.length){let c=r;return r=p.EMPTY_STRING,c}return o})||[]).join(p.EMPTY_STRING)}numberToString(t){return!t&&t!==0||this.maskExpression.startsWith(p.SEPARATOR)&&(this.leadZero||!this.dropSpecialCharacters)||this.maskExpression.startsWith(p.SEPARATOR)&&this.separatorLimit.length>14&&String(t).length>14?String(t):Number(t).toLocaleString("fullwide",{useGrouping:!1,maximumFractionDigits:20}).replace(`/${p.MINUS}/`,p.MINUS)}showMaskInInput(t){if(this.showMaskTyped&&this.shownMaskExpression){if(this.maskExpression.length!==this.shownMaskExpression.length)throw new Error("Mask expression must match mask placeholder length");return this.shownMaskExpression}else if(this.showMaskTyped){if(t){if(this.maskExpression===p.IP)return this._checkForIp(t);if(this.maskExpression===p.CPF_CNPJ)return this._checkForCpfCnpj(t)}return this.placeHolderCharacter.length===this.maskExpression.length?this.placeHolderCharacter:this.maskExpression.replace(/\w/g,this.placeHolderCharacter)}return""}clearIfNotMatchFn(){let t=this._elementRef?.nativeElement;t&&this.clearIfNotMatch&&this.prefix.length+this.maskExpression.length+this.suffix.length!==t.value.replace(this.placeHolderCharacter,p.EMPTY_STRING).length&&(this.formElementProperty=["value",p.EMPTY_STRING],this.applyMask("",this.maskExpression))}set formElementProperty([t,r]){!this._renderer||!this._elementRef||Promise.resolve().then(()=>this._renderer?.setProperty(this._elementRef?.nativeElement,t,r))}checkDropSpecialCharAmount(t){return t.split(p.EMPTY_STRING).filter(s=>this._findDropSpecialChar(s)).length}removeMask(t){return this._removeMask(this._removeSuffix(this._removePrefix(t)),this.specialCharacters.concat("_").concat(this.placeHolderCharacter))}_checkForIp(t){if(t===p.HASH)return`${this.placeHolderCharacter}.${this.placeHolderCharacter}.${this.placeHolderCharacter}.${this.placeHolderCharacter}`;let r=[];for(let s=0;s<t.length;s++){let o=t[s]??p.EMPTY_STRING;o&&o.match("\\d")&&r.push(o)}return r.length<=3?`${this.placeHolderCharacter}.${this.placeHolderCharacter}.${this.placeHolderCharacter}`:r.length>3&&r.length<=6?`${this.placeHolderCharacter}.${this.placeHolderCharacter}`:r.length>6&&r.length<=9?this.placeHolderCharacter:(r.length>9&&r.length<=12,"")}_checkForCpfCnpj(t){let r=`${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}.${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}.${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}-${this.placeHolderCharacter}${this.placeHolderCharacter}`,s=`${this.placeHolderCharacter}${this.placeHolderCharacter}.${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}.${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}/${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}-${this.placeHolderCharacter}${this.placeHolderCharacter}`;if(t===p.HASH)return r;let o=[];for(let i=0;i<t.length;i++){let c=t[i]??p.EMPTY_STRING;c&&c.match("\\d")&&o.push(c)}return o.length<=3?r.slice(o.length,r.length):o.length>3&&o.length<=6?r.slice(o.length+1,r.length):o.length>6&&o.length<=9?r.slice(o.length+2,r.length):o.length>9&&o.length<11?r.slice(o.length+3,r.length):o.length===11?"":o.length===12?t.length===17?s.slice(16,s.length):s.slice(15,s.length):o.length>12&&o.length<=14?s.slice(o.length+4,s.length):""}_getActiveElement(t=this.document){let r=t?.activeElement?.shadowRoot;return r?.activeElement?this._getActiveElement(r):t.activeElement}formControlResult(t){let r=this.outputTransformFn?this.outputTransformFn:s=>s;this.writingValue=!1,this.maskChanged=!1,Array.isArray(this.dropSpecialCharacters)?this.onChange(r(this._toNumber(this._checkSymbols(this._removeMask(this._removeSuffix(this._removePrefix(t)),this.dropSpecialCharacters))))):this.dropSpecialCharacters||!this.dropSpecialCharacters&&this.prefix===t?this.onChange(r(this._toNumber(this._checkSymbols(this._removeSuffix(this._removePrefix(t)))))):this.onChange(r(this._toNumber(t)))}_toNumber(t){if(!this.isNumberValue||t===p.EMPTY_STRING||this.maskExpression.startsWith(p.SEPARATOR)&&(this.leadZero||!this.dropSpecialCharacters))return t;if(String(t).length>14&&this.maskExpression.startsWith(p.SEPARATOR))return String(t);let r=Number(t);if(this.maskExpression.startsWith(p.SEPARATOR)&&Number.isNaN(r)){let s=String(t).replace(",",".");return Number(s)}return Number.isNaN(r)?t:r}_removeMask(t,r){return this.maskExpression.startsWith(p.PERCENT)&&t.includes(p.DOT)?t:t&&t.replace(this._regExpForRemove(r),p.EMPTY_STRING)}_removePrefix(t){return this.prefix?t&&t.replace(this.prefix,p.EMPTY_STRING):t}_removeSuffix(t){return this.suffix?t&&t.replace(this.suffix,p.EMPTY_STRING):t}_retrieveSeparatorValue(t){let r=Array.isArray(this.dropSpecialCharacters)?this.specialCharacters.filter(s=>this.dropSpecialCharacters.includes(s)):this.specialCharacters;return!this.deletedSpecialCharacter&&this._checkPatternForSpace()&&t.includes(p.WHITE_SPACE)&&this.maskExpression.includes(p.SYMBOL_STAR)&&(r=r.filter(s=>s!==p.WHITE_SPACE)),this._removeMask(t,r)}_regExpForRemove(t){return new RegExp(t.map(r=>`\\${r}`).join("|"),"gi")}_replaceDecimalMarkerToDot(t){let r=Array.isArray(this.decimalMarker)?this.decimalMarker:[this.decimalMarker];return t.replace(this._regExpForRemove(r),p.DOT)}_checkSymbols(t){let r=t;if(r===p.EMPTY_STRING)return r;this.maskExpression.startsWith(p.PERCENT)&&this.decimalMarker===p.COMMA&&(r=r.replace(p.COMMA,p.DOT));let s=this._retrieveSeparatorPrecision(this.maskExpression),o=this.specialCharacters.length===0?this._retrieveSeparatorValue(r):this._replaceDecimalMarkerToDot(this._retrieveSeparatorValue(r));return this.isNumberValue&&s?r===this.decimalMarker?null:o.length>14?String(o):this._checkPrecision(this.maskExpression,o):o}_checkPatternForSpace(){for(let t in this.patterns)if(this.patterns[t]&&this.patterns[t]?.hasOwnProperty("pattern")){let r=this.patterns[t]?.pattern.toString(),s=this.patterns[t]?.pattern;if(r?.includes(p.WHITE_SPACE)&&s?.test(this.maskExpression))return!0}return!1}_retrieveSeparatorPrecision(t){let r=t.match(new RegExp("^separator\\.([^d]*)"));return r?Number(r[1]):null}_checkPrecision(t,r){let s=this.getPrecision(t),o=r;return t.indexOf("2")>0||this.leadZero&&Number(s)>0?(this.decimalMarker===p.COMMA&&this.leadZero&&(o=o.replace(",",".")),this.leadZero?Number(o).toFixed(Number(s)):Number(o).toFixed(2)):this.numberToString(o)}_repeatPatternSymbols(t){return t.match(/{[0-9]+}/)&&t.split(p.EMPTY_STRING).reduce((r,s,o)=>{if(this._start=s===p.CURLY_BRACKETS_LEFT?o:this._start,s!==p.CURLY_BRACKETS_RIGHT)return this._findSpecialChar(s)?r+s:r;this._end=o;let i=Number(t.slice(this._start+1,this._end)),c=new Array(i+1).join(t[this._start-1]);if(t.slice(0,this._start).length>1&&t.includes(p.LETTER_S)){let a=t.slice(0,this._start-1);return a.includes(p.CURLY_BRACKETS_LEFT)?r+c:a+r+c}else return r+c},"")||t}currentLocaleDecimalMarker(){return 1.1.toLocaleString().substring(1,2)}static \u0275fac=(()=>{let t;return function(s){return(t||(t=Rt(e)))(s||e)}})();static \u0275prov=I({token:e,factory:e.\u0275fac})}return e})();function dE(){let e=m(Ep),n=m(Ip);return n instanceof Function?z(z({},e),n()):z(z({},e),n)}function bp(e){return[{provide:Ip,useValue:e},{provide:Ep,useValue:aE},{provide:Cc,useFactory:dE},I3]}var Dp=(()=>{class e{mask=o1("");specialCharacters=o1([]);patterns=o1({});prefix=o1("");suffix=o1("");thousandSeparator=o1(" ");decimalMarker=o1(".");dropSpecialCharacters=o1(null);hiddenInput=o1(null);showMaskTyped=o1(null);placeHolderCharacter=o1(null);shownMaskExpression=o1(null);clearIfNotMatch=o1(null);validation=o1(null);separatorLimit=o1("");allowNegativeNumbers=o1(null);leadZeroDateTime=o1(null);leadZero=o1(null);triggerOnMaskChange=o1(null);apm=o1(null);inputTransformFn=o1(null);outputTransformFn=o1(null);keepCharacterPositions=o1(null);instantPrefix=o1(null);maskFilled=ru();_maskValue=x1("");_inputValue=x1("");_position=x1(null);_code=x1("");_maskExpressionArray=x1([]);_justPasted=x1(!1);_isFocused=x1(!1);_isComposing=x1(!1);_maskService=m(I3,{self:!0});document=m(S1);_config=m(Cc);onChange=t=>{};onTouch=()=>{};ngOnChanges(t){let{mask:r,specialCharacters:s,patterns:o,prefix:i,suffix:c,thousandSeparator:a,decimalMarker:l,dropSpecialCharacters:h,hiddenInput:d,showMaskTyped:g,placeHolderCharacter:v,shownMaskExpression:u,clearIfNotMatch:M,validation:S,separatorLimit:V,allowNegativeNumbers:r1,leadZeroDateTime:Z,leadZero:I1,triggerOnMaskChange:re,apm:He,inputTransformFn:s1,outputTransformFn:A,keepCharacterPositions:W1,instantPrefix:B1}=t;if(r&&(r.currentValue!==r.previousValue&&!r.firstChange&&(this._maskService.maskChanged=!0),r.currentValue&&r.currentValue.split(p.OR).length>1?(this._maskExpressionArray.set(r.currentValue.split(p.OR).sort((ge,gt)=>ge.length-gt.length)),this._setMask()):(this._maskExpressionArray.set([]),this._maskValue.set(r.currentValue||p.EMPTY_STRING),this._maskService.maskExpression=this._maskValue())),s){if(!s.currentValue||!Array.isArray(s.currentValue))return;this._maskService.specialCharacters=s.currentValue||[]}if(r1&&(this._maskService.allowNegativeNumbers=r1.currentValue,this._maskService.allowNegativeNumbers&&(this._maskService.specialCharacters=this._maskService.specialCharacters.filter(ge=>ge!==p.MINUS))),o&&o.currentValue&&(this._maskService.patterns=o.currentValue),He&&He.currentValue&&(this._maskService.apm=He.currentValue),B1&&(this._maskService.instantPrefix=B1.currentValue),i&&(this._maskService.prefix=i.currentValue),c&&(this._maskService.suffix=c.currentValue),a&&(this._maskService.thousandSeparator=a.currentValue,a.previousValue&&a.currentValue)){let ge=this._maskService.decimalMarker;a.currentValue===this._maskService.decimalMarker&&(this._maskService.decimalMarker=a.currentValue===p.COMMA?p.DOT:p.COMMA),this._maskService.dropSpecialCharacters===!0&&(this._maskService.specialCharacters=this._config.specialCharacters),typeof ge=="string"&&typeof this._maskService.decimalMarker=="string"&&(this._inputValue.set(this._inputValue().split(a.previousValue).join("").replace(ge,this._maskService.decimalMarker)),this._maskService.actualValue=this._inputValue()),this._maskService.writingValue=!0}l&&(this._maskService.decimalMarker=l.currentValue),h&&(this._maskService.dropSpecialCharacters=h.currentValue),d&&(this._maskService.hiddenInput=d.currentValue,d.previousValue===!0&&d.currentValue===!1&&this._inputValue.set(this._maskService.actualValue)),g&&(this._maskService.showMaskTyped=g.currentValue,g.previousValue===!1&&g.currentValue===!0&&this._isFocused()&&requestAnimationFrame(()=>{this._maskService._elementRef?.nativeElement.click()})),v&&(this._maskService.placeHolderCharacter=v.currentValue),u&&(this._maskService.shownMaskExpression=u.currentValue),M&&(this._maskService.clearIfNotMatch=M.currentValue),S&&(this._maskService.validation=S.currentValue),V&&(this._maskService.separatorLimit=V.currentValue),Z&&(this._maskService.leadZeroDateTime=Z.currentValue),I1&&(this._maskService.leadZero=I1.currentValue),re&&(this._maskService.triggerOnMaskChange=re.currentValue),s1&&(this._maskService.inputTransformFn=s1.currentValue),A&&(this._maskService.outputTransformFn=A.currentValue),W1&&(this._maskService.keepCharacterPositions=W1.currentValue),this._applyMask()}validate({value:t}){let r=typeof t=="number"?String(t):t,s=this._maskValue();if(!this._maskService.validation||!s)return null;if(this._maskService.ipError)return this._createValidationError(r);if(this._maskService.cpfCnpjError)return this._createValidationError(r);if(s.startsWith(p.SEPARATOR)||hE.includes(s)||this._maskService.clearIfNotMatch)return null;if(lE.includes(s))return this._validateTime(r);if(s===p.EMAIL_MASK)return!/^[^@]+@[^@]+\.[^@]+$/.test(r)&&r?this._createValidationError(r):null;if(r&&r.length>=1){let o=0;if(s.includes(p.CURLY_BRACKETS_LEFT)&&s.includes(p.CURLY_BRACKETS_RIGHT))return s.slice(s.indexOf(p.CURLY_BRACKETS_LEFT)+1,s.indexOf(p.CURLY_BRACKETS_RIGHT))===String(r.length)?null:this._createValidationError(r);if(s.startsWith(p.PERCENT))return null;for(let i in this._maskService.patterns)if(this._maskService.patterns[i]?.optional){if(s.indexOf(i)!==s.lastIndexOf(i)){let c=s.split(p.EMPTY_STRING).filter(a=>a===i).join(p.EMPTY_STRING);o+=c.length}else s.indexOf(i)!==-1&&o++;if(s.indexOf(i)!==-1&&r.length>=s.indexOf(i)||o===s.length)return null}if(s.indexOf(p.SYMBOL_STAR)>1&&r.length<s.indexOf(p.SYMBOL_STAR)||s.indexOf(p.SYMBOL_QUESTION)>1&&r.length<s.indexOf(p.SYMBOL_QUESTION))return this._createValidationError(r);if(s.indexOf(p.SYMBOL_STAR)===-1||s.indexOf(p.SYMBOL_QUESTION)===-1){let i=s.split("*"),c=this._maskService.dropSpecialCharacters?s.length-this._maskService.checkDropSpecialCharAmount(s)-o:this.prefix()?s.length+this.prefix().length-o:s.length-o;if(i.length===1&&r.length<c)return this._createValidationError(r);if(i.length>1){let a=i[i.length-1];if(a&&this._maskService.specialCharacters.includes(a[0])&&String(r).includes(a[0]??"")&&!this.dropSpecialCharacters()){let l=t.split(a[0]);return l[l.length-1].length===a.length-1?null:this._createValidationError(r)}else return(a&&!this._maskService.specialCharacters.includes(a[0])||!a||this._maskService.dropSpecialCharacters)&&r.length>=c-1?null:this._createValidationError(r)}}if(s.indexOf(p.SYMBOL_STAR)===1||s.indexOf(p.SYMBOL_QUESTION)===1)return null}return t&&this.maskFilled.emit(),null}onPaste(){this._justPasted.set(!0)}onFocus(){this._isFocused.set(!0)}onModelChange(t){(t===p.EMPTY_STRING||t===null||typeof t>"u")&&this._maskService.actualValue&&(this._maskService.actualValue=this._maskService.getActualValue(p.EMPTY_STRING))}onInput(t){if(this._isComposing())return;let r=t.target,s=this._maskService.inputTransformFn?this._maskService.inputTransformFn(r.value):r.value;if(r.type!=="number")if(typeof s=="string"||typeof s=="number"){if(r.value=s.toString(),this._inputValue.set(r.value),this._setMask(),!this._maskValue()){this.onChange(r.value);return}let o=r.selectionStart===1?r.selectionStart+this._maskService.prefix.length:r.selectionStart;if(this.showMaskTyped()&&this.keepCharacterPositions()&&this._maskService.placeHolderCharacter.length===1){let l=this.suffix(),h=this.prefix(),d=r.value.slice(o-1,o),g=h.length,v=this._maskService._checkSymbolMask(d,this._maskService.maskExpression[o-1-g]??p.EMPTY_STRING),u=this._maskService._checkSymbolMask(d,this._maskService.maskExpression[o+1-g]??p.EMPTY_STRING),M=this._maskService.selStart===this._maskService.selEnd,S=Number(this._maskService.selStart)-g,V=Number(this._maskService.selEnd)-g,r1=this._code()===p.BACKSPACE||this._code()===p.DELETE;if(r1){if(!M)this._maskService.selStart===g?this._maskService.actualValue=`${h}${this._maskService.maskIsShown.slice(0,V)}${this._inputValue().split(h).join("")}`:this._maskService.selStart===this._maskService.maskIsShown.length+g?this._maskService.actualValue=`${this._inputValue()}${this._maskService.maskIsShown.slice(S,V)}`:this._maskService.actualValue=`${h}${this._inputValue().split(h).join("").slice(0,S)}${this._maskService.maskIsShown.slice(S,V)}${this._maskService.actualValue.slice(V+g,this._maskService.maskIsShown.length+g)}${l}`;else if(!this._maskService.specialCharacters.includes(this._maskService.maskExpression.slice(o-g,o+1-g))&&M)if(S===1&&h)this._maskService.actualValue=`${h}${this._maskService.placeHolderCharacter}${r.value.split(h).join("").split(l).join("")}${l}`,o=o-1;else{let Z=r.value.substring(0,o),I1=r.value.substring(o);this._maskService.actualValue=`${Z}${this._maskService.placeHolderCharacter}${I1}`}o=this._code()===p.DELETE?o+1:o}r1||(!v&&!u&&M?o=Number(r.selectionStart)-1:this._maskService.specialCharacters.includes(r.value.slice(o,o+1))&&u&&!this._maskService.specialCharacters.includes(r.value.slice(o+1,o+2))?(this._maskService.actualValue=`${r.value.slice(0,o-1)}${r.value.slice(o,o+1)}${d}${r.value.slice(o+2)}`,o=o+1):v?r.value.length===1&&o===1?this._maskService.actualValue=`${h}${d}${this._maskService.maskIsShown.slice(1,this._maskService.maskIsShown.length)}${l}`:this._maskService.actualValue=`${r.value.slice(0,o-1)}${d}${r.value.slice(o+1).split(l).join("")}${l}`:h&&r.value.length===1&&o-g===1&&this._maskService._checkSymbolMask(r.value,this._maskService.maskExpression[o-1-g]??p.EMPTY_STRING)&&(this._maskService.actualValue=`${h}${r.value}${this._maskService.maskIsShown.slice(1,this._maskService.maskIsShown.length)}${l}`))}let i=0,c=!1;if(this._code()===p.DELETE&&p.SEPARATOR&&(this._maskService.deletedSpecialCharacter=!0),this._inputValue().length>=this._maskService.maskExpression.length-1&&this._code()!==p.BACKSPACE&&this._maskService.maskExpression===p.DAYS_MONTHS_YEARS&&o<10){let l=this._inputValue().slice(o-1,o);r.value=this._inputValue().slice(0,o-1)+l+this._inputValue().slice(o+1)}if(this._maskService.maskExpression===p.DAYS_MONTHS_YEARS&&this.leadZeroDateTime()&&(o<3&&Number(r.value)>31&&Number(r.value)<40||o===5&&Number(r.value.slice(3,5))>12)&&(o=o+2),this._maskService.maskExpression===p.HOURS_MINUTES_SECONDS&&this.apm()&&(this._justPasted()&&r.value.slice(0,2)===p.DOUBLE_ZERO&&(r.value=r.value.slice(1,2)+r.value.slice(2,r.value.length)),r.value=r.value===p.DOUBLE_ZERO?p.NUMBER_ZERO:r.value),this._maskService.applyValueChanges(o,this._justPasted(),this._code()===p.BACKSPACE||this._code()===p.DELETE,(l,h)=>{this._justPasted.set(!1),i=l,c=h}),this._getActiveElement()!==r)return;if(this._maskService.plusOnePosition&&(o=o+1,this._maskService.plusOnePosition=!1),this._maskExpressionArray().length)if(this._code()===p.BACKSPACE){let l=this.specialCharacters().includes(this._maskService.actualValue.slice(o-1,o)),h=this._maskService.removeMask(this._inputValue())?.length===this._maskService.removeMask(this._maskService.maskExpression)?.length,d=this.specialCharacters().includes(this._maskService.actualValue.slice(o,o+1));h&&!d?o=r.selectionStart+1:o=l?o-1:o}else o=r.selectionStart===1?r.selectionStart+this._maskService.prefix.length:r.selectionStart;this._position.set(this._position()===1&&this._inputValue().length===1?null:this._position());let a=this._position()?this._inputValue().length+o+i:o+(this._code()===p.BACKSPACE&&!c?0:i);a>this._getActualInputLength()&&(a=r.value===this._maskService.decimalMarker&&r.value.length===1?this._getActualInputLength()+1:this._getActualInputLength()),a<0&&(a=0),r.setSelectionRange(a,a),this._position.set(null)}else console.warn("Ngx-mask writeValue work with string | number, your current value:",typeof s);else{if(!this._maskValue()){this.onChange(r.value);return}this._maskService.applyValueChanges(r.value.length,this._justPasted(),this._code()===p.BACKSPACE||this._code()===p.DELETE)}}onCompositionStart(){this._isComposing.set(!0)}onCompositionEnd(t){this._isComposing.set(!1),this._justPasted.set(!0),this.onInput(t)}onBlur(t){if(this._maskValue()){let r=t.target;if(this._maskService.leadZero&&r.value.length>0&&typeof this._maskService.decimalMarker=="string"){let s=this._maskService.maskExpression,o=this._maskService.decimalMarker,i=this._maskService.suffix,c=Number(this._maskService.maskExpression.slice(s.length-1,s.length));if(c>0){r.value=i?r.value.split(i).join(""):r.value;let a=r.value.split(o)[1];r.value=r.value.includes(o)?r.value+p.NUMBER_ZERO.repeat(c-a.length)+i:r.value+o+p.NUMBER_ZERO.repeat(c)+i,this._maskService.actualValue=r.value}}this._maskService.clearIfNotMatchFn()}this._isFocused.set(!1),this.onTouch()}onClick(t){if(!this._maskValue())return;let r=t.target,s=0,o=0;r!==null&&r.selectionStart!==null&&r.selectionStart===r.selectionEnd&&r.selectionStart>this._maskService.prefix.length&&t.keyCode!==38&&this._maskService.showMaskTyped&&!this.keepCharacterPositions()&&(this._maskService.maskIsShown=this._maskService.showMaskInInput(),r.setSelectionRange&&this._maskService.prefix+this._maskService.maskIsShown===r.value?(r.focus(),r.setSelectionRange(s,o)):r.selectionStart>this._maskService.actualValue.length&&r.setSelectionRange(this._maskService.actualValue.length,this._maskService.actualValue.length));let i=r&&(r.value===this._maskService.prefix?this._maskService.prefix+this._maskService.maskIsShown:r.value);if(r&&r.value!==i&&(r.value=i),r&&r.type!=="number"&&(r.selectionStart||r.selectionEnd)<=this._maskService.prefix.length){let c=this._maskService.maskExpression.match(new RegExp(`^[${this._maskService.specialCharacters.map(a=>`\\${a}`).join("")}]+`))?.[0].length||0;r.selectionStart=this._maskService.prefix.length+c;return}r&&r.selectionEnd>this._getActualInputLength()&&(r.selectionEnd=this._getActualInputLength())}onKeyDown(t){if(!this._maskValue())return;if(this._isComposing()){t.key==="Enter"&&this.onCompositionEnd(t);return}this._code.set(t.code?t.code:t.key);let r=t.target;if(this._inputValue.set(r.value),this._setMask(),r.type!=="number"){if(t.key===p.ARROW_UP&&t.preventDefault(),t.key===p.ARROW_LEFT||t.key===p.BACKSPACE||t.key===p.DELETE){if(t.key===p.BACKSPACE&&r.value.length===0&&(r.selectionStart=r.selectionEnd),t.key===p.BACKSPACE&&r.selectionStart!==0){let o=this.prefix().length,i=this.specialCharacters().length?this.specialCharacters():this._config.specialCharacters;if(o>1&&r.selectionStart<=o)r.setSelectionRange(o,r.selectionEnd);else if(this._inputValue().length!==r.selectionStart&&r.selectionStart!==1)for(;i.includes((this._inputValue()[r.selectionStart-1]??p.EMPTY_STRING).toString())&&(o>=1&&r.selectionStart>o||o===0);)r.setSelectionRange(r.selectionStart-1,r.selectionEnd)}this.checkSelectionOnDeletion(r),this._maskService.prefix.length&&r.selectionStart<=this._maskService.prefix.length&&r.selectionEnd<=this._maskService.prefix.length&&t.preventDefault();let s=r.selectionStart;t.key===p.BACKSPACE&&!r.readOnly&&s===0&&r.selectionEnd===r.value.length&&r.value.length!==0&&(this._position.set(this._maskService.prefix?this._maskService.prefix.length:0),this._maskService.applyMask(this._maskService.prefix,this._maskService.maskExpression,this._position()))}this.suffix()&&this.suffix().length>1&&this._inputValue().length-this.suffix().length<r.selectionStart?r.setSelectionRange(this._inputValue().length-this.suffix().length,this._inputValue().length):(t.code==="KeyA"&&t.ctrlKey||t.code==="KeyA"&&t.metaKey)&&(r.setSelectionRange(0,this._getActualInputLength()),t.preventDefault()),this._maskService.selStart=r.selectionStart,this._maskService.selEnd=r.selectionEnd}}writeValue(t){return f(this,null,function*(){let r=t,s=this._maskService.inputTransformFn;if(typeof r=="object"&&r!==null&&"value"in r&&("disable"in r&&this.setDisabledState(!!r.disable),r=r.value),r!==null&&(r=s?s(r):r),typeof r=="string"||typeof r=="number"||r===null||typeof r>"u"){(r===null||typeof r>"u"||r==="")&&(this._maskService.currentValue="",this._maskService.previousValue="");let o=r;if(typeof o=="number"||this._maskValue().startsWith(p.SEPARATOR)){o=String(o);let i=this._maskService.currentLocaleDecimalMarker();Array.isArray(this._maskService.decimalMarker)||(o=this._maskService.decimalMarker!==i?o.replace(i,this._maskService.decimalMarker):o),this._maskService.leadZero&&o&&this.mask()&&this.dropSpecialCharacters()!==!1&&(o=this._maskService._checkPrecision(this._maskService.maskExpression,o)),(this._maskService.decimalMarker===p.COMMA||Array.isArray(this._maskService.decimalMarker)&&this._maskService.thousandSeparator===p.DOT)&&(o=o.toString().replace(p.DOT,p.COMMA)),this.mask()?.startsWith(p.SEPARATOR)&&this.leadZero()&&requestAnimationFrame(()=>{this._maskService.applyMask(o?.toString()??"",this._maskService.maskExpression)}),this._maskService.isNumberValue=!0}(typeof o!="string"||r===null||typeof r>"u")&&(o=""),this._inputValue.set(o),this._setMask(),o&&this._maskService.maskExpression||this._maskService.maskExpression&&(this._maskService.prefix||this._maskService.showMaskTyped)?(this._maskService.writingValue=!0,this._maskService.formElementProperty=["value",this._maskService.applyMask(o,this._maskService.maskExpression)],this._maskService.writingValue=!1):this._maskService.formElementProperty=["value",o],this._inputValue.set(o)}else console.warn("Ngx-mask writeValue work with string | number, your current value:",typeof r)})}registerOnChange(t){this._maskService.onChange=this.onChange=t}registerOnTouched(t){this.onTouch=t}_getActiveElement(t=this.document){let r=t?.activeElement?.shadowRoot;return r?.activeElement?this._getActiveElement(r):t.activeElement}checkSelectionOnDeletion(t){let r=this.prefix().length,s=this.suffix().length,o=this._inputValue().length;t.selectionStart=Math.min(Math.max(r,t.selectionStart),o-s),t.selectionEnd=Math.min(Math.max(r,t.selectionEnd),o-s)}setDisabledState(t){this._maskService.formElementProperty=["disabled",t]}_applyMask(){this._maskService.maskExpression=this._maskService._repeatPatternSymbols(this._maskValue()||""),this._maskService.formElementProperty=["value",this._maskService.applyMask(this._inputValue(),this._maskService.maskExpression)]}_validateTime(t){let r=this._maskValue().split(p.EMPTY_STRING).filter(s=>s!==":").length;return t&&(+(t[t.length-1]??-1)==0&&t.length<r||t.length<=r-2)?this._createValidationError(t):null}_getActualInputLength(){return this._maskService.actualValue.length||this._maskService.actualValue.length+this._maskService.prefix.length}_createValidationError(t){return{mask:{requiredMask:this._maskValue(),actualValue:t}}}_setMask(){this._maskExpressionArray().some(t=>{if(t.split(p.EMPTY_STRING).some(s=>this._maskService.specialCharacters.includes(s))&&this._inputValue()&&this._areAllCharactersInEachStringSame(this._maskExpressionArray())||t.includes(p.CURLY_BRACKETS_LEFT)){let s=this._maskService.removeMask(this._inputValue())?.length<=this._maskService.removeMask(t)?.length;if(s){let o=t.includes(p.CURLY_BRACKETS_LEFT)?this._maskService._repeatPatternSymbols(t):t;return this._maskValue.set(o),this._maskService.maskExpression=o,s}else{let o=this._maskExpressionArray()[this._maskExpressionArray().length-1]??p.EMPTY_STRING,i=o.includes(p.CURLY_BRACKETS_LEFT)?this._maskService._repeatPatternSymbols(o):o;this._maskValue.set(i),this._maskService.maskExpression=i}}else{let s=this._maskService.removeMask(t),o=this._maskService.removeMask(this._inputValue())?.split(p.EMPTY_STRING).every((i,c)=>{let a=s.charAt(c);return this._maskService._checkSymbolMask(i,a)});if(o||this._justPasted())return this._maskValue.set(t),this._maskService.maskExpression=t,o}})}_areAllCharactersInEachStringSame(t){let r=this._maskService.specialCharacters;function s(i){let c=new RegExp(`[${r.map(a=>`\\${a}`).join("")}]`,"g");return i.replace(c,"")}return t.map(s).every(i=>new Set(i).size===1)}static \u0275fac=function(r){return new(r||e)};static \u0275dir=M1({type:e,selectors:[["input","mask",""],["textarea","mask",""]],hostBindings:function(r,s){r&1&&O("paste",function(){return s.onPaste()})("focus",function(i){return s.onFocus(i)})("ngModelChange",function(i){return s.onModelChange(i)})("input",function(i){return s.onInput(i)})("compositionstart",function(i){return s.onCompositionStart(i)})("compositionend",function(i){return s.onCompositionEnd(i)})("blur",function(i){return s.onBlur(i)})("click",function(i){return s.onClick(i)})("keydown",function(i){return s.onKeyDown(i)})},inputs:{mask:[1,"mask"],specialCharacters:[1,"specialCharacters"],patterns:[1,"patterns"],prefix:[1,"prefix"],suffix:[1,"suffix"],thousandSeparator:[1,"thousandSeparator"],decimalMarker:[1,"decimalMarker"],dropSpecialCharacters:[1,"dropSpecialCharacters"],hiddenInput:[1,"hiddenInput"],showMaskTyped:[1,"showMaskTyped"],placeHolderCharacter:[1,"placeHolderCharacter"],shownMaskExpression:[1,"shownMaskExpression"],clearIfNotMatch:[1,"clearIfNotMatch"],validation:[1,"validation"],separatorLimit:[1,"separatorLimit"],allowNegativeNumbers:[1,"allowNegativeNumbers"],leadZeroDateTime:[1,"leadZeroDateTime"],leadZero:[1,"leadZero"],triggerOnMaskChange:[1,"triggerOnMaskChange"],apm:[1,"apm"],inputTransformFn:[1,"inputTransformFn"],outputTransformFn:[1,"outputTransformFn"],keepCharacterPositions:[1,"keepCharacterPositions"],instantPrefix:[1,"instantPrefix"]},outputs:{maskFilled:"maskFilled"},exportAs:["mask","ngxMask"],features:[z1([{provide:tn,useExisting:e,multi:!0},{provide:Jr,useExisting:e,multi:!0},I3]),te]})}return e})();var Mc=class e{constructor(n){this.http=n}registerUser(n){return this.http.post(`${$1}/api/users`,{},{headers:{"x-id-token":n}})}static \u0275fac=function(t){return new(t||e)(H(ue))};static \u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})};var pE=()=>[0,1,2,3,4,5];function vE(e,n){if(e&1){let t=R1();C(0,"input",7),al("ngModelChange",function(s){a1(t);let o=D();return gd(o.phoneNumber,s)||(o.phoneNumber=s),l1(s)}),w(),C(1,"label",8),y(2,"Ingresa tu n\xFAmero de telefono para recibir el c\xF3digo de verificaci\xF3n. Ejemplo: +54 9 261 510-9127."),w(),_(3,"div",9)(4,"div",4),C(5,"button",10),O("click",function(){a1(t);let s=D();return l1(s.sendCode())}),y(6,"Continuar"),w()}if(e&2){let t=D();cl("ngModel",t.phoneNumber),q("showMaskTyped",!0)}}function gE(e,n){if(e&1){let t=R1();C(0,"input",14),O("input",function(s){let o=a1(t).$implicit,i=D(2);return l1(i.onDigitInput(s,o))})("keydown",function(s){let o=a1(t).$implicit,i=D(2);return l1(i.onDigitKeydown(s,o))})("paste",function(s){a1(t);let o=D(2);return l1(o.onPaste(s))}),w()}if(e&2){let t=n.$implicit,r=D(2);q("value",r.smsCode[t]||"")("autofocus",t===0)}}function fE(e,n){if(e&1){let t=R1();C(0,"div",11),k1(1,gE,1,2,"input",12,Ce),w(),C(3,"label",8),y(4,"Ingresa el c\xF3digo que recibiste por SMS. \xBFNecesitas cambiar el n\xFAmero de tel\xE9fono?"),C(5,"div",13),O("click",function(){a1(t);let s=D();return l1(s.step="phone")}),y(6," Haz clic aqu\xED "),w()(),_(7,"div",4),C(8,"button",10),O("click",function(){a1(t);let s=D();return l1(s.confirmCode())}),y(9,"Continuar"),w()}e&2&&(x(),N1(Pe(0,pE)))}function mE(e,n){if(e&1&&(C(0,"div",5),y(1),w()),e&2){let t=D();x(),X(t.error)}}var zc=class e{close=new i1;loginWithPhone=new i1;phoneNumber="";smsCode="";step="phone";error="";appVerifier;firebaseAuth=m(un);userService=m(Mc);verificationId="";ngOnInit(){this.appVerifier||(this.appVerifier=new jo(this.firebaseAuth.auth,"recaptcha-container",{size:"invisible",callback:n=>{}}),this.appVerifier.render())}sendCode(){if(!this.phoneNumber){this.error="Ingresa un n\xFAmero de tel\xE9fono v\xE1lido.";return}this.error="",this.firebaseAuth.signInWithPhone(`+${this.phoneNumber}`,this.appVerifier).then(n=>{this.verificationId=n,setTimeout(()=>{this.step="code"},2e3)}).catch(n=>{this.error=n.message||"Error al enviar el c\xF3digo."})}confirmCode(){return f(this,null,function*(){if(!this.smsCode){this.error="Ingresa el c\xF3digo SMS.";return}if(this.error="",!this.verificationId){this.error="No se pudo obtener el verificationId. Intenta reenviar el c\xF3digo.";return}try{if(yield this.firebaseAuth.signInWithPhoneCode(this.verificationId,this.smsCode)){let t=yield this.firebaseAuth.getIdToken();if(t){let{id:r}=yield f1(this.userService.registerUser(t));localStorage.setItem("userId",r)}this.close.emit()}}catch(n){this.error=n.message||"Error al verificar el c\xF3digo."}})}onDigitInput(n,t){let r=n.target.value.replace(/[^0-9]/g,""),s=this.smsCode.split("");if(s[t]=r,this.smsCode=s.join("").slice(0,6),r&&t<5){let o=n.target.parentElement.querySelectorAll("input")[t+1];o&&o.focus()}}onDigitKeydown(n,t){if(n.key==="Backspace"&&!n.target.value&&t>0){let r=n.target.parentElement.querySelectorAll("input")[t-1];r&&r.focus()}}onPaste(n){let r=(n.clipboardData?.getData("text")||"").replace(/\D/g,"").slice(0,6).split("");if(r.length){this.smsCode=r.join("");let s=n.target.parentElement?.querySelectorAll("input");r.forEach((o,i)=>{s&&s[i]&&(s[i].value=o)}),n.preventDefault()}}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=J({type:e,selectors:[["app-login-modal"]],outputs:{close:"close",loginWithPhone:"loginWithPhone"},features:[z1([bp()])],decls:11,vars:2,consts:[[1,"fixed","inset-0","z-50","flex","items-center","justify-center","bg-black/30","backdrop-blur-sm"],[1,"bg-white","rounded-lg","shadow-lg","p-8","w-full","max-w-xs","relative"],[1,"absolute","top-4","right-4","text-gray-400","hover:text-black",3,"click"],[1,"text-lg","font-bold","mb-6","text-center"],[1,"my-4"],[1,"text-red-500","text-xs","mt-2"],["id","recaptcha-container",1,"justify-center","flex"],["type","tel","placeholder","Tel\xE9fono","mask","00 0 000 000-0000","prefix","+",1,"w-full","outline-black","px-3","py-2","border","rounded","mb-2",3,"ngModelChange","ngModel","showMaskTyped"],[1,"block","text-xs","text-center","text-gray-500","mb-1"],["id","recaptcha-container",1,"mb-2"],[1,"w-full","px-4","py-2","rounded","bg-black","text-white","hover:bg-black","text-sm",3,"click"],[1,"flex","gap-2","justify-center","mb-2"],["maxlength","1","type","number",1,"w-9","h-9","text-center","border","rounded","text-lg","font-mono","outline-black",3,"value","autofocus"],[1,"text-xs","text-gray-500","mb-2","cursor-pointer","underline",3,"click"],["maxlength","1","type","number",1,"w-9","h-9","text-center","border","rounded","text-lg","font-mono","outline-black",3,"input","keydown","paste","value","autofocus"]],template:function(t,r){t&1&&(C(0,"div",0)(1,"div",1)(2,"button",2),O("click",function(){return r.close.emit()}),y(3,"\xD7"),w(),C(4,"h2",3),y(5,"Iniciar sesi\xF3n"),w(),_(6,"div",4),B(7,vE,7,2)(8,fE,10,1)(9,mE,2,1,"div",5),w()(),_(10,"div",6)),t&2&&(x(7),k(r.step==="phone"?7:8),x(2),k(r.error?9:-1))},dependencies:[F5,nn,rn,So,Dp],encapsulation:2})};function wE(e,n){if(e&1&&y(0),e&2){let t=D();Oe(" ",t.selectedAddress==null?null:t.selectedAddress.address," ")}}function CE(e,n){e&1&&_(0,"span",6)}function ME(e,n){if(e&1){let t=R1();C(0,"div",21)(1,"button",22),O("click",function(){a1(t);let s=D(2);return l1(s.logout())}),y(2,"Cerrar sesi\xF3n"),w()()}}function zE(e,n){if(e&1){let t=R1();C(0,"div",8)(1,"button",19),O("click",function(){a1(t);let s=D();return l1(s.toggleProfileMenu())}),_(2,"ng-icon",20),w(),B(3,ME,3,0,"div",21),w()}if(e&2){let t=D();x(3),k(t.showProfileMenu?3:-1)}}function yE(e,n){if(e&1){let t=R1();C(0,"button",19),O("click",function(){a1(t);let s=D();return l1(s.openLoginModal())}),_(1,"ng-icon",23),w()}}function xE(e,n){if(e&1&&y(0),e&2){let t=D();Oe(" ",t.cartCount<99?t.cartCount:"99"," ")}}function _E(e,n){e&1&&_(0,"span",13)}function RE(e,n){if(e&1){let t=R1();C(0,"app-login-modal",24),O("close",function(){a1(t);let s=D();return l1(s.closeLoginModal())})("loginWithGoogle",function(){a1(t);let s=D();return l1(s.loginWithGoogle())})("loginWithApple",function(){a1(t);let s=D();return l1(s.loginWithApple())}),w()}}var yc=class e{destroyRef=m(et);search=new ht("");router=m(u1);route=m(h1);cartCount=void 0;cartService=m(Ve);selectedAddress;addressService=m(lt);firebaseAuth=m(un);userPhotoURL=null;showLoginModal=!1;showProfileMenu=!1;isLoggedIn=!1;constructor(){this.search.valueChanges.pipe(Jc(1e3),Xc(),m4(this.destroyRef)).subscribe({next:t=>f(this,null,function*(){yield this.router.navigate(["/"],{queryParams:z({},t?{q:t}:{})})}),error:t=>{console.error("Error in search input:",t)}}),this.route.queryParamMap.subscribe({next:t=>{let r=t.get("q");this.search.setValue(r||"",{emitEvent:!1})},error:t=>{console.error("Error in queryParamMap:",t)}});let n=localStorage.getItem("userId");n?this.addressService.getSelectedAddress(n).subscribe({next:t=>{this.selectedAddress=t},error:t=>{this.selectedAddress={address:"A\xFAn no tenes una direcci\xF3n cargada"}}}):this.selectedAddress={address:"Inicia sesi\xF3n para ver tu direcci\xF3n"}}ngOnInit(){return f(this,null,function*(){return(yield this.cartService.countProducts()).subscribe({next:n=>{this.cartCount=n}}),this.listenToAuthState(),Promise.resolve()})}listenToAuthState(){let n=Wo();M3(n,t=>{this.userPhotoURL=t?.photoURL||null,this.isLoggedIn=!!t})}navigateToCart(){return f(this,null,function*(){yield this.router.navigate(["/cart"],{queryParams:{from:this.router.url}})})}navigateToProfileAddress(){return f(this,null,function*(){yield this.router.navigate(["/profile/address"],{queryParams:{from:this.router.url}})})}countProducts(){return f(this,null,function*(){})}loginWithGoogle(){return f(this,null,function*(){yield this.firebaseAuth.signInWithGoogle(),this.closeLoginModal()})}loginWithApple(){return f(this,null,function*(){yield this.firebaseAuth.signInWithApple(),this.closeLoginModal()})}openLoginModal(){this.showLoginModal=!0}closeLoginModal(){this.showLoginModal=!1}toggleProfileMenu(){this.showProfileMenu=!this.showProfileMenu}logout(){return f(this,null,function*(){yield this.firebaseAuth.signOut(),localStorage.removeItem("userId"),this.userPhotoURL=null,this.showProfileMenu=!1})}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=J({type:e,selectors:[["app-navbar"]],features:[z1([at({matExpandMoreRound:r6,matShoppingCartRound:h6,matSearchRound:l6,matCloseRound:m5,matPersonRound:a6,matLoginRound:o6})])],decls:24,vars:5,consts:[[1,"sticky","top-0","flex","gap-y-4","flex-col","p-4","bg-white","shadow-md","z-50"],[1,"flex","flex-row","justify-between","items-center"],[1,"flex","flex-col",3,"click"],[1,"text-sm","font-semibold","inline-block","align-bottom"],["name","matExpandMoreRound"],[1,"text-xs","text-gray-500"],[1,"inline-block","align-bottom","bg-gray-200","rounded","w-32","h-4","animate-pulse"],[1,"flex","items-center","space-x-4"],[1,"relative"],[1,"w-8","h-8","rounded-full","bg-gray-200","flex","items-center","justify-center","border","border-gray-300"],[1,"text-gray-700","flex",3,"click"],["color","black","size","24","name","matShoppingCartRound",1,"h-6","w-6"],[1,"absolute","-top-2","-right-2","bg-red-600","text-white","text-xs","font-bold","rounded-full","h-5","w-5","flex","items-center","justify-center"],[1,"inline-block","w-5","h-5","bg-gray-300","rounded-full","animate-pulse"],[1,"flex","items-center","bg-gray-100","rounded-full","px-4","py-2"],["name","matSearchRound","size","20",1,"text-gray-500"],["type","text","placeholder","Busca tus bebidas",1,"bg-transparent","outline-none","text-sm","text-gray-700","ml-2","w-full",3,"formControl"],["type","button","aria-label","Limpiar b\xFAsqueda",1,"ml-2","rounded-full","bg-gray-300","hover:bg-gray-400","flex","items-center","justify-center","focus:outline-none",3,"click"],["name","matCloseRound","size","16",1,"text-gray-600"],[1,"w-8","h-8","rounded-full","bg-gray-200","flex","items-center","justify-center","border","border-gray-300",3,"click"],["name","matPersonRound","size","20",1,"text-gray-500"],[1,"absolute","right-0","mt-2","w-32","bg-white","border","border-gray-200","rounded","shadow-lg","z-50"],[1,"block","w-full","text-left","px-4","py-2","text-sm","text-gray-700","hover:bg-gray-100",3,"click"],["name","matLoginRound","size","20",1,"text-gray-500"],[3,"close","loginWithGoogle","loginWithApple"]],template:function(t,r){t&1&&(C(0,"nav",0)(1,"div",1)(2,"div",2),O("click",function(){return r.navigateToProfileAddress()}),C(3,"span",3),y(4," Entregar en "),_(5,"ng-icon",4),w(),C(6,"span",5),B(7,wE,1,1)(8,CE,1,0,"span",6),w()(),C(9,"div",7),B(10,zE,4,1,"div",8)(11,yE,2,0,"button",9),C(12,"div",8)(13,"button",10),O("click",function(){return r.navigateToCart()}),_(14,"ng-icon",11),w(),C(15,"span",12),B(16,xE,1,1)(17,_E,1,0,"span",13),w()()()(),C(18,"div",14),_(19,"ng-icon",15)(20,"input",16),C(21,"button",17),O("click",function(){return r.search.setValue("")}),_(22,"ng-icon",18),w()()(),B(23,RE,1,0,"app-login-modal")),t&2&&(x(7),k(r.selectedAddress!=null&&r.selectedAddress.address?7:8),x(3),k(r.isLoggedIn?10:11),x(6),k(r.cartCount!==void 0?16:17),x(4),q("formControl",r.search),x(3),k(r.showLoginModal?23:-1))},dependencies:[Xt,j5,nn,rn,v4,zc],encapsulation:2})};function SE(e,n){e&1&&(C(0,"div",0),gi(),C(1,"svg",1),_(2,"path",2)(3,"path",3),w(),y(4," En barsac somos expertos en bebidas "),w())}var xc=class e{constructor(n){this.spinnerService=n;console.log("SpinnerComponent initialized")}static \u0275fac=function(t){return new(t||e)(T(Xr))};static \u0275cmp=J({type:e,selectors:[["app-spinner"]],decls:2,vars:3,consts:[[1,"spinner-overlay","flex","flex-col","gap-4"],["aria-hidden","true","viewBox","0 0 100 101","fill","none","xmlns","http://www.w3.org/2000/svg",1,"w-8","h-8","text-gray-200","animate-spin","dark:text-shadow-stone-950","fill-stone-950"],["d","M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z","fill","currentColor"],["d","M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z","fill","currentFill"]],template:function(t,r){t&1&&(B(0,SE,5,0,"div",0),j1(1,"async")),t&2&&k(U1(1,1,r.spinnerService.spinner$)?0:-1)},dependencies:[ml],styles:[".spinner-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background:#fff;display:flex;align-items:center;justify-content:center;z-index:9999}"]})};function IE(e,n){e&1&&_(0,"app-navbar")}var _c=class e{constructor(n){this.firebaseAuthService=n}title="barsac";hiddenRoutes=["/cart","/detail","/checkout","/profile/address"];router=m(u1);ngOnInit(){let n=this.firebaseAuthService.auth;S3(n).then(t=>{t&&t.user&&console.log("Signed in after redirect:",t.user)}).catch(t=>{console.error("Redirect sign-in error:",t)})}shouldShowNavbar(){return!this.hiddenRoutes.some(n=>this.router.url.includes(n))}static \u0275fac=function(t){return new(t||e)(T(un))};static \u0275cmp=J({type:e,selectors:[["app-root"]],decls:3,vars:1,template:function(t,r){t&1&&(B(0,IE,1,0,"app-navbar"),_(1,"app-spinner")(2,"router-outlet")),t&2&&k(r.shouldShowNavbar()?0:-1)},dependencies:[fo,yc,xc,g6],encapsulation:2})};Sl(_c,G6).catch(e=>console.error(e));
